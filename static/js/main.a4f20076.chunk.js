(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(64),c=a.n(l),i=(a(70),a(71),a(1)),s=a(2),o=a(5),u=a(3),p=a(4),m=a(49),d=a.n(m);a(118),a(120),a(132);a(62).config();d.a.initializeApp({apiKey:"AIzaSyDVMe_DIELNx4kvMMhF_WWYCLRaK7d42G4",authDomain:"steeldivisiondb.firebaseapp.com",databaseURL:"https://steeldivisiondb.firebaseio.com",projectId:"steeldivisiondb",storageBucket:"steeldivisiondb.appspot.com",messagingSenderId:"586133643774"});var h=d.a,E=a(12),f=a.n(E),D=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).handleChangeName=function(t){e.setState({Bug:t.target.value})},e.handleChangeDesc=function(t){e.setState({Description:t.target.value})},e.state={Bug:"insert title",Description:"insert description"},e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"renderButtons",value:function(){var e=this;console.log(this.props.Honey.ActiveTab);var t="",a="",n="",l="";if("DeckBuilder"===this.props.Honey.ActiveTab)t="Decks",a="Replays",n=function(){return e.props.Honey.setActiveTab("DeckDB")},l=function(){return e.props.Honey.setActiveTab("ReplayDB")};else if("DeckDB"===this.props.Honey.ActiveTab)t="Deck Builder",a="Replays",n=function(){return e.props.Honey.setActiveTab("DeckBuilder")},l=function(){return e.props.Honey.setActiveTab("ReplayDB")};else{if("ReplayDB"!==this.props.Honey.ActiveTab)return r.a.createElement("div",null);t="Deck Builder",a="Decks",n=function(){return e.props.Honey.setActiveTab("DeckBuilder")},l=function(){return e.props.Honey.setActiveTab("DeckDB")}}return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:n},t),r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:l},a))}},{key:"logInText",value:function(){return null===this.props.Honey.User?"Login":"Log out"}},{key:"renderBugReportButton",value:function(){var e=this;return null===this.props.Honey.User?r.a.createElement("div",null):r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){return e.bugreport.show()}},"Bug report")}},{key:"renderBugReport",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"row card-body"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h4",null,"Bug:")),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("input",{className:"form-control",value:this.state.Bug,type:"text",onChange:this.handleChangeName}))),r.a.createElement("div",{className:"row card-body"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h4",null,"Description:")),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("input",{className:"form-control",value:this.state.Description,type:"text",onChange:this.handleChangeDesc}))),r.a.createElement("div",{className:"row card-footer"},r.a.createElement("div",{className:"btn btn-block btn-primary",onClick:function(){e.props.Honey.Firebase.collection("bugreports").add({Bug:e.state.Bug,desc:e.state.Description,user:e.props.Honey.User.uid}),e.bugreport.hide()}},"Report"))))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row card-header"},r.a.createElement("div",{className:"col-xl-1"},this.renderButtons()),r.a.createElement("div",{className:"col-xl-10 panel"},r.a.createElement("h1",{align:"center"},"Steel Division Database")),r.a.createElement("div",{className:"col-xl-1"},r.a.createElement("button",{className:"btn btn-default btn-primary btn-block",onClick:this.props.Honey.logIn},this.logInText()),this.renderBugReportButton()),r.a.createElement(f.a,{hideOnOverlayClicked:!0,ref:function(t){return e.bugreport=t},title:this.renderBugReport()}))}}]),t}(n.Component),b=a(7),v=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-md-12 row card-header"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"btn btn-block btn-primary",onClick:function(){return e.props.filter("new")}},"Newest")),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"btn btn-block btn-primary",onClick:function(){return e.props.filter("score")}},"Most votes")))}}]),t}(n.Component);function k(e){for(var t="",a=0;a<e.length;a++)"A"===e.charAt(a)?t+="000000":"B"===e.charAt(a)?t+="000001":"C"===e.charAt(a)?t+="000010":"D"===e.charAt(a)?t+="000011":"E"===e.charAt(a)?t+="000100":"F"===e.charAt(a)?t+="000101":"G"===e.charAt(a)?t+="000110":"H"===e.charAt(a)?t+="000111":"I"===e.charAt(a)?t+="001000":"J"===e.charAt(a)?t+="001001":"K"===e.charAt(a)?t+="001010":"L"===e.charAt(a)?t+="001011":"M"===e.charAt(a)?t+="001100":"N"===e.charAt(a)?t+="001101":"O"===e.charAt(a)?t+="001110":"P"===e.charAt(a)?t+="001111":"Q"===e.charAt(a)?t+="010000":"R"===e.charAt(a)?t+="010001":"S"===e.charAt(a)?t+="010010":"T"===e.charAt(a)?t+="010011":"U"===e.charAt(a)?t+="010100":"V"===e.charAt(a)?t+="010101":"W"===e.charAt(a)?t+="010110":"X"===e.charAt(a)?t+="010111":"Y"===e.charAt(a)?t+="011000":"Z"===e.charAt(a)?t+="011001":"a"===e.charAt(a)?t+="011010":"b"===e.charAt(a)?t+="011011":"c"===e.charAt(a)?t+="011100":"d"===e.charAt(a)?t+="011101":"e"===e.charAt(a)?t+="011110":"f"===e.charAt(a)?t+="011111":"g"===e.charAt(a)?t+="100000":"h"===e.charAt(a)?t+="100001":"i"===e.charAt(a)?t+="100010":"j"===e.charAt(a)?t+="100011":"k"===e.charAt(a)?t+="100100":"l"===e.charAt(a)?t+="100101":"m"===e.charAt(a)?t+="100110":"n"===e.charAt(a)?t+="100111":"o"===e.charAt(a)?t+="101000":"p"===e.charAt(a)?t+="101001":"q"===e.charAt(a)?t+="101010":"r"===e.charAt(a)?t+="101011":"s"===e.charAt(a)?t+="101100":"t"===e.charAt(a)?t+="101101":"u"===e.charAt(a)?t+="101110":"v"===e.charAt(a)?t+="101111":"w"===e.charAt(a)?t+="110000":"x"===e.charAt(a)?t+="110001":"y"===e.charAt(a)?t+="110010":"z"===e.charAt(a)?t+="110011":"0"===e.charAt(a)?t+="110100":"1"===e.charAt(a)?t+="110101":"2"===e.charAt(a)?t+="110110":"3"===e.charAt(a)?t+="110111":"4"===e.charAt(a)?t+="111000":"5"===e.charAt(a)?t+="111001":"6"===e.charAt(a)?t+="111010":"7"===e.charAt(a)?t+="111011":"8"===e.charAt(a)?t+="111100":"+"===e.charAt(a)?t+="111110":"9"===e.charAt(a)?t+="111101":"/"===e.charAt(a)&&(t+="111111");return t}function y(e){return e?"True":"False"}function g(e){return e.split("/")[1]}function O(e){return null===e.AliasName?e.ClassNameForDebug.replace("Unit_",""):e.AliasName.replace("(!TUTO!)","")}function A(e){return 0===e?"A":1===e?"B":2===e?"C":void 0}function P(e){var t=e;return t=(t=(t=(t=(t=(t=(t=t.replace("ArmorDescriptor_","")).replace("Lourd","")).replace("_"," ")).replace("Blindage","AV")).replace("Infanterie","Infantry")).replace("Canon","Gun")).replace("Avion","Aircraft")}function x(e){return-1===e.indexOf("Vehicule_OpenTop")?"Closed":"Open"}function N(e){if(null===e.AirMaxspeed){var t=e.Maxspeed.replace("(","");return t+"/"+(t*e.SpeedBonusOnRoad).toFixed(0)}}function B(e){return 0===e?"none":2===e?"Light":3===e?"Heavy":3===e?"Not towable":"N/A"}function S(e,t){return"sm"===t?"img/u-sm/"+e.VisualsForInterface.toLowerCase()+".tgv.png":"md"===t?"img/u-md/"+e.VisualsForInterface.toLowerCase()+".tgv.png":"img/u/"+e.VisualsForInterface.toLowerCase()+".tgv.png"}function j(e){var t=e.PorteeMaximale.replace(") * Metre)","").replace("((",""),a=e.PorteeMaximaleTBA.replace(") * Metre)","").replace("((",""),n=e.PorteeMaximaleHA.replace(") * Metre)","").replace("((","");return t=t>n?t:n>a?n:a,Math.round(t/5)+"m"}function C(e){var t=e.replace("((","");return"AOE:"+Math.round(t.replace(") * Metre)","")/5)+"m"}var U=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.AP,t=this.props.css;return"True"===e?r.a.createElement("img",{src:"img/icone_fantassin.tgv.png",className:t,alt:"bazooka"}):"False"===e?r.a.createElement("img",{src:"img/icone_ap.tgv.png",className:t,alt:"none"}):"img-xp"===t?r.a.createElement("h6",null,"AP: ",e):r.a.createElement("h5",{className:"txt-rel-ap"},e)}}]),t}(n.PureComponent),T=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.AV,t=this.props.css;return 0===e?r.a.createElement("img",{src:"img/icone_ap.tgv.png",className:t,alt:"none"}):"img-xp"===t?r.a.createElement("h6",null,"FAV: ",e):r.a.createElement("h5",{className:"txt-rel-av"},e)}}]),t}(n.PureComponent),w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).showWeapon=function(e,t){return e.Type.includes("AP")&&(e.Power=e.Type.replace("AP_",""),e.Type="AP"),0!==e.Barrage&&1===e.Salvos&&(e.Salvos=e.Barrage),r.a.createElement("div",{className:"col-xl",key:t},r.a.createElement("h6",null,e.Type,": ",e.Mags," loads of ",e.Salvos),r.a.createElement("h6",null,"Power:",e.Power),r.a.createElement("h6",null,"Accuracy:",e.Accuracy),r.a.createElement("h6",null,"Range:",e.Range),r.a.createElement("h6",null,e.AOE))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){for(var e=this.props.Weapons,t=this.props.salves,a=[],n=0;n<e.length;n++){var l=e[n].Ammunition.Arme.replace("Arme                              = EArmeType/",""),c=t[e[n].SalvoStockIndex],i=e[n].Ammunition.NbTirParSalves,s=e[n].Ammunition.NbSalvosShootOnPosition,o=e[n].Power_ForInterface,u=void 0;u="0.0"===e[n].Ammunition.HitRollRule.Idling?e[n].Ammunition.DispersionAtMaxRange.replace(") * Metre)","").replace("((",""):e[n].Ammunition.HitRollRule.Idling;var p=j(e[n].Ammunition),m=C(e[n].Ammunition.RadiusSplashPhysicalDamages);a.push({Type:l,Mags:c,Salvos:i,Barrage:s,Power:o,Accuracy:u,Range:p,AOE:m})}return r.a.createElement(r.a.Fragment,null,a.map(this.showWeapon))}}]),t}(n.PureComponent),I=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.Experiencelevel,t=this.props.css;return 0===e?r.a.createElement("div",null):1===e?r.a.createElement("img",{src:"img/grade1.tgv.png",className:t,alt:e}):2===e?r.a.createElement("img",{src:"img/grade2.tgv.png",className:t,alt:e}):3===e?r.a.createElement("img",{src:"img/grade3.tgv.png",className:t,alt:e}):void 0}}]),t}(n.PureComponent),R=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.IsParachutist?r.a.createElement("img",{src:"img/para_wingr.tgv.png",className:"img-xp",alt:"displayPara"}):r.a.createElement("div",null)}}]),t}(n.PureComponent),H=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.Spec,t=this.props.css;return null===e?r.a.createElement("div",null):r.a.createElement("img",{src:"img/"+e.replace("Texture_Speciality_Icon_","").toLowerCase()+".tgv.png",className:t,alt:"DisplaySpecial"})}}]),t}(n.PureComponent),M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).showCard=function(e,t){return"undefined"===typeof e.Descriptor?r.a.createElement("div",{className:"col-xl-1 col-xl-10",key:t},r.a.createElement("h3",{key:t}," ",e," ")):r.a.createElement("div",{className:"col-xl-1 col-xl-10",key:t},r.a.createElement(L,{DB:a.props.DB,x:e}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return 0===this.props.Parsed.length?null:r.a.createElement("div",{className:"row card-body"},this.props.Parsed.map(this.showCard))}}]),t}(n.PureComponent),L=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).parsePrice=function(){return null===a.props.x.TransportUnit?a.props.x.Unit.ProductionPrice:a.props.x.Unit.ProductionPrice+a.props.x.TransportUnit.ProductionPrice},a.parseName=function(e){return e.TransportUnit,e.Unit.AliasName+" "+a.props.fCount(e)+"/"+e.PackAvailabilty},a.parseValidity=function(e){return a.props.fValid(e)?"":"p-err"},a.parsePrice=function(e,t){return null===t?Number(e.ProductionPrice):Number(e.ProductionPrice)+Number(t.ProductionPrice)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.x.Unit,t=this.props.x.TransportUnit;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"div-rel"},r.a.createElement("img",{src:S(e,"md"),className:"img-back",alt:"unitPortrait"}),r.a.createElement("h5",{className:"txt-price"},this.parsePrice(e,t)),r.a.createElement("h5",{className:"txt-avail"},this.props.x.UnitsPerPack),r.a.createElement("h5",{className:"txt-phase"},A(this.props.x.AvailableFromPhase)),r.a.createElement(I,{Experiencelevel:this.props.x.Experiencelevel,css:"img-rel-xp"}),r.a.createElement(H,{Spec:e.SpecialtyTexture,css:"img-rel-spec"}),r.a.createElement(U,{AP:e.APValue,css:"img-rel-ap"}),r.a.createElement(T,{AV:e.PlatingValue,css:"img-rel-ap"})),r.a.createElement(F,{x:this.props.x}))}}]),t}(n.PureComponent),F=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.x;return null===this.props.x.TransportUnit?r.a.createElement("p",null,O(e.Unit)," "):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,e.Unit.AliasName),r.a.createElement("p",null," ",e.TransportUnit.AliasName))}}]),t}(n.PureComponent),X=M,_=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getPicture=function(){return"img/d/"+a.props.SelectedDeckObject.Division.toLowerCase()+".tgv.png"},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return null===this.props.SelectedDeckObject?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md"},r.a.createElement("div",{className:"btn btn-block btn-default btn-primary",onClick:function(){return e.props.API.showDeck(null)}},"Import from Deck Builder"))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("img",{src:this.getPicture(),className:"img-big mx-auto",alt:"unitPortrait"})),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-10"},r.a.createElement("h4",{className:"text-center"},this.props.SelectedDeckObject.Name),r.a.createElement("p",null,this.props.SelectedDeckObject.Description)),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("div",{className:"btn btn-outline-secondary btn-block btn-sm",onClick:this.props.API.editDeck},r.a.createElement("p",null,"To deck builder")),r.a.createElement("div",{className:"btn btn-outline-secondary btn-block btn-sm",onClick:function(){return e.props.API.showDeck(null)}},r.a.createElement("p",null,"From deck builder")),r.a.createElement("div",{className:"btn btn-outline-secondary btn-block btn-sm",onClick:this.props.deckDetailsDialog},r.a.createElement("p",null,"Edit header"))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("p",null,this.props.SelectedDeckObject.code)))))}}]),t}(n.Component),V=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return null===this.props.DeckCode?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{API:this.props.API,SelectedDeckCode:this.props.SelectedDeckCode,SelectedDeckObject:this.props.SelectedDeckObject,showEditDialog:this.props.showEditDialog,deckDetailsDialog:this.props.deckDetailsDialog}),r.a.createElement(X,{DB:this.props.DB,Parsed:this.props.DeckUnits[0]}),r.a.createElement(X,{DB:this.props.DB,Parsed:this.props.DeckUnits[1]}),r.a.createElement(X,{DB:this.props.DB,Parsed:this.props.DeckUnits[2]}),r.a.createElement(X,{DB:this.props.DB,Parsed:this.props.DeckUnits[3]}),r.a.createElement(X,{DB:this.props.DB,Parsed:this.props.DeckUnits[4]}),r.a.createElement(X,{DB:this.props.DB,Parsed:this.props.DeckUnits[5]}),r.a.createElement(X,{DB:this.props.DB,Parsed:this.props.DeckUnits[6]}),r.a.createElement(X,{DB:this.props.DB,Parsed:this.props.DeckUnits[7]}))}}]),t}(n.Component),W=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).getPicture=function(e){return"img/d/"+e.Division.toLowerCase()+".tgv.png"},a.parseAuthor=function(e){return null!==a.props.User&&e.UID===a.props.User.uid?r.a.createElement("button",{className:"btn btn-block btn-danger",onClick:function(){return a.props.delete(e)}},r.a.createElement("p",null,"X")):r.a.createElement("div",{onClick:function(){return a.props.vote(e)}},r.a.createElement("img",{alt:"voteIcon",src:a.parseVote(e.Score.includes(null!==a.props.User&&a.props.User.uid))}))},a.makeUnitEntry=function(e,t){return r.a.createElement("tr",{key:t,onClick:function(){}},r.a.createElement("td",null,e.Name),r.a.createElement("td",null,r.a.createElement("img",{src:a.getPicture(e),className:"img-xp",alt:"unitPortrait"})),r.a.createElement("td",null,e.by),r.a.createElement("td",{className:"text-right"},e.Score.length),r.a.createElement("td",null,a.parseAuthor(e)),r.a.createElement("td",null,r.a.createElement("div",{className:"btn btn-outline-secondary btn-block btn-sm",onClick:function(){return a.props.show(e)}},r.a.createElement("p",null,"Display"))))},a.parseVote=function(e){return e?"img/favdecktrue.png":"img/favdeckfalse.png"},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return null===this.props.DeckList?null:r.a.createElement("div",{className:"col-md-12  card-body"},r.a.createElement("table",{className:"sortable table-hover",id:"deckTable"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Deck Name"),r.a.createElement("th",null,"Division"),r.a.createElement("th",null,"By"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Score"),r.a.createElement("th",null),r.a.createElement("th",null)),this.props.DeckList.map(this.makeUnitEntry))))}}]),t}(n.PureComponent),G=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).showDeck=function(t){null!==t?e.setState({Name:t.Name,Description:t.Description,Author:t.Author}):e.setState({Name:"Tom Atkins",Description:"insert description",Author:"insert title"}),e.props.deckDB.API.showDeck(t)},e.renderEditDialog=function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"row card-body"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h4",null,"Name:")),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("input",{className:"form-control",value:e.state.Name,type:"text",onChange:e.handleChangeName}))),r.a.createElement("div",{className:"row card-body"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h4",null,"Description:")),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("input",{className:"form-control",value:e.state.Description,type:"text",onChange:e.handleChangeDesc}))),r.a.createElement("div",{className:"row card-body"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h4",null,"Nick:")),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("input",{className:"form-control",value:e.state.Author,type:"text",onChange:e.handleChangeAuth}))),r.a.createElement("div",{className:"row card-footer"},r.a.createElement("div",{className:"btn btn-block btn-outline-default",onClick:function(){e.props.deckDB.API.editHeader(e.state),e.deckDetailsDialog.hide()}},"Save change")),r.a.createElement("div",{className:"row card-footer"},r.a.createElement("div",{className:"btn btn-block btn-primary",onClick:function(){e.props.deckDB.API.uploadDeck(e.state),e.deckDetailsDialog.hide()}},"Upload Deck"))))},e.handleChangeName=function(t){e.setState({Name:t.target.value})},e.handleChangeDesc=function(t){e.setState({Description:t.target.value})},e.handleChangeAuth=function(t){e.setState({Author:t.target.value})},e.showDeckDetails=function(){e.deckDetailsDialog.show()},e.state={Name:"insert name",Description:"insert description",Author:"insert title"},e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-5"},r.a.createElement("div",{className:"card"},r.a.createElement(v,{DB:this.props.DB,filter:this.props.deckDB.API.filter}),r.a.createElement(W,{DeckList:this.props.deckDB.DeckList,vote:this.props.deckDB.API.vote,show:this.showDeck,delete:this.props.deckDB.API.deleteDeck,User:this.props.User}))),r.a.createElement("div",{className:"col-xl-7"},r.a.createElement("div",{className:"card"},r.a.createElement(V,{SelectedDeckCode:this.props.deckDB.SelectedDeckCode,SelectedDeckObject:this.props.deckDB.SelectedDeckObject,DeckUnits:this.props.deckDB.DeckUnits,DB:this.props.DB,API:this.props.deckDB.API,show:this.showDeck,deckDetailsDialog:this.showDeckDetails})))),r.a.createElement(f.a,{hideOnOverlayClicked:!0,ref:function(t){return e.deckDetailsDialog=t},title:this.renderEditDialog(this.props.deckDB)}))}}]),t}(n.Component),z=function(){function e(){Object(i.a)(this,e),this.Serializer=0,this.DivisionNationalite="",this.PhaseA=0,this.PhaseB=0,this.PhaseC=0,this.PackList=[],this.Emblem="",this.Portrait="",this.CostMatrix=[["X","X","X","X","X","X","X","X","X","X"],["X","X","X","X","X","X","X","X","X","X"],["X","X","X","X","X","X","X","X","X","X"],["X","X","X","X","X","X","X","X","X","X"],["X","X","X","X","X","X","X","X","X","X"],["X","X","X","X","X","X","X","X","X","X"],["X","X","X","X","X","X","X","X","X","X"],["X","X","X","X","X","X","X","X","X","X"]],this.Cards=[],this.DeckPointsTotal=0}return Object(s.a)(e,[{key:"setDeck",value:function(e){this.Serializer=e.EncodeInt,this.DivisionNationalite=e.DivisionNationalite,this.PhaseA=e.PhaseA,this.PhaseB=e.PhaseB,this.PhaseC=e.PhaseC,this.PackList=e.PackList,this.Emblem=e.EmblemTexture,this.Portrait=e.PortraitTexture;for(var t=new Array(8),a=0;a<8;a++){t[a]=new Array(10);for(var n=0;n<10;n++)"undefined"===typeof e.CostMatrix[a][n]?t[a][n]="X":t[a][n]=e.CostMatrix[a][n]}return this.CostMatrix[7]=t[0],this.CostMatrix[2]=t[1],this.CostMatrix[6]=t[2],this.CostMatrix[3]=t[3],this.CostMatrix[1]=t[4],this.CostMatrix[0]=t[5],this.CostMatrix[4]=t[6],this.CostMatrix[5]=t[7],this.DeckPointsTotal=e.MaxActivationPoints,this.encodeDeck(),this}},{key:"getEncodeID",value:function(e){if("undefined"===typeof e||e.length<4)return-1;for(var t=k(e),a="",n=0;n<10;n++)a+=t.charAt(n);return parseInt(a,2)}},{key:"decodeDeck",value:function(t,a){var n=this;if("undefined"===typeof t||t.length<4){var r=new e;return r.ExportCode=r.encodeDeck(),r}this.Cards=[];for(var l=k(t),c="",i=0;i<10;i++)c+=l.charAt(i);var s=parseInt(c,2),o=a.findIndex(function(e){return e.EncodeInt===s});if(-1===o)console.error("no such deck in db");else if("undefined"!==typeof a[o].MaxActivationPoints){this.setDeck(a[o]);for(var u="",p=10;p<18;p++)u+=l.charAt(p);for(var m=parseInt(u,2),d=18,h=function(e){for(var t="",a="",r=d;r<d+18;r++)t+=l.charAt(r);for(var c=d+=18;c<d+4;c++)a+=l.charAt(c);d+=4;var i=parseInt(a,2);n.Cards[e]=n.PackList.filter(function(a){return E=e,a.EncodeInt===parseInt(t,2)})[0];for(var s=0;s<i-1;s++)e++,m++,n.Cards[e]=n.PackList.filter(function(a){return E=e,a.EncodeInt===parseInt(t,2)})[0];E=e},E=0;E<m;E++)h(E);return this.Cards=this.Cards.filter(function(e){return null!=e}),this.ExportCode=this.encodeDeck(),this}}},{key:"encodeDeck",value:function(){var e="";e+="0000000000".substring(0,"0000000000".length-this.Serializer.toString(2).length)+this.Serializer.toString(2),this.Cards.sort(function(e,t){return e.EncodeInt>t.EncodeInt?1:t.EncodeInt>e.EncodeInt?-1:0});for(var t=[],a=0,n=0;n<this.Cards.length;n++)if("undefined"!==typeof this.Cards[n+1]&&this.Cards[n].EncodeInt===this.Cards[n+1].EncodeInt)a++;else{a++;var r=this.Cards[n].EncodeInt;t.push({unit:r,currentCount:a}),a=0}e+="00000000".substring(0,"00000000".length-t.length.toString(2).length)+t.length.toString(2);for(var l=0;l<t.length;l++){var c=t[l].unit.toString(2),i=t[l].currentCount.toString(2);e+="000000000000000000".substring(0,"000000000000000000".length-c.length)+c,e+="0000".substring(0,"0000".length-i.length)+i}var s=e.match(/.{1,6}/g);return this.ExportCode=function(e){e[e.length-1]=e[e.length-1]+"000000".substring(0,"000000".length-e[e.length-1].length);for(var t="*",a=0;a<e.length;a++)"000000"===e[a]?t+="A":"000001"===e[a]?t+="B":"000010"===e[a]?t+="C":"000011"===e[a]?t+="D":"000100"===e[a]?t+="E":"000101"===e[a]?t+="F":"000110"===e[a]?t+="G":"000111"===e[a]?t+="H":"001000"===e[a]?t+="I":"001001"===e[a]?t+="J":"001010"===e[a]?t+="K":"001011"===e[a]?t+="L":"001100"===e[a]?t+="M":"001101"===e[a]?t+="N":"001110"===e[a]?t+="O":"001111"===e[a]?t+="P":"010000"===e[a]?t+="Q":"010001"===e[a]?t+="R":"010010"===e[a]?t+="S":"010011"===e[a]?t+="T":"010100"===e[a]?t+="U":"010101"===e[a]?t+="V":"010110"===e[a]?t+="W":"010111"===e[a]?t+="X":"011000"===e[a]?t+="Y":"011001"===e[a]?t+="Z":"011010"===e[a]?t+="a":"011011"===e[a]?t+="b":"011100"===e[a]?t+="c":"011101"===e[a]?t+="d":"011110"===e[a]?t+="e":"011111"===e[a]?t+="f":"100000"===e[a]?t+="g":"100001"===e[a]?t+="h":"100010"===e[a]?t+="i":"100011"===e[a]?t+="j":"100100"===e[a]?t+="k":"100101"===e[a]?t+="l":"100110"===e[a]?t+="m":"100111"===e[a]?t+="n":"101000"===e[a]?t+="o":"101001"===e[a]?t+="p":"101010"===e[a]?t+="q":"101011"===e[a]?t+="r":"101100"===e[a]?t+="s":"101101"===e[a]?t+="t":"101110"===e[a]?t+="u":"101111"===e[a]?t+="v":"110000"===e[a]?t+="w":"110001"===e[a]?t+="x":"110010"===e[a]?t+="y":"110011"===e[a]?t+="z":"110100"===e[a]?t+="0":"110101"===e[a]?t+="1":"110110"===e[a]?t+="2":"110111"===e[a]?t+="3":"111000"===e[a]?t+="4":"111001"===e[a]?t+="5":"111010"===e[a]?t+="6":"111011"===e[a]?t+="7":"111100"===e[a]?t+="8":"111110"===e[a]?t+="+":"111101"===e[a]?t+="9":"111111"===e[a]&&(t+="/");return t.length%4===0?t+="A":t.length%4===1?t+="":t.length%4===2?t+="A==":t.length%4===3&&(t+="A="),t}(s),this.ExportCode}},{key:"addUnit",value:function(e){return this.Cards.push(e),this.encodeDeck(),this}},{key:"deleteUnit",value:function(e){return this.Cards.splice(this.Cards.indexOf(e),1),this.encodeDeck(),this}}]),e}();function q(e){switch(e){case"1":return"Destruction";case"2":return"Siege";case"3":return"Economy";case"4":return"Conquest";case"5":return"Close Combat";default:return"error"}}function J(e){return-1!==e.indexOf("Sainte_Mere_Eglise")?-1!==e.indexOf("_Alt")?"Sainte Mere l'Eglise - Duelist":"Sainte Mere l'Eglise":-1!==e.indexOf("Carpiquet")?-1!==e.indexOf("_Alt")?"Carpiquet - Duelist":"Carpiquet":-1!==e.indexOf("Pegasus_Bridge")?"Pegasus Bridge":-1!==e.indexOf("Omaha")?"Omaha":-1!==e.indexOf("Colombelles")?"Colombelles":-1!==e.indexOf("VillersBocage")?"Merderet":-1!==e.indexOf("Odon")?"Odon":-1!==e.indexOf("Colleville")?"Colleville":-1!==e.indexOf("Pointe_Du_Hoc")?"Pointe Du Hoc":-1!==e.indexOf("Mont_Ormel")?"Mont Ormel":-1!==e.indexOf("Bois_De_Limors")?"Bois De Limors":-1!==e.indexOf("Cheux")?"Cheux":-1!==e.indexOf("Caumont_L_Evente")?"Caumont L'Evente":-1!==e.indexOf("Cote112")?"Cote 112":-1!==e.indexOf("Pegaville")?"Odon River":-1!==e.indexOf("276b22a8:334ddc5e:a85391a2:4deed403")?"Rangers lead the way":-1!==e.indexOf("c3a20bf5:a1400442:eb590a8a:4953f79d")?"Collombelles Assault":"unknown"}function Y(e){return"0"===e?"No limit":e/60+"min"}function K(e){switch(e){case"0":return"none";case"1":return"very low";case"2":return"low";case"3":return"medium";case"4":return"high";case"5":return"very high";default:return"error"}}function Z(e){switch(e){case"0":return"\u235f/\u5350";case"1":return"\u235f/\u235f";case"2":return"\u5350/\u5350";default:return"unknown"}}function Q(e){var t="";switch((new z).getEncodeID(e)){case 22:t="3rd_Infantry_Division";break;case 74:case 23:t="2DB";break;case 75:case 24:t="116_Panzer";break;case 25:t="12_SS_Panzer";break;case 26:t="17_SS_Panzergrenadier";break;case 180:t="SS_Panzerdivision_LSSAH";break;case 76:case 27:t="21_Panzer";break;case 28:case 66:t="352_Infanterie";break;case 77:case 29:t="3_Fallschirmjager";break;case 30:t="716_Infanterie";break;case 31:t="Luftlanfe";break;case 32:t="Panzer_Lehr";break;case 33:t="Dywizja_Pancerna";break;case 34:t="15th_Infantry_Division";break;case 35:t="6th_Airborne_Division";break;case 36:t="Guards_Armoured_Division";break;case 70:case 37:t="101st_Airborne";break;case 179:t="1st_US_Infantry_Division";break;case 78:case 38:t="2nd_Infantry_Division";break;case 71:case 39:t="3rd_Armored_Division";break;case 45:case 73:t="16_luftwaffen";break;case 80:case 46:t="9_Panzer";break;case 81:case 43:t="Commando_Brigade";break;case 79:case 51:t="4th_Armored";break;case 47:t="Demi_Brigade_SAS";break;case 48:t="2_Panzer";break;case 49:t="Festung_Gross_Paris";break;case 50:t="7th_Armoured"}return"img/d/"+t+".tgv.png"}var $=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).makeUnitEntry=function(e,t){return r.a.createElement("tr",{key:t,onClick:function(){}},r.a.createElement("td",null,e.Name),r.a.createElement("td",null,e.Players.map(function(e,t){return r.a.createElement("p",{key:t},e)})),r.a.createElement("td",null,e.Decks.map(function(e,t){return r.a.createElement("p",{key:t},r.a.createElement("img",{src:Q(e),className:"img-xp",alt:"unitPortrait"}))})),r.a.createElement("td",null,J(e.Map)),r.a.createElement("td",null,Z(e.GameType)),r.a.createElement("td",null,K(e.IncomeRate)),r.a.createElement("td",null,e.InitMoney),r.a.createElement("td",null,e.ScoreLimit),r.a.createElement("td",null,Y(e.TimeLimit)),r.a.createElement("td",null,q(e.VictoryCond)),r.a.createElement("td",null,e.Uploaded.toDate().toLocaleDateString()),r.a.createElement("td",{className:"text-right"},e.ScoreCount),r.a.createElement("td",null,a.parseAuthor(e)),r.a.createElement("td",null,r.a.createElement("div",{className:"btn btn-outline-secondary btn-block btn-sm"},r.a.createElement("a",{href:e.DL},"Download"))),r.a.createElement("td",null,r.a.createElement("div",{className:"btn btn-outline-secondary btn-block btn-sm",onClick:function(){return a.props.show(e)}},r.a.createElement("p",null,"Display"))))},a.parseAuthor=function(e){return null!==a.props.User&&e.UID===a.props.User.uid?r.a.createElement("button",{className:"btn btn-block btn-danger",onClick:function(){return a.props.delete(e)}},r.a.createElement("p",null,"X")):r.a.createElement("div",{onClick:function(){return a.props.vote(e)}},r.a.createElement("img",{alt:"voteIcon",src:a.parseVote(e.Score.includes(null!==a.props.User&&a.props.User.uid))}))},a.parseVote=function(e){return e?"img/favdecktrue.png":"img/favdeckfalse.png"},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return null===this.props.ReplayList?null:r.a.createElement("table",{className:"sortable table-bordered",id:"ReplayTable"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null," Replay "),r.a.createElement("th",null," Player "),r.a.createElement("th",null," Deck "),r.a.createElement("th",null," Map "),r.a.createElement("th",null," Game Mode "),r.a.createElement("th",null," Income "),r.a.createElement("th",null," Starting points "),r.a.createElement("th",null," Win points "),r.a.createElement("th",null," Time limit "),r.a.createElement("th",null," Win condition "),r.a.createElement("th",null," Uploaded "),r.a.createElement("th",null," Score "),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",null)),this.props.ReplayList.map(this.makeUnitEntry)))}}]),t}(n.PureComponent),ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).getPicture=function(e){return"img/d/"+e.Emblem.toLowerCase()+".tgv.png"},a.makePlayerEntry=function(e,t){return r.a.createElement("div",{className:"row",key:t},r.a.createElement("div",{className:"col-md-8"},e.Player),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("img",{src:Q(e.Deck),className:"img-xp",alt:"unitPortrait"})),r.a.createElement("div",{className:"col-md-2 btn btn-outline-secondary btn-block btn-sm",onClick:function(){return a.props.API.editDeck(e.Deck)}},r.a.createElement("p",null,"To deck builder")))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return null===this.props.Replay?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h4",{className:"text-center"},this.props.Replay.Name)),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("p",null,this.props.Replay.Description)),r.a.createElement("div",{className:"col-md-12"},this.props.ReplayDecks.map(this.makePlayerEntry))))}}]),t}(n.Component),te=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"row card-header"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{className:"btn btn-block btn-primary",onClick:function(){return e.props.filter("new")}},"Newest")),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{className:"btn btn-block btn-primary",onClick:function(){return e.props.filter("score")}},"Most votes")),r.a.createElement("div",{className:"col-md-3"}),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{className:"btn btn-block btn-primary",onClick:function(){return e.props.upload()}},"Upload"))),r.a.createElement("div",{className:"row card-body"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement($,{DB:this.props.DB,ReplayList:this.props.ReplayDB.ReplayList,vote:this.props.ReplayDB.API.vote,show:this.props.ReplayDB.API.showReplay,delete:this.props.ReplayDB.API.deleteReplay,User:this.props.User})),r.a.createElement("div",{className:"col-md-4"},r.a.createElement(ee,{Replay:this.props.ReplayDB.Replay,ReplayDecks:this.props.ReplayDB.ReplayDecks,DB:this.props.DB,API:this.props.ReplayDB.API})))))}}]),t}(n.Component),ae=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.Honey.API.setDeckCode(e.target.value)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.Honey.DeckBuilder.Deck;return r.a.createElement("div",{className:"row card-body"},r.a.createElement("div",{className:"col-xl-5"},r.a.createElement("h2",null,t.Emblem,": ",t.Cards.length," / ",t.DeckPointsTotal," |A:",t.PhaseA.Income,"|B:",t.PhaseB.Income,"|C:",t.PhaseC.Income,"|")),r.a.createElement("div",{className:"col-xl-4"},r.a.createElement("input",{className:"form-control",value:this.props.Honey.code,type:"text",onChange:this.handleChange})),r.a.createElement("div",{className:"col-xl"},r.a.createElement("button",{type:"button",className:"btn btn-default btn-block btn-top-line",onClick:function(){return e.props.Honey.API.parseDeckCode(e.props.Honey.code)}},"DECODE")),r.a.createElement("div",{className:"col-xl"},r.a.createElement("button",{type:"button",className:"btn btn-default btn-block btn-top-line",onClick:function(){return e.props.Honey.API.parseDeckCode("")}},"CLEAR")))}}]),t}(n.PureComponent),ne=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).parseLength=function(e){if(null===e)return"none";var t=e.replace(") * Metre)","").replace("((","");return Math.round(t/5)+"m"},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row card-body"},r.a.createElement("div",{className:"col-xl-4"},r.a.createElement("li",null,r.a.createElement("p",null,"TypeArme: ",this.props.x.TypeArme)),r.a.createElement("li",null,r.a.createElement("p",null,"Caliber: ",this.props.x.Caliber)),r.a.createElement("li",null,r.a.createElement("p",null,"Weapon: ",g(this.props.x.Arme))),r.a.createElement("li",null,r.a.createElement("p",null,"Projectile Type: ",g(this.props.x.ProjectileType))),r.a.createElement("li",null,r.a.createElement("p",null,"Power: ",this.props.x.Puissance)),r.a.createElement("li",null,r.a.createElement("p",null,"Time between shots: ",this.props.x.TempsEntreDeuxTirs)),r.a.createElement("li",null,r.a.createElement("p",null,"Time between shots, min: ",this.props.x.TempsEntreDeuxTirs_Min)),r.a.createElement("li",null,r.a.createElement("p",null,"Time between shots, max: ",this.props.x.TempsEntreDeuxTirs_Max)),r.a.createElement("li",null,r.a.createElement("p",null,"Max. range: ",this.parseLength(this.props.x.PorteeMaximale))),r.a.createElement("li",null,r.a.createElement("p",null,"Min. range: ",this.parseLength(this.props.x.PorteeMinimale))),r.a.createElement("li",null,r.a.createElement("p",null,"Affected by range: ",this.props.x.EfficaciteSelonPortee)),r.a.createElement("li",null,r.a.createElement("p",null,"Max range dispersion:"," ",this.parseLength(this.props.x.DispersionAtMaxRange))),r.a.createElement("li",null,r.a.createElement("p",null,"Physical damage radius:"," ",this.parseLength(this.props.x.RadiusSplashPhysicalDamages))),r.a.createElement("li",null,r.a.createElement("p",null,"Physical Damage: ",this.props.x.PhysicalDamages))),r.a.createElement("div",{className:"col-xl-4"},r.a.createElement("li",null,r.a.createElement("p",null,"Suppress damage radius:"," ",this.props.x.RadiusSplashSuppressDamages.replace(") * Metre)","").replace("((","")/5)),r.a.createElement("li",null,r.a.createElement("p",null,"Suppress Damage: ",this.props.x.SuppressDamages)),r.a.createElement("li",null,r.a.createElement("p",null,"Pin radius: ",this.parseLength(this.props.x.RayonPinned))),r.a.createElement("li",null,r.a.createElement("p",null,"Indirect fire: ",y(this.props.x.TirIndirect))),r.a.createElement("li",null,r.a.createElement("p",null,"Reflex fire: ",y(this.props.x.TirReflexe))),r.a.createElement("li",null,r.a.createElement("p",null,"Reflex fire forbid: ",y(this.props.x.InterdireTirReflexe))),r.a.createElement("li",null,r.a.createElement("p",null,"Gun Noise Malus: ",this.props.x.NoiseDissimulationMalus)),r.a.createElement("li",null,r.a.createElement("p",null,"Supply Cost: ",this.props.x.SupplyCost)),r.a.createElement("li",null,r.a.createElement("p",null,"Targets Districts: ",y(this.props.x.TargetsDistricts))),r.a.createElement("li",null,r.a.createElement("p",null,"Aim time: ",this.props.x.TempsDeVisee)),r.a.createElement("li",null,r.a.createElement("p",null,"Time between Salvos: ",this.props.x.TempsEntreDeuxSalves)),r.a.createElement("li",null,r.a.createElement("p",null,"Time between Salvos, min: ",this.props.x.TempsEntreDeuxSalves_Min)),r.a.createElement("li",null,r.a.createElement("p",null,"Time between Salvos, max: ",this.props.x.TempsEntreDeuxSalves_Max))),r.a.createElement("div",{className:"col-xl-4"},r.a.createElement("li",null,r.a.createElement("p",null,"Shots per salvo: ",this.props.x.NbTirParSalves)),r.a.createElement("li",null,r.a.createElement("p",null,"Ripple fires: ",this.props.x.NbrProjectilesSimultanes)),r.a.createElement("li",null,r.a.createElement("p",null,"Ammo cost/salvo: ",this.props.x.AffichageMunitionParSalve)),r.a.createElement("li",null,r.a.createElement("p",null,"Display ammo: ",y(this.props.x.AffichageMenu))),r.a.createElement("li",null,r.a.createElement("p",null,"SmokeDescriptor: ",this.props.x.SmokeDescriptor)),r.a.createElement("li",null,r.a.createElement("p",null,"FireDescriptor: ",this.props.x.FireDescriptor)),r.a.createElement("li",null,r.a.createElement("p",null,"Friendly fire off: ",y(this.props.x.IsHarmlessForAllies))),r.a.createElement("li",null,r.a.createElement("p",null,"Piercing Weapon: ",y(this.props.x.PiercingWeapon))),r.a.createElement("li",null,r.a.createElement("p",null,"HitRoll - Targeted: ",this.props.x.HitRollRule.Targeted)),r.a.createElement("li",null,r.a.createElement("p",null,"HitRoll - Idling: ",this.props.x.HitRollRule.Idling)),r.a.createElement("li",null,r.a.createElement("p",null,"HitRoll - SuccessfulShots:"," ",this.props.x.HitRollRule.SuccessfulShots)),r.a.createElement("li",null,r.a.createElement("p",null,"HitRoll - Base: ",this.props.x.HitRollRule.Base)),r.a.createElement("li",null,r.a.createElement("p",null,"HitRoll - Moving: ",this.props.x.HitRollRule.Moving))),r.a.createElement("p",null,"HitMods:"," ",this.props.x.HitRollRule.HitModList.map(function(e){return e+"|"})))}}]),t}(n.PureComponent),re=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).getWeaponPicture=function(e){if(null===e)return"no such picture";var t=e.toLowerCase();return"img/w/"+(t=t.replace("~/texture_interface_weapon_",""))+".tgv.png"},a.parseGunCount=function(e){return e.SalvoStockIndex===e.SalvoStockIndex_ForInterface?r.a.createElement("h3",null,"x",e.WeaponNumber_ForInterface):r.a.createElement("p",null,"hidden or merged")},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return null===this.props.Turret?r.a.createElement("div",null):r.a.createElement("div",{className:"card-header row"},r.a.createElement("div",{className:"col-xl-3"},r.a.createElement("img",{src:this.getWeaponPicture(this.props.Turret.WeaponList[0].Ammunition.InterfaceWeaponTexture),className:"img-weapon",alt:this.props.Turret.WeaponList[0].Ammunition.InterfaceWeaponTexture})),r.a.createElement("div",{className:"col-xl"},r.a.createElement("h5",null,this.props.Turret.WeaponList[0].Ammunition.Caliber)),r.a.createElement("div",{className:"col-xl"},this.parseGunCount(this.props.Turret.WeaponList[0])),r.a.createElement(w,{Weapons:this.props.Turret.WeaponList,salves:this.props.Salves}))}}]),t}(n.PureComponent),le=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).showWeapon=function(e,t){return r.a.createElement("div",{className:"card",key:t},r.a.createElement("div",{className:"row card-header"},r.a.createElement("div",{className:"col-xl"},e.Ammunition.AmmoDescriptor),r.a.createElement("div",{className:"col-xl"},"Power: ",e.Power_ForInterface),r.a.createElement("div",{className:"col-xl"},"Has stabilizer: ",y(e.TirEnMouvement))),r.a.createElement(ne,{x:e.Ammunition}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement(re,{Turret:this.props.Turret,Salves:this.props.Salves}),r.a.createElement("div",{className:"row card-body"},r.a.createElement("div",{className:"col-xl"},r.a.createElement("p",null,"Aim Priority: ",this.props.Turret.AimingPriority)),r.a.createElement("div",{className:"col-xl"},r.a.createElement("p",null,"Rot. Base: ",this.props.Turret.AngleRotationBase)),r.a.createElement("div",{className:"col-xl"},r.a.createElement("p",null,"Rot. Max: ",this.props.Turret.AngleRotationMax)),r.a.createElement("div",{className:"col-xl"},r.a.createElement("p",null,"Rot. Pitch Base: ",this.props.Turret.AngleRotationBasePitch)),r.a.createElement("div",{className:"col-xl"},r.a.createElement("p",null,"Rot. Pitch Max: ",this.props.Turret.AngleRotationMaxPitch)),r.a.createElement("div",{className:"col-xl"},r.a.createElement("p",null,"Rot. Pitch Min: ",this.props.Turret.AngleRotationMinPitch)),r.a.createElement("div",{className:"col-xl"},r.a.createElement("p",null,"Rot. Speed: ",this.props.Turret.VitesseRotation)),r.a.createElement("div",{className:"col-xl-12"},this.props.Turret.WeaponList.map(this.showWeapon))))}}]),t}(n.PureComponent),ce=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).addUnit=function(){a.props.fadd(a.props.Pack)},a.hideUnit=function(){a.props.fhide(a.props.Pack)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.Unit;return r.a.createElement("div",{className:"row card-header"},r.a.createElement("div",{className:"col-xl-3"},r.a.createElement("img",{src:S(this.props.Unit,"bg"),className:"img-big",alt:"unitPortrait"})),r.a.createElement("div",{className:"col-xl-3"},r.a.createElement("h3",null,O(this.props.Unit))),r.a.createElement("div",{className:"col-xl-2"},r.a.createElement(I,{Experiencelevel:this.props.Pack.Experiencelevel,css:"img-xp"}),r.a.createElement(U,{AP:e.APValue,css:"img-xp"}),r.a.createElement(T,{AV:e.PlatingValue,css:"img-xp"}),r.a.createElement(R,{IsParachutist:this.props.Unit.IsParachutist}),r.a.createElement(H,{Spec:this.props.Unit.SpecialtyTexture,css:"img-xp"}),r.a.createElement("h6",null,"Phase: ",A(this.props.Pack.AvailableFromPhase))),r.a.createElement("div",{className:"col-xl-2"},r.a.createElement("h4",null,this.props.Pack.PackAvailabilty," cards,"),r.a.createElement("h4",null,this.props.Pack.UnitsPerPack," units")),r.a.createElement("div",{className:"col-xl-2"},r.a.createElement("button",{className:"btn btn-dark btn-block",onClick:this.addUnit},r.a.createElement("h4",null,"Add")),r.a.createElement("button",{className:"btn btn-block btn-danger",onClick:this.hideUnit},r.a.createElement("h4",null,"X"))))}}]),t}(n.PureComponent),ie=a(6),se=(a(48),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).parseOffmapSimple=function(e){return null===e?r.a.createElement("div",null):r.a.createElement(re,{Turret:e.Turrets[0],Salves:e.Salves})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this.props.x;return e=null===t.AgilityRadius?"n/a":t.AgilityRadius.replace(") * Metre)","").replace("((","")/2,null!=t.WeaponsDescriptor?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl"},r.a.createElement("ul",null,r.a.createElement("li",null,"Front:"," ",P(t.DamageDescriptor.BlindageProperties.ArmorDescriptorFront)),r.a.createElement("li",null,"Side:"," ",P(t.DamageDescriptor.BlindageProperties.ArmorDescriptorSides)),r.a.createElement("li",null,"Back:"," ",P(t.DamageDescriptor.BlindageProperties.ArmorDescriptorRear)),r.a.createElement("li",null," Top: ",x(t.TagSet)))),r.a.createElement("div",{className:"col-xl"},r.a.createElement("ul",null,r.a.createElement("li",null," MaxDamages: ",t.MaxDamages," "),r.a.createElement("li",null,"Speed/Road Speed:",N(t)),r.a.createElement("li",null," Stealth: ",t.UnitConcealmentBonus),r.a.createElement("li",null," Optics: ",t.OpticalStrength))),r.a.createElement("div",{className:"col-xl"},r.a.createElement("ul",null,r.a.createElement("li",null," Can transport: ",B(t.NbSeatsAvailable)," "),r.a.createElement("li",null," Needs transport: ",B(t.NbSeatsOccupied)),r.a.createElement("li",null," Supply: ",t.SupplyCapacity," "),r.a.createElement("li",null,"Dogfight radius:",e)))),r.a.createElement("div",null,t.WeaponsDescriptor.Turrets.map(function(e,a){return r.a.createElement(re,{Turret:e,Salves:t.WeaponsDescriptor.Salves,key:a})})),r.a.createElement("div",null,this.parseOffmapSimple(t.Offmap))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl"},r.a.createElement("ul",null,r.a.createElement("li",null,"Front:"," ",P(t.DamageDescriptor.BlindageProperties.ArmorDescriptorFront)),r.a.createElement("li",null,"Side:"," ",P(t.DamageDescriptor.BlindageProperties.ArmorDescriptorSides)),r.a.createElement("li",null,"Back:"," ",P(t.DamageDescriptor.BlindageProperties.ArmorDescriptorRear)),r.a.createElement("li",null," Top: ",x(t.TagSet)))),r.a.createElement("div",{className:"col-xl"},r.a.createElement("ul",null,r.a.createElement("li",null," MaxDamages: ",t.MaxDamages," "),r.a.createElement("li",null,"Speed/Road Speed:",N(t)),r.a.createElement("li",null," Stealth: ",t.UnitConcealmentBonus),r.a.createElement("li",null," Optics: ",t.OpticalStrength))),r.a.createElement("div",{className:"col-xl"},r.a.createElement("ul",null,r.a.createElement("li",null," Can transport: ",B(t.NbSeatsAvailable)," "),r.a.createElement("li",null," Needs transport: ",B(t.NbSeatsOccupied)),r.a.createElement("li",null," Supply: ",t.SupplyCapacity," "),r.a.createElement("li",null,"Dogfight radius:",e)))),r.a.createElement("div",null),r.a.createElement("div",null,this.parseOffmapSimple(t.Offmap)))}}]),t}(n.PureComponent)),oe=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.x;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl"},r.a.createElement("ul",null,r.a.createElement("li",null,"IdentifyBaseProbability: ",e.IdentifyBaseProbability),r.a.createElement("li",null,"VisionObstructionType: ",e.VisionObstructionType),r.a.createElement("li",null,"VisionUnitType: ",e.VisionUnitType))),r.a.createElement("div",{className:"col-xl"},r.a.createElement("ul",null,r.a.createElement("li",null,"TimeBetweenEachIdentifyRoll: ",e.TimeBetweenEachIdentifyRoll),r.a.createElement("li",null," UnitConcealmentBonus: ",e.UnitConcealmentBonus),r.a.createElement("li",null," OpticalStrength: ",e.OpticalStrength)))),r.a.createElement("div",{className:"row"},r.a.createElement(ue,{x:this.props.x.WeaponsDescriptor})))}}]),t}(n.PureComponent),ue=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.x;return null===e?r.a.createElement("div",null):e.Turrets.map(function(e,t){return r.a.createElement("div",{className:"col-xl",key:t},r.a.createElement("h6",null,"Gun Noise Malus:"),e.WeaponList.map(function(e,t){return r.a.createElement("ul",{key:t},r.a.createElement("li",null,e.Ammunition.AmmoDescriptor.replace("Ammo_",""),":"),r.a.createElement("li",null,e.Ammunition.NoiseDissimulationMalus))}))})}}]),t}(n.PureComponent),pe=oe,me=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.x;return null===e.VitesseCombat?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl"},r.a.createElement("ul",null,r.a.createElement("li",null,"Speed/Road Speed:",N(e)),r.a.createElement("li",null,"Combat Speed:"," ",e.AirVitesseCombat.replace("(","").replace(") * Metre)","")))),r.a.createElement("div",{className:"col-xl"},r.a.createElement("ul",null,r.a.createElement("li",null,"FuelCapacity: ",e.FuelCapacity),r.a.createElement("li",null,"FuelMoveDuration: ",e.FuelMoveDuration))),r.a.createElement("div",{className:"col-xl"},r.a.createElement("ul",null,r.a.createElement("li",null,"Turn-Around time: ",e.TempsDemiTour," s")))):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl"},r.a.createElement("ul",null,r.a.createElement("li",null,"Speed/Road Speed:",N(e)),r.a.createElement("li",null,"Combat Speed: ",e.VitesseCombat.replace("(","")),r.a.createElement("li",null,"MaxAcceleration: ",e.MaxAcceleration.replace("(","")),r.a.createElement("li",null,"MaxDeceleration: ",e.MaxDeceleration.replace("(","")),r.a.createElement("li",null,"UnitMovingType: ",e.UnitMovingType))),r.a.createElement("div",{className:"col-xl"},r.a.createElement("ul",null,r.a.createElement("li",null,"FuelCapacity: ",e.FuelCapacity),r.a.createElement("li",null,"FuelMoveDuration: ",e.FuelMoveDuration),r.a.createElement("li",null,"PathfindType: ",e.PathfindType.replace("PathfindTypes/","")),r.a.createElement("li",null,"IsTransporter: ",y(e.IsTransporter)),r.a.createElement("li",null,"isTowable: ",y(e.isTowable)))),r.a.createElement("div",{className:"col-xl"},r.a.createElement("ul",null,r.a.createElement("li",null,"StartTime: ",e.StartTime.replace("* Seconde","s")),r.a.createElement("li",null,"StopTime: ",e.StopTime.replace("* Seconde","s")),r.a.createElement("li",null,"RotationStartTime: ",e.RotationStartTime.replace("* Seconde","s")),r.a.createElement("li",null,"RotationStopTime: ",e.RotationStopTime.replace("* Seconde","s")),r.a.createElement("li",null,"Turn-Around time: ",e.TempsDemiTour," s"))))}}]),t}(n.PureComponent),de=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.x;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl"},r.a.createElement("ul",null,r.a.createElement("li",null,"DefaultAutoCover: ",y(e.DefaultAutoCover)),r.a.createElement("li",null,"MoralLevel: ",e.MoralLevel),r.a.createElement("li",null,"Orient front: ",y(e.AlwaysOrientArmorTowardsThreat)),r.a.createElement("li",null,"StunFreezesUnits: ",y(e.DamageDescriptor.StunFreezesUnits)))),r.a.createElement("div",{className:"col-xl"},r.a.createElement("ul",null,r.a.createElement("li",null,"StunDamagesRegen:"," ",e.DamageDescriptor.StunDamagesRegen.replace("_StunDamagesRegen","")),r.a.createElement("li",null,"StunDamagesToGetStunned:"," ",e.DamageDescriptor.StunDamagesToGetStunned.replace("_StunDamagesToGetStunned","")),r.a.createElement("li",null,"MaxSuppressionDamages:"," ",e.DamageDescriptor.MaxSuppressionDamages.replace("_MaxSuppressionDamages","")),r.a.createElement("li",null,"TypeForGroundDamageModifier: ",e.TypeForGroundDamageModifier))))}}]),t}(n.PureComponent),he=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this.props.x;return e=null!==t.Behaviour?t.Behaviour.NbSoldatInGroupeCombat:"N/A",r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl"},r.a.createElement("ul",null,r.a.createElement("li",null,"IsSapery: ",y(t.IsSapery)),r.a.createElement("li",null,"Soldiers in squad: ",e),r.a.createElement("li",null,"ProductionYear: ",t.ProductionYear),r.a.createElement("li",null,"ProductionTime: ",t.ProductionTime),r.a.createElement("li",null,"Dangerousness: ",t.Dangerousness))),r.a.createElement("div",{className:"col-xl"},r.a.createElement("ul",null,r.a.createElement("li",null,"StrengthDecayPerSecond: ",t.StrengthDecayPerSecond),r.a.createElement("li",null,"PreventsDecayInZone: ",y(t.PreventsDecayInZone)),r.a.createElement("li",null,"CircleFormation: ",y(t.CircleFormation)),r.a.createElement("li",null,"InfluenceStrength: ",t.InfluenceStrength),r.a.createElement("li",null,"MinimumInfluenceStrength: ",t.MinimumInfluenceStrength))),r.a.createElement("ul",null,r.a.createElement("li",null,"Tags:",t.TagSet.map(function(e){return e+", "}))))}}]),t}(n.PureComponent),Ee=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.x;return null===e.AirMaxspeed?r.a.createElement("div",null):r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"}," Air Data "),r.a.createElement("div",{className:"row card-body"},r.a.createElement("div",{className:"col-xl"},r.a.createElement("ul",null,r.a.createElement("li",null,"AirMaxspeed:"," ",e.AirMaxspeed.replace(") * Metre)","").replace("((","")/2),r.a.createElement("li",null,"Altitude:"," ",e.Altitude.replace(") * Metre)","").replace("((","")/2),r.a.createElement("li",null,"AltitudeMin:"," ",e.AltitudeMin.replace(" * Metre)","").replace("(","")/2),r.a.createElement("li",null,"Speed: ",e.Speed.replace(") * Metre)","").replace("((","")/2),r.a.createElement("li",null,"Dogfight radius:"," ",e.AgilityRadius.replace(") * Metre)","").replace("((","")/2))),r.a.createElement("div",{className:"col-xl"},r.a.createElement("ul",null,r.a.createElement("li",null,"PitchAngle: ",e.PitchAngle),r.a.createElement("li",null,"RollAngle: ",e.RollAngle),r.a.createElement("li",null,"RollSpeed: ",e.RollSpeed),r.a.createElement("li",null,"EvacAngle: ",e.EvacAngle),r.a.createElement("li",null,"PlaneEvacuationTime: ",e.PlaneEvacuationTime)))))}}]),t}(n.PureComponent),fe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).parseOffmap=function(e){return null===e?r.a.createElement("div",null):r.a.createElement(le,{Turret:e.Turrets[0],Salves:e.Salves})},a.showWeapon=function(e,t){return r.a.createElement("div",{className:"card",key:t},r.a.createElement("div",{className:"card-header"},e.Ammunition),r.a.createElement("div",{className:"row card-body"},r.a.createElement("div",{className:"col-xl"},r.a.createElement("p",null,"Power: ",e.Power_ForInterface)),r.a.createElement("div",{className:"col-xl"},r.a.createElement("p",null,"SalvoStockIndex: ",e.SalvoStockIndex)),r.a.createElement("div",{className:"col-xl"},r.a.createElement("p",null,"SalvoStockIndex_ForInterface: ",e.SalvoStockIndex_ForInterface)),r.a.createElement("div",{className:"col-xl"},r.a.createElement("p",null,"TirEnMouvement: ",y(e.TirEnMouvement)))),r.a.createElement(ne,{x:e.Ammo}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return null!=this.props.Unit?null!=this.props.Unit.WeaponsDescriptor?r.a.createElement(ie.d,{className:"card"},r.a.createElement(ie.b,{className:"card-header"},r.a.createElement(ie.a,null,"Simple"),r.a.createElement(ie.a,null,"Recon"),r.a.createElement(ie.a,null,"Mobility"),r.a.createElement(ie.a,null,"Survivability"),r.a.createElement(ie.a,null,"Aux"),r.a.createElement(ie.a,null,"Air Data"),r.a.createElement(ie.a,null,"Weapons")),r.a.createElement(ie.c,null,r.a.createElement("div",null,r.a.createElement(se,{x:this.props.Unit}))),r.a.createElement(ie.c,null,r.a.createElement("div",null,r.a.createElement(pe,{x:this.props.Unit}))),r.a.createElement(ie.c,null,r.a.createElement("div",null,r.a.createElement(me,{x:this.props.Unit}))),r.a.createElement(ie.c,null,r.a.createElement("div",null,r.a.createElement(de,{x:this.props.Unit}))),r.a.createElement(ie.c,null,r.a.createElement("div",null,r.a.createElement(he,{x:this.props.Unit}))),r.a.createElement(ie.c,null,r.a.createElement("div",null,r.a.createElement(Ee,{x:this.props.Unit}))),r.a.createElement(ie.c,null,r.a.createElement("div",{className:"card"},this.props.Unit.WeaponsDescriptor.Turrets.map(function(t,a){return r.a.createElement(le,{Turret:t,Salves:e.props.Unit.WeaponsDescriptor.Salves,key:a})})),r.a.createElement("div",null,this.parseOffmap(this.props.Unit.Offmap)))):r.a.createElement(ie.d,{className:"card"},r.a.createElement(ie.b,{className:"card-header"},r.a.createElement(ie.a,null,"Simple"),r.a.createElement(ie.a,null,"Recon"),r.a.createElement(ie.a,null,"Mobility"),r.a.createElement(ie.a,null,"Survivability"),r.a.createElement(ie.a,null,"Aux"),r.a.createElement(ie.a,null,"Air Data"),r.a.createElement(ie.a,null,"Weapons")),r.a.createElement(ie.c,null,r.a.createElement("div",null,r.a.createElement(se,{x:this.props.Unit}))),r.a.createElement(ie.c,null,r.a.createElement("div",null,r.a.createElement(pe,{x:this.props.Unit}))),r.a.createElement(ie.c,null,r.a.createElement("div",null,r.a.createElement(me,{x:this.props.Unit}))),r.a.createElement(ie.c,null,r.a.createElement("div",null,r.a.createElement(de,{x:this.props.Unit}))),r.a.createElement(ie.c,null,r.a.createElement("div",null,r.a.createElement(he,{x:this.props.Unit}))),r.a.createElement(ie.c,null,r.a.createElement("div",null,r.a.createElement(Ee,{x:this.props.Unit}))),r.a.createElement(ie.c,null,r.a.createElement("div",{className:"card"}),r.a.createElement("div",null,this.parseOffmap(this.props.Unit.Offmap)))):r.a.createElement("div",null)}}]),t}(n.PureComponent),De=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{Pack:this.props.Pack,Unit:this.props.Unit,fadd:this.props.fadd,fhide:this.props.fhide}),r.a.createElement(fe,{Unit:this.props.Unit}))}}]),t}(n.PureComponent),be=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return null===this.props.Pack.TransportUnit?r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.d,{className:"card"},r.a.createElement(ie.b,null,r.a.createElement(ie.a,null,"Unit")),r.a.createElement(ie.c,null,r.a.createElement(De,{Pack:this.props.Pack,Unit:this.props.Pack.Unit,fadd:this.props.fadd,fhide:this.props.fhide})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.d,{className:"card"},r.a.createElement(ie.b,null,r.a.createElement(ie.a,null,"Unit"),r.a.createElement(ie.a,null,"Transport")),r.a.createElement(ie.c,null,r.a.createElement(De,{Pack:this.props.Pack,Unit:this.props.Pack.Unit,fadd:this.props.fadd,fhide:this.props.fhide})),r.a.createElement(ie.c,null,r.a.createElement(De,{Pack:this.props.Pack,Unit:this.props.Pack.TransportUnit,fadd:this.props.fadd,fhide:this.props.fhide}))))}}]),t}(n.Component),ve=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).showPack=function(e,t){return r.a.createElement(be,{key:t,Pack:e,fadd:a.props.Honey.DeckBuilder.API.addUnit,fshow:a.props.Honey.DeckBuilder.API.showUnit,fhide:a.props.Honey.DeckBuilder.API.hideUnit})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return 0===this.props.Honey.DeckBuilder.UnitsToDisplay.length?r.a.createElement("div",null):r.a.createElement(r.a.Fragment,null,this.props.Honey.DeckBuilder.UnitsToDisplay.map(this.showPack))}}]),t}(n.Component),ke=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.x;return this.props.fValid(this.props.x)?null===this.props.x.TransportUnit?r.a.createElement("p",null," ",O(e.Unit)," ",this.props.fCount(e),"/",e.PackAvailabilty," "):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null," ",e.Unit.AliasName," ",this.props.fCount(e),"/",e.PackAvailabilty," "),r.a.createElement("p",null," ",e.TransportUnit.AliasName)):null===this.props.x.TransportUnit?r.a.createElement("p",{className:"p-err"}," ",O(e.Unit)," ",this.props.fCount(e),"/",e.PackAvailabilty," "):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"p-err"}," ",e.Unit.AliasName," ",this.props.fCount(e),"/",e.PackAvailabilty," "),r.a.createElement("p",{className:"p-err"},e.TransportUnit.AliasName))}}]),t}(n.Component),ye=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).deleteUnit=function(){a.props.fdel(a.props.x)},a.drawUnit=function(){a.props.fshow(a.props.x)},a.parsePrice=function(){return null===a.props.x.TransportUnit?a.props.x.Unit.ProductionPrice:a.props.x.Unit.ProductionPrice+a.props.x.TransportUnit.ProductionPrice},a.parseName=function(e){return e.TransportUnit,e.Unit.AliasName+" "+a.props.fCount(e)+"/"+e.PackAvailabilty},a.parseValidity=function(e){return a.props.fValid(e)?"":"p-err"},a.parsePrice=function(e,t){return null===t?Number(e.ProductionPrice):Number(e.ProductionPrice)+Number(t.ProductionPrice)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.x.Unit,t=this.props.x.TransportUnit;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"div-rel"},r.a.createElement("img",{src:S(e,"md"),className:"img-back",alt:"unitPortrait",onClick:this.drawUnit}),r.a.createElement("h5",{className:"txt-price"},this.parsePrice(e,t)),r.a.createElement("h5",{className:"txt-avail"},this.props.x.UnitsPerPack),r.a.createElement("h5",{className:"txt-phase"},A(this.props.x.AvailableFromPhase)),r.a.createElement(I,{Experiencelevel:this.props.x.Experiencelevel,css:"img-rel-xp"}),r.a.createElement(H,{Spec:e.SpecialtyTexture,css:"img-rel-spec"}),r.a.createElement(U,{AP:e.APValue,css:"img-rel-ap"}),r.a.createElement(T,{AV:e.PlatingValue,css:"img-rel-ap"})),r.a.createElement(ke,{x:this.props.x,fValid:this.props.fValid,fCount:this.props.fCount}),r.a.createElement("button",{type:"button",onClick:this.deleteUnit,className:"btn btn-sm"},r.a.createElement("p",null,"DELETE")))}}]),t}(n.Component),ge=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).showCard=function(e,t){return"undefined"===typeof e.Descriptor?r.a.createElement("div",{className:"col-xl-1 col-xl-10",key:t},r.a.createElement("h3",{key:t}," ",e," ")):r.a.createElement("div",{className:"col-xl-1 col-xl-10",key:t},r.a.createElement(ye,{DB:a.props.DB,x:e,fshow:a.props.f.showUnit,fdel:a.props.f.deleteUnit,fValid:a.props.f.isValid,fCount:a.props.f.getUsedCount}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},this.props.Parsed.map(this.showCard))}}]),t}(n.Component),Oe=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"card-body"},r.a.createElement(ge,{DB:this.props.DB,Parsed:this.props.DeckUnits[0],f:this.props.f}),r.a.createElement(ge,{DB:this.props.DB,Parsed:this.props.DeckUnits[1],f:this.props.f}),r.a.createElement(ge,{DB:this.props.DB,Parsed:this.props.DeckUnits[2],f:this.props.f}),r.a.createElement(ge,{DB:this.props.DB,Parsed:this.props.DeckUnits[3],f:this.props.f}),r.a.createElement(ge,{DB:this.props.DB,Parsed:this.props.DeckUnits[4],f:this.props.f}),r.a.createElement(ge,{DB:this.props.DB,Parsed:this.props.DeckUnits[5],f:this.props.f}),r.a.createElement(ge,{DB:this.props.DB,Parsed:this.props.DeckUnits[6],f:this.props.f}),r.a.createElement(ge,{DB:this.props.DB,Parsed:this.props.DeckUnits[7],f:this.props.f}))}}]),t}(n.PureComponent),Ae=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).makeUnitEntry=function(e){if(null==e.TransportUnit){var t=e.Unit;return r.a.createElement("tr",{key:e.EncodeInt,onClick:function(){return a.props.fshow(e)}},r.a.createElement("td",null,r.a.createElement("img",{src:S(t,"sm"),className:"img-xp",alt:"unitPortrait"})),r.a.createElement("td",null,O(t)),r.a.createElement("td",null,t.ProductionPrice),r.a.createElement("td",null,e.UnitsPerPack),r.a.createElement("td",null,e.PackAvailabilty),r.a.createElement("td",null,A(e.AvailableFromPhase)),r.a.createElement("td",null,r.a.createElement(I,{Experiencelevel:e.Experiencelevel,css:"img-xp"})),r.a.createElement("td",null,r.a.createElement(U,{AP:t.APValue,css:"img-xp"})),r.a.createElement("td",null,r.a.createElement(T,{AV:t.PlatingValue,css:"img-xp"})),r.a.createElement("td",null,r.a.createElement(R,{IsParachutist:t.IsParachutist})),r.a.createElement("td",null,r.a.createElement(H,{Spec:t.SpecialtyTexture,css:"img-xp"})),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null))}var n=e.Unit,l=e.TransportUnit;return r.a.createElement("tr",{key:e.EncodeInt,onClick:function(){return a.props.fshow(e)}},r.a.createElement("td",null,r.a.createElement("img",{src:S(n,"sm"),className:"img-xp",alt:"unitPortrait"})),r.a.createElement("td",null,O(n)),r.a.createElement("td",null,n.ProductionPrice),r.a.createElement("td",null,e.UnitsPerPack),r.a.createElement("td",null,e.PackAvailabilty),r.a.createElement("td",null,A(e.AvailableFromPhase)),r.a.createElement("td",null,r.a.createElement(I,{Experiencelevel:e.Experiencelevel,css:"img-xp"})),r.a.createElement("td",null,r.a.createElement(U,{AP:n.APValue,css:"img-xp"})),r.a.createElement("td",null,r.a.createElement(T,{AV:n.PlatingValue,css:"img-xp"})),r.a.createElement("td",null,r.a.createElement(R,{IsParachutist:n.IsParachutist})),r.a.createElement("td",null,r.a.createElement(H,{Spec:n.SpecialtyTexture,css:"img-xp"})),r.a.createElement("td",null,O(l)),r.a.createElement("td",null,l.ProductionPrice),r.a.createElement("td",null,r.a.createElement(U,{AP:n.APValue,css:"img-xp"})),r.a.createElement("td",null,r.a.createElement(T,{AV:n.PlatingValue,css:"img-xp"})),r.a.createElement("td",null,r.a.createElement(R,{IsParachutist:l.IsParachutist})),r.a.createElement("td",null,r.a.createElement(H,{Spec:l.SpecialtyTexture,css:"img-xp"})))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("table",{className:"sortable table-hover",id:"recTable"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",{onClick:function(){return e.props.fsort(1,"AliasName")}},"Unit\u21d3"),r.a.createElement("th",{onClick:function(){return e.props.fsort(1,"ProductionPrice")}},"Points\u21d3"),r.a.createElement("th",{onClick:function(){return e.props.fsort(0,"UnitsPerPack")}},"Number\u21d3"),r.a.createElement("th",{onClick:function(){return e.props.fsort(0,"PackAvailabilty")}},"Cards\u21d3"),r.a.createElement("th",{onClick:function(){return e.props.fsort(0,"AvailableFromPhase")}},"Phase\u21d3"),r.a.createElement("th",{onClick:function(){return e.props.fsort(0,"Experiencelevel")}},"Veterancy\u21d3"),r.a.createElement("th",{onClick:function(){return e.props.fsort(1,"APValue")}},"AT\u21d3"),r.a.createElement("th",{onClick:function(){return e.props.fsort(1,"PlatingValue")}},"FAV\u21d3"),r.a.createElement("th",{onClick:function(){return e.props.fsort(1,"IsParachutist")}},"Para\u21d3"),r.a.createElement("th",{onClick:function(){return e.props.fsort(1,"SpecialtyTexture")}},"Spec\u21d3"),r.a.createElement("th",{onClick:function(){return e.props.fsort(2,"AliasName")}},"Transport\u21d3"),r.a.createElement("th",{onClick:function(){return e.props.fsort(2,"ProductionPrice")}},"Points\u21d3"),r.a.createElement("th",{onClick:function(){return e.props.fsort(2,"APValue")}},"AT\u21d3"),r.a.createElement("th",{onClick:function(){return e.props.fsort(2,"PlatingValue")}},"FAV\u21d3"),r.a.createElement("th",{onClick:function(){return e.props.fsort(2,"IsParachutist")}},"Para\u21d3"),r.a.createElement("th",{onClick:function(){return e.props.fsort(2,"SpecialtyTexture")}},"Spec\u21d3")),this.props.Units.map(this.makeUnitEntry)))}}]),t}(n.Component),Pe=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:" card-body"},r.a.createElement(ge,{DB:this.props.DB,Parsed:this.props.DeckUnits,f:this.props.f}),r.a.createElement(Ae,{DB:this.props.DB,Units:this.props.DBUnits,fadd:this.props.f.addUnit,fshow:this.props.f.showUnit,fsort:this.props.f.sortBy}))}}]),t}(n.Component),xe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getPicture=function(){return"img/d/"+a.props.x.EmblemTexture.toLowerCase()+".tgv.png"},a.setDeck=function(){a.props.fset(a.props.x)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"btn",onClick:this.setDeck},r.a.createElement("img",{src:this.getPicture(),className:"img-back",alt:"unitPortrait"}))}}]),t}(n.PureComponent),Ne=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).makeButton=function(e,t){return r.a.createElement("div",{className:"col-xl-3",key:t},r.a.createElement(xe,{x:e,fset:a.props.fset}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row card-body"},r.a.createElement("div",{className:"col-xl"},r.a.createElement(ie.d,null,r.a.createElement(ie.b,null,r.a.createElement(ie.a,null,"Skirmish"),r.a.createElement(ie.a,null,"Attack"),r.a.createElement(ie.a,null,"Defence")),r.a.createElement(ie.c,null,r.a.createElement("div",{className:"row"},this.props.DB.filter(function(e){return"Allied"===e.DivisionNationalite}).filter(function(e){return e.DivisionTags.includes("DEFAULT")}).map(this.makeButton))),r.a.createElement(ie.c,null,r.a.createElement("div",{className:"row"},this.props.DB.filter(function(e){return"Allied"===e.DivisionNationalite}).filter(function(e){return e.DivisionTags.includes("Attacker")}).map(this.makeButton))),r.a.createElement(ie.c,null,r.a.createElement("div",{className:"row"},this.props.DB.filter(function(e){return"Allied"===e.DivisionNationalite}).filter(function(e){return e.DivisionTags.includes("Defender")}).map(this.makeButton))))),r.a.createElement("div",{className:"col-xl"},r.a.createElement(ie.d,null,r.a.createElement(ie.b,null,r.a.createElement(ie.a,null,"Skirmish"),r.a.createElement(ie.a,null,"Attack"),r.a.createElement(ie.a,null,"Defence")),r.a.createElement(ie.c,null,r.a.createElement("div",{className:"row"},this.props.DB.filter(function(e){return"Axis"===e.DivisionNationalite}).filter(function(e){return e.DivisionTags.includes("DEFAULT")}).map(this.makeButton))),r.a.createElement(ie.c,null,r.a.createElement("div",{className:"row"},this.props.DB.filter(function(e){return"Axis"===e.DivisionNationalite}).filter(function(e){return e.DivisionTags.includes("Attacker")}).map(this.makeButton))),r.a.createElement(ie.c,null,r.a.createElement("div",{className:"row"},this.props.DB.filter(function(e){return"Axis"===e.DivisionNationalite}).filter(function(e){return e.DivisionTags.includes("Defender")}).map(this.makeButton)))))))}}]),t}(n.PureComponent),Be=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).makeButton=function(e,t){var n="btn";a.props.RandomizerDecks.filter(function(t){return t===e}).length>0&&(n+=" btn-success");var l="img/d/"+e.EmblemTexture.toLowerCase()+".tgv.png";return r.a.createElement("div",{className:"col-xl-3",key:t},r.a.createElement("button",{className:n,onClick:function(t){return a.props.f.toggleRandomizer(e,t)}},r.a.createElement("img",{src:l,className:"img-back",alt:"unitPortrait"})))},a.makeDeck=function(){0===a.props.RandomizerDecks.length||a.props.f.autofill(a.props.RandomizerDecks[Math.floor(Math.random()*a.props.RandomizerDecks.length)])},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl"},r.a.createElement("button",{className:"btn btn-default btn-block",onClick:function(t){return e.props.f.toggleRandomizer("Allied",t)}},"Allies")),r.a.createElement("div",{className:"col-xl"},r.a.createElement("button",{className:"btn btn-default btn-block",onClick:function(t){return e.props.f.toggleRandomizer("Axis",t)}},"Axis"))),r.a.createElement("div",{className:"row card-body"},r.a.createElement("div",{className:"col-xl"},r.a.createElement("div",{className:"row"},this.props.DB.filter(function(e){return"Allied"===e.DivisionNationalite}).filter(function(e){return e.DivisionTags.includes("DEFAULT")}).map(this.makeButton))),r.a.createElement("div",{className:"col-xl"},r.a.createElement("div",{className:"row"},this.props.DB.filter(function(e){return"Axis"===e.DivisionNationalite}).filter(function(e){return e.DivisionTags.includes("DEFAULT")}).map(this.makeButton)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl"},r.a.createElement("button",{className:"btn btn-default btn-block",onClick:this.makeDeck},"Generate"))))}}]),t}(n.Component),Se=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.d,{className:"card"},r.a.createElement(ie.b,null,r.a.createElement(ie.a,null,"Division"),r.a.createElement(ie.a,null,"Deck"),r.a.createElement(ie.a,null,"Recon"),r.a.createElement(ie.a,null,"Infantry"),r.a.createElement(ie.a,null,"Tanks"),r.a.createElement(ie.a,null,"Support"),r.a.createElement(ie.a,null,"Anti-Tank"),r.a.createElement(ie.a,null,"Anti-Air"),r.a.createElement(ie.a,null,"Artillery"),r.a.createElement(ie.a,null,"Planes"),r.a.createElement(ie.a,null,"Randomizer")),r.a.createElement(ie.c,null,r.a.createElement(Ne,{DB:this.props.Honey.DB,Deck:this.props.Honey.DeckBuilder.Deck,fset:this.props.Honey.DeckBuilder.API.setDeck})),r.a.createElement(ie.c,null,r.a.createElement(Oe,{DB:this.props.Honey.DB,DeckUnits:this.props.Honey.DeckBuilder.DeckUnits,f:this.props.Honey.DeckBuilder.API})),r.a.createElement(ie.c,null,r.a.createElement(Pe,{DB:this.props.Honey.DB,DeckUnits:this.props.Honey.DeckBuilder.DeckUnits[0],DBUnits:this.props.Honey.DeckBuilder.DBUnits[0],f:this.props.Honey.DeckBuilder.API,header:"Recon"})),r.a.createElement(ie.c,null,r.a.createElement(Pe,{DB:this.props.Honey.DB,DeckUnits:this.props.Honey.DeckBuilder.DeckUnits[1],DBUnits:this.props.Honey.DeckBuilder.DBUnits[1],f:this.props.Honey.DeckBuilder.API,header:"Infantry"})),r.a.createElement(ie.c,null,r.a.createElement(Pe,{DB:this.props.Honey.DB,DeckUnits:this.props.Honey.DeckBuilder.DeckUnits[2],DBUnits:this.props.Honey.DeckBuilder.DBUnits[2],f:this.props.Honey.DeckBuilder.API,header:"Tanks"})),r.a.createElement(ie.c,null,r.a.createElement(Pe,{DB:this.props.Honey.DB,DeckUnits:this.props.Honey.DeckBuilder.DeckUnits[3],DBUnits:this.props.Honey.DeckBuilder.DBUnits[3],f:this.props.Honey.DeckBuilder.API,header:"Support"})),r.a.createElement(ie.c,null,r.a.createElement(Pe,{DB:this.props.Honey.DB,DeckUnits:this.props.Honey.DeckBuilder.DeckUnits[4],DBUnits:this.props.Honey.DeckBuilder.DBUnits[4],f:this.props.Honey.DeckBuilder.API,header:"Anti-Tank"})),r.a.createElement(ie.c,null,r.a.createElement(Pe,{DB:this.props.Honey.DB,DeckUnits:this.props.Honey.DeckBuilder.DeckUnits[5],DBUnits:this.props.Honey.DeckBuilder.DBUnits[5],f:this.props.Honey.DeckBuilder.API,header:"Anti-Air"})),r.a.createElement(ie.c,null,r.a.createElement(Pe,{DB:this.props.Honey.DB,DeckUnits:this.props.Honey.DeckBuilder.DeckUnits[6],DBUnits:this.props.Honey.DeckBuilder.DBUnits[6],f:this.props.Honey.DeckBuilder.API,header:"Artillery"})),r.a.createElement(ie.c,null,r.a.createElement(Pe,{DB:this.props.Honey.DB,DeckUnits:this.props.Honey.DeckBuilder.DeckUnits[7],DBUnits:this.props.Honey.DeckBuilder.DBUnits[7],f:this.props.Honey.DeckBuilder.API,header:"Planes"})),r.a.createElement(ie.c,null,r.a.createElement(Be,{DB:this.props.Honey.DB,RandomizerDecks:this.props.Honey.DeckBuilder.RandomizerDecks,f:this.props.Honey.DeckBuilder.API}))))}}]),t}(n.Component),je=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card"},r.a.createElement(ae,{Honey:this.props.Honey})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-7"},r.a.createElement(Se,{Honey:this.props.Honey})),r.a.createElement("div",{className:"col-xl-5"},r.a.createElement(ve,{Honey:this.props.Honey}))))}}]),t}(n.PureComponent),Ce=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={Replay:null,replayFile:null,desc:"Description"},a.parseReplay=function(e,t){var n=e.indexOf('"game"'),r=e.indexOf("}}star"),l=e.slice(n,r);l=JSON.parse("{"+l+"}}");var c=[];for(var i in l)l.hasOwnProperty(i)&&c.push(l[i]);for(var s=[],o=[],u=0;u<c.length;u++)0===u?s=c[u]:o.push(c[u]);var p=e.indexOf('"result"'),m=e.length-1,d=e.slice(p,m);d=JSON.parse(d.slice(d.indexOf(":")+1));var h={};h.VictoryCond=s.VictoryCond,h.TimeLimit=s.TimeLimit,h.ScoreLimit=s.ScoreLimit,h.Map=s.Map,h.InitMoney=s.InitMoney,h.IncomeRate=s.IncomeRate,h.GameType=s.GameType,h.GameMode=s.GameMode,h.Name=s.ServerName,h.gameID=s.UniqueSessionId,h.Players=[],h.Decks=[],o.forEach(function(e){h.Decks.push(e.PlayerDeckContent),h.Players.push(e.PlayerName)}),a.setState({Replay:h,replayFile:t})},a.handleFileSelect=function(e){var t=e.target.files[0],n=new FileReader;n.onload=function(){a.parseReplay(n.result,t)},n.readAsText(t)},a.handleChangeName=function(e){var t=a.state.Replay;t.Name=e.target.value,a.setState({Replay:t})},a.handleChangeDescription=function(e){var t=a.state.Replay;t.Description=e.target.value,a.setState({Replay:t,desc:t.Description})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return null===this.state.Replay?r.a.createElement("input",{id:"replayFile",type:"file",onChange:this.handleFileSelect}):this.props.IsUploading?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"mx-auto"},r.a.createElement("div",{className:"lds-dual-ring"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{id:"replayFile",type:"file",onChange:this.handleFileSelect}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h5",null,"Name")),r.a.createElement("div",{className:"col-md-9"},r.a.createElement("input",{className:"form-control",value:this.state.Replay.Name,type:"text",onChange:this.handleChangeName})),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h5",null,"Description")),r.a.createElement("div",{className:"col-md-9"},r.a.createElement("input",{className:"form-control",value:this.state.desc,type:"text",onChange:this.handleChangeDescription})),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h5",null,"Players:")),this.state.Replay.Players.map(function(e,t){return r.a.createElement("div",{className:"col-md-3",key:t},r.a.createElement("h5",null,e+", "))}),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("h5",null,"Victory: "+q(this.state.Replay.VictoryCond))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h5",null,"TimeLimit: "+Y(this.state.Replay.TimeLimit))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h5",null,"ScoreLimit: "+this.state.Replay.ScoreLimit)),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h5",null,"InitMoney: "+this.state.Replay.InitMoney)),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h5",null,"Map: "+J(this.state.Replay.Map))),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("h5",null,"IncomeRate: "+K(this.state.Replay.IncomeRate))),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("h5",null,"GameType: "+Z(this.state.Replay.GameType))),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("h5",null,"GameMode: "+function(e){switch(e){case"1":return"Skirmish";case"3":return"Historical";default:return"unknown"}}(this.state.Replay.GameMode))),r.a.createElement("div",{className:"btn btn-block btn-primary",onClick:function(){e.props.upload(e.state.Replay,e.state.replayFile)}},"Upload")))}}]),t}(n.Component);function Ue(e){for(var t=Te(e.Cards),a=0;a<8;a++)for(;t[a].length<10&&e.CostMatrix[a].length>=t[a].length;)t[a].push(e.CostMatrix[a][t[a].length]);return t}function Te(e){for(var t=[[],[],[],[],[],[],[],[]],a=0;a<e.length;a++)switch(e[a].Factory){case"Reco":t[0].push(e[a]);break;case"Infanterie":t[1].push(e[a]);break;case"Tank":t[2].push(e[a]);break;case"Support":t[3].push(e[a]);break;case"AT":t[4].push(e[a]);break;case"DCA":t[5].push(e[a]);break;case"Art":t[6].push(e[a]);break;case"Air":t[7].push(e[a]);break;default:console.error("UnitParseError: "+e[a].Factory)}return t}function we(e){for(var t=function(e){for(var t=[[],[],[],[],[],[],[],[]],a=0;a<e.length;a++)switch(e[a].Factory){case"Reco":t[0].push(e[a]);break;case"Infanterie":t[1].push(e[a]);break;case"Tank":t[2].push(e[a]);break;case"Support":t[3].push(e[a]);break;case"AT":t[4].push(e[a]);break;case"DCA":t[5].push(e[a]);break;case"Art":t[6].push(e[a]);break;case"Air":t[7].push(e[a]);break;default:console.error("UnitParseError: "+e[a].Factory)}return t}(e.Cards),a=0;a<8;a++)for(;t[a].length<10&&e.CostMatrix[a].length>=t[a].length;)t[a].push(e.CostMatrix[a][t[a].length]);return t}var Ie=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).initData=function(){e.props.Honey.Firebase.collection("SD1").doc("GameData").collection("Decks").doc("DeckList").get().then(function(t){var a=t.data().decklist,n=e.state.DeckBuilder,r=new z;n.Deck=r;var l=e.props.Honey.Firebase.collection("SD1").doc("GameData").collection("Decks");e.setState({Firebase:l,DB:a,DeckBuilder:n,isLoading:!1})}).catch(function(e){console.error("Get error: ",e)})},e.setDeck=function(e){var t=this,a=this.state.DB,n=a.findIndex(function(t){return t.Descriptor===e.Descriptor});if(-1===n)console.error("no such deck descriptor");else if("undefined"!==typeof a[n].MaxActivationPoints){var r=this.state.DeckBuilder,l=r.Deck.setDeck(a[n]),c=r.Deck.ExportCode;r.DBUnits=Te(a[n].PackList),r.DeckUnits=Ue(l),r.Deck=l,this.setState({DeckBuilder:r,code:c})}else this.setState({isLoading:!0}),this.state.Firebase.doc(e.Descriptor).get().then(function(e){a[n]=e.data();var r=t.state.DeckBuilder,l=r.Deck.setDeck(a[n]),c=r.Deck.ExportCode;r.DBUnits=Te(a[n].PackList),r.DeckUnits=Ue(l),r.Deck=l,t.setState({isLoading:!1,DeckBuilder:r,code:c,DB:a})})}.bind(Object(b.a)(Object(b.a)(e))),e.addUnit=function(e){var t=this.state.DeckBuilder,a=t.Deck;if(a.PackList.filter(function(t){return t===e}).length>0){var n=(a=a.addUnit(e)).ExportCode;t.DeckUnits=Ue(a),t.Deck=a,this.setState({DeckBuilder:t,code:n})}}.bind(Object(b.a)(Object(b.a)(e))),e.deleteUnit=function(e){var t=this.state.DeckBuilder,a=t.Deck.deleteUnit(e),n=a.ExportCode;t.DeckUnits=Ue(a),t.Deck=a,this.setState({DeckBuilder:t,code:n})}.bind(Object(b.a)(Object(b.a)(e))),e.showUnit=function(e){var t=this.state.DeckBuilder.UnitsToDisplay;if(0===t.filter(function(t){return t.EncodeInt===e.EncodeInt}).length){t.push(e);var a=this.state.DeckBuilder;a.UnitsToDisplay=t,this.setState({DeckBuilder:a})}}.bind(Object(b.a)(Object(b.a)(e))),e.hideUnit=function(e){var t=this.state.DeckBuilder.UnitsToDisplay;t.splice(t.indexOf(e),1);var a=this.state.DeckBuilder;a.UnitsToDisplay=t,this.setState({DeckBuilder:a})}.bind(Object(b.a)(Object(b.a)(e))),e.sortBy=function(e,t){console.log("sortby");var a=this.state.DeckBuilder,n=a.DBUnits;if(0===e)for(var r=0;r<n.length;r++)n[r].sort(function(e,a){return e[t]>a[t]?1:a[t]>e[t]?-1:0});else if(1===e)for(var l=0;l<n.length;l++)n[l].sort(function(e,a){return e.Unit[t]>a.Unit[t]?1:a.Unit[t]>e.Unit[t]?-1:0});else if(2===e)for(var c=0;c<n.length;c++)n[c].sort(function(e,a){return null===e.TransportUnit?0:null===a.TransportUnit?1:e.TransportUnit[t]>a.TransportUnit[t]?1:a.TransportUnit[t]>e.TransportUnit[t]?-1:0});a.DBUnits=n,this.setState({DeckBuilder:a})}.bind(Object(b.a)(Object(b.a)(e))),e.isValid=function(e){return this.state.DeckBuilder.Deck.PackList.filter(function(t){return t.Descriptor===e.Descriptor}).length>0&&this.state.DeckBuilder.Deck.Cards.filter(function(t){return t.Descriptor===e.Descriptor}).length<=e.PackAvailabilty}.bind(Object(b.a)(Object(b.a)(e))),e.getUsedCount=function(e){return this.state.DeckBuilder.Deck.Cards.filter(function(t){return t.Descriptor===e.Descriptor}).length}.bind(Object(b.a)(Object(b.a)(e))),e.toggleRandomizer=function(e){var t=this.state.DB.filter(function(e){return-1===e.Descriptor.indexOf("SCENARIO")});"Allied"===e||"Axis"===e?t=t.filter(function(t){return t.DivisionNationalite===e}):(t=this.state.DeckBuilder.RandomizerDecks).filter(function(t){return t===e}).length>0?t.splice(t.indexOf(e),1):t.push(e);var a=this.state.DeckBuilder;a.RandomizerDecks=t,this.setState({DeckBuilder:a})}.bind(Object(b.a)(Object(b.a)(e))),e.setDeckCode=function(e){this.setState({code:e})}.bind(Object(b.a)(Object(b.a)(e))),e.parseDeckCode=function(e){var t=this,a=this.state.DeckBuilder,n=new z,r=this.state.DB,l=n.getEncodeID(e),c=r.findIndex(function(e){return e.EncodeInt===l});if(-1===c)console.error("no such deck");else if("undefined"!==typeof r[c].MaxActivationPoints){var i=(n=n.decodeDeck(e,this.state.DB)).ExportCode;a.DBUnits=Te(n.PackList),a.DeckUnits=Ue(n),a.Deck=n,this.setState({DeckBuilder:a,code:i})}else this.setState({isLoading:!0}),this.state.Firebase.doc(r[c].Descriptor).get().then(function(l){r[c]=l.data();var i=(n=n.decodeDeck(e,t.state.DB)).ExportCode;a.DBUnits=Te(n.PackList),a.DeckUnits=Ue(n),a.Deck=n,t.setState({DB:r,DeckBuilder:a,isLoading:!1,code:i})})}.bind(Object(b.a)(Object(b.a)(e))),e.deckListFilter=function(e){var t=this.state.DeckDB;t.sortby=e,this.setState({DeckDB:t}),this.loadDecks(e)}.bind(Object(b.a)(Object(b.a)(e))),e.deckListVote=function(e){if(null!==this.props.Honey.User){if(e.Score.includes(this.props.Honey.User.uid)){var t=e.Score.indexOf(this.props.Honey.User.uid);t>-1&&e.Score.splice(t,1),e.ScoreCount--}else e.Score.push(this.props.Honey.User.uid),e.ScoreCount++;this.props.Honey.Firebase.collection("SubmittedDecks").doc(e.ID).update({Score:e.Score,ScoreCount:e.ScoreCount}),this.loadDecks(this.state.DeckDB.sortby)}}.bind(Object(b.a)(Object(b.a)(e))),e.deckListGet=function(e){var t,a=this;null===e?(t=this.state.code,e={Name:"untitled",Division:this.state.DeckBuilder.Deck.Emblem,Description:"",Side:this.state.DeckBuilder.Deck.DivisionNationalite,Author:"",UID:"",Score:[],ScoreCount:0,code:this.state.DeckBuilder.Deck.ExportCode}):t=e.code;var n=this.state.DeckDB,r=new z,l=this.state.DB,c=r.getEncodeID(t),i=l.findIndex(function(e){return e.EncodeInt===c});if(-1===i)console.error("no such deck");else if("undefined"!==typeof l[i].MaxActivationPoints){r.decodeDeck(t,this.state.DB);var s=r.ExportCode;n.SelectedDeck=r,n.SelectedDeckCode=s,n.SelectedDeckObject=e,n.DeckUnits=we(r),this.setState({DeckDB:n})}else this.setState({isLoading:!0}),this.state.Firebase.doc(l[i].Descriptor).get().then(function(c){l[i]=c.data(),r.decodeDeck(t,a.state.DB);var s=r.ExportCode;n.SelectedDeck=r,n.SelectedDeckCode=s,n.SelectedDeckObject=e,n.DeckUnits=we(r),a.setState({DB:l,DeckDB:n,isLoading:!1})})}.bind(Object(b.a)(Object(b.a)(e))),e.deckListSet=function(){this.parseDeckCode(this.state.DeckDB.SelectedDeckCode)}.bind(Object(b.a)(Object(b.a)(e))),e.deckListEdit=function(e){var t=this.state.DeckDB;t.SelectedDeckObject.Name=e.Name,t.SelectedDeckObject.Description=e.Description,this.setState({DeckDB:t})}.bind(Object(b.a)(Object(b.a)(e))),e.deckListDelete=function(e){var t=this;this.props.Honey.Firebase.collection("SubmittedDecks").doc(e.ID).delete().then(function(){t.loadDecks(t.state.DeckDB.sortby)}).catch(function(e){console.error("Error removing document: ",e)})}.bind(Object(b.a)(Object(b.a)(e))),e.deckListUpload=function(e){var t=this;if(null!==this.props.Honey.User){var a={Name:e.Name,Description:e.Description,Division:this.state.DeckDB.SelectedDeck.Emblem,Score:[this.props.Honey.User.uid],ScoreCount:1,Side:this.state.DeckDB.SelectedDeck.DivisionNationalite,UID:this.props.Honey.User.uid,by:e.Author,code:this.state.DeckDB.SelectedDeckCode};this.props.Honey.Firebase.collection("SubmittedDecks").add(a).then(function(){t.loadDecks(t.state.DeckDB.sortby)}).catch(function(e){console.error("Error removing document: ",e)})}else this.props.Honey.PleaseLogIn()}.bind(Object(b.a)(Object(b.a)(e))),e.loadDecks=function(e){var t=this;if(null!==this.state.DeckDB.sortBy){var a=[],n=null;"new"===e?n=this.props.Honey.Firebase.collection("SubmittedDecks").orderBy("Uploaded","desc"):"score"===e&&(n=this.props.Honey.Firebase.collection("SubmittedDecks").orderBy("ScoreCount","desc")),n.get().then(function(e){e.forEach(function(e){a.push(e.data()),a[a.length-1].ID=e.id});var n=t.state.DeckDB;n.FullDeckList=a,n.DeckList=a,t.setState({DeckDB:n})}).catch(function(e){console.error("Get error: ",e)})}}.bind(Object(b.a)(Object(b.a)(e))),e.replayFilter=function(e){var t=this.state.ReplayDB;t.sortby=e,this.setState({ReplayDB:t}),this.loadReplays(e)}.bind(Object(b.a)(Object(b.a)(e))),e.replayVote=function(e){if(null!==this.props.Honey.User){if(e.Score.includes(this.props.Honey.User.uid)){var t=e.Score.indexOf(this.props.Honey.User.uid);t>-1&&e.Score.splice(t,1),e.ScoreCount--}else e.Score.push(this.props.Honey.User.uid),e.ScoreCount++;this.props.Honey.Firebase.collection("SubmittedReplays").doc(e.ID).update({Score:e.Score,ScoreCount:e.ScoreCount}),this.loadReplays(this.state.ReplayDB.sortby)}}.bind(Object(b.a)(Object(b.a)(e))),e.replayGet=function(e){console.log("replayGet");for(var t=[],a=0;a<e.Players.length;a++)t.push({}),t[a].Player=e.Players[a],t[a].Deck=e.Decks[a];var n=this.state.ReplayDB;n.Replay=e,n.ReplayDecks=t,this.setState({ReplayDB:n})}.bind(Object(b.a)(Object(b.a)(e))),e.ReplayDeckSet=function(e){this.parseDeckCode(e)}.bind(Object(b.a)(Object(b.a)(e))),e.replayDelete=function(e){var t=this;this.props.Honey.Firebase.collection("SubmittedReplays").doc(e.ID).delete().then(function(){t.props.Honey.Storage.child(e.ID+"/"+e.gameID+".rpl").delete().then(function(){console.log("file deleted"),t.loadDecks(t.props.Honey.ReplayDB.sortby)}).catch(function(e){console.error("Error removing document: ",e)})}).catch(function(e){console.error("Error removing document: ",e)})}.bind(Object(b.a)(Object(b.a)(e))),e.replayShowUpload=function(){this.uploadDialog.show()}.bind(Object(b.a)(Object(b.a)(e))),e.replayUpload=function(e,t){var a=this;if(null!==this.props.Honey.User){if(null===e||null===t)return;var n=this.state.ReplayDB;n.IsUploading=!0,this.setState({ReplayDB:n}),e.UID=this.props.Honey.User.uid,e.Score=[this.props.Honey.User.uid],e.ScoreCount=1;var r={type:"SD1"},l=e.gameID+".rpl3",c=this.props.Honey.Firebase.collection("SubmittedReplays");c.add(e).then(function(e){var n=e.id;a.props.Honey.Storage.child(n+"/"+l).put(t,r).then(function(e){return e.ref.getDownloadURL().then(function(e){c.doc(n).update({DL:e}),a.loadReplays(a.state.ReplayDB.sortby);var t=a.state.ReplayDB;t.IsUploading=!0,a.setState({ReplayDB:t}),a.uploadDialog.hide()}).catch(function(e){this.props.Honey.ErrorOut(),console.error("URL error: ",e)})}).catch(function(e){this.uploadDialog.hide(),this.props.Honey.ErrorOut(),console.error("Error adding replay: ",e)})}).catch(function(e){this.props.Honey.ErrorOut(),console.error("Error adding document: ",e)})}else this.uploadDialog.hide(),this.props.Honey.PleaseLogIn()}.bind(Object(b.a)(Object(b.a)(e))),e.loadReplays=function(e){var t=this;if(null!==this.state.ReplayDB.sortBy){var a=[],n=null;"new"===e?n=this.props.Honey.Firebase.collection("SubmittedReplays").orderBy("Uploaded","desc"):"score"===e&&(n=this.props.Honey.Firebase.collection("SubmittedReplays").orderBy("ScoreCount","desc")),n.get().then(function(e){e.forEach(function(e){a.push(e.data()),a[a.length-1].ID=e.id});var n=t.state.ReplayDB;n.ReplayList=a,t.setState({ReplayDB:n})}).catch(function(e){console.error("Get error: ",e)})}}.bind(Object(b.a)(Object(b.a)(e))),e.state={isLoading:!0,code:"",API:{parseDeckCode:e.parseDeckCode,setDeckCode:e.setDeckCode},DB:null,Firebase:null,DeckBuilder:{Deck:null,UnitsToDisplay:[],RandomizerDecks:[],DBUnits:[[],[],[],[],[],[],[],[]],DeckUnits:[[],[],[],[],[],[],[],[]],API:{setDeck:e.setDeck,addUnit:e.addUnit,deleteUnit:e.deleteUnit,showUnit:e.showUnit,hideUnit:e.hideUnit,sortBy:e.sortBy,isValid:e.isValid,getUsedCount:e.getUsedCount,toggleRandomizer:e.toggleRandomizer}},DeckDB:{FullDeckList:null,DeckList:null,FilterParam:null,SelectedDeck:null,SelectedDeckCode:"",SelectedDeckObject:null,DeckUnits:[[],[],[],[],[],[],[],[]],sortby:null,API:{filter:e.deckListFilter,vote:e.deckListVote,showDeck:e.deckListGet,editDeck:e.deckListSet,editHeader:e.deckListEdit,deleteDeck:e.deckListDelete,uploadDeck:e.deckListUpload}},ReplayDB:{ReplayList:null,sortby:null,Replay:null,ReplayDecks:null,IsUploading:null,API:{filter:e.replayFilter,vote:e.replayVote,showReplay:e.replayGet,editDeck:e.ReplayDeckSet,deleteReplay:e.replayDelete,showUpload:e.replayShowUpload,upload:e.replayUpload}}},e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return this.state.isLoading?(null===this.state.DB&&this.initData(),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"mx-auto"},r.a.createElement("div",{className:"lds-dual-ring"})))):"DeckBuilder"===this.props.Honey.ActiveTab?r.a.createElement(je,{Honey:this.state}):"DeckDB"===this.props.Honey.ActiveTab?r.a.createElement(G,{DB:this.state.DB,deckDB:this.state.DeckDB,DeckUnits:this.state.DeckBuilder.DeckUnits,User:this.props.Honey.User}):"ReplayDB"===this.props.Honey.ActiveTab?r.a.createElement(r.a.Fragment,null,r.a.createElement(te,{DB:this.state.DB,ReplayDB:this.state.ReplayDB,User:this.props.Honey.User,upload:this.state.ReplayDB.API.showUpload,filter:this.state.ReplayDB.API.filter}),r.a.createElement(f.a,{hideOnOverlayClicked:!0,ref:function(t){return e.uploadDialog=t},title:r.a.createElement(Ce,{upload:this.state.ReplayDB.API.upload,IsUploading:this.state.ReplayDB.IsUploading})})):null}}]),t}(n.Component),Re=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(n.PureComponent);a(62).config();var He=function(e){function t(){var e;Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).PleaseLogInShow=function(){e.PleaseLogIn.show()},e.loadSD1=function(){e.setState({loadedDB:"SD1",ActiveTab:"DeckBuilder"})},e.loadSD2=function(){console.log("SD2 DB support not implemented yet")},e.setActiveTab=function(t){e.setState({ActiveTab:t})},e.logIn=function(){if(null===e.state.User){var t=new h.auth.GoogleAuthProvider;h.auth().signInWithPopup(t).then(function(t){e.setState({User:t.user,Token:t.credential.accessToken,LogInButtonText:"Logout"})}).catch(function(e){this.Error(),console.log(e)})}else e.logOut()},e.logOut=function(){h.auth().signOut().then(function(){e.setState({User:null,Token:null,LogInButtonText:"Login"})}).catch(function(e){console.log(e)})},e.showDBInterface=function(){return null===e.state.loadedDB?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl"},r.a.createElement("button",{className:"btn btn-default btn-block",onClick:e.loadSD1},"Steel Division: Normandy 44"))))):"SD1"===e.state.loadedDB?r.a.createElement(Ie,{Honey:e.state}):"SD2"===e.state.loadedDB?r.a.createElement(Re,{Honey:e.state}):void console.log(e.state.loadedDB)};var a=h.firestore(),n=h.storage().ref();return e.state={loadedDB:null,ActiveTab:"DBloader",User:null,Token:null,Firebase:a,Storage:n,setActiveTab:e.setActiveTab,logIn:e.logIn,logout:e.logOut,PleaseLogIn:e.PleaseLogInShow,ErrorOut:e.Error},e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"card"},r.a.createElement(D,{Honey:this.state})),r.a.createElement(f.a,{hideOnOverlayClicked:!0,ref:function(t){return e.PleaseLogIn=t}},"Please Log In"),r.a.createElement(f.a,{hideOnOverlayClicked:!0,ref:function(t){return e.Error=t}},"An error has occurred"),this.showDBInterface())}}]),t}(n.Component),Me=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Le(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(He,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/SteelDivisionDB",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/SteelDivisionDB","/service-worker.js");Me?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Le(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Le(e)})}}()},65:function(e,t,a){e.exports=a(131)},71:function(e,t,a){}},[[65,1,2]]]);
//# sourceMappingURL=main.a4f20076.chunk.js.map