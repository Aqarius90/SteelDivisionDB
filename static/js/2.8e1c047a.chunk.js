/*! For license information please see 2.8e1c047a.chunk.js.LICENSE.txt */
(this.webpackJsonpsteeldivisiondb=this.webpackJsonpsteeldivisiondb||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(149)},function(e,t,n){"use strict";n(21);var r=n(0),i=n.n(r);function o(e){return e.type&&"Tab"===e.type.tabsRole}function a(e){return e.type&&"TabPanel"===e.type.tabsRole}function s(e){return e.type&&"TabList"===e.type.tabsRole}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return r.Children.map(e,(function(e){return null===e?null:function(e){return o(e)||s(e)||a(e)}(e)?t(e):e.props&&e.props.children&&"object"===typeof e.props.children?Object(r.cloneElement)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({},e.props,{children:c(e.props.children,t)})):e}))}function l(e,t){return r.Children.forEach(e,(function(e){null!==e&&(o(e)||a(e)?t(e):e.props&&e.props.children&&"object"===typeof e.props.children&&(s(e)&&t(e),l(e.props.children,t)))}))}var f,h=n(33),d=n.n(h),p=0;function m(){return"react-tabs-"+p++}function v(e){var t=0;return l(e,(function(e){o(e)&&t++})),t}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e){return e&&"getAttribute"in e}function b(e){return g(e)&&"tab"===e.getAttribute("role")}function w(e){return g(e)&&"true"===e.getAttribute("aria-disabled")}try{f=!("undefined"===typeof window||!window.document||!window.document.activeElement)}catch(A){f=!1}var _=function(e){var t,n;function u(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).tabNodes=[],t.handleKeyDown=function(e){if(t.isTabFromContainer(e.target)){var n=t.props.selectedIndex,r=!1,i=!1;32!==e.keyCode&&13!==e.keyCode||(r=!0,i=!1,t.handleClick(e)),37===e.keyCode||38===e.keyCode?(n=t.getPrevTab(n),r=!0,i=!0):39===e.keyCode||40===e.keyCode?(n=t.getNextTab(n),r=!0,i=!0):35===e.keyCode?(n=t.getLastTab(),r=!0,i=!0):36===e.keyCode&&(n=t.getFirstTab(),r=!0,i=!0),r&&e.preventDefault(),i&&t.setSelected(n,e)}},t.handleClick=function(e){var n=e.target;do{if(t.isTabFromContainer(n)){if(w(n))return;var r=[].slice.call(n.parentNode.children).filter(b).indexOf(n);return void t.setSelected(r,e)}}while(null!=(n=n.parentNode))},t}n=e,(t=u).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var h=u.prototype;return h.setSelected=function(e,t){if(!(e<0||e>=this.getTabsCount())){var n=this.props;(0,n.onSelect)(e,n.selectedIndex,t)}},h.getNextTab=function(e){for(var t=this.getTabsCount(),n=e+1;n<t;n++)if(!w(this.getTab(n)))return n;for(var r=0;r<e;r++)if(!w(this.getTab(r)))return r;return e},h.getPrevTab=function(e){for(var t=e;t--;)if(!w(this.getTab(t)))return t;for(t=this.getTabsCount();t-- >e;)if(!w(this.getTab(t)))return t;return e},h.getFirstTab=function(){for(var e=this.getTabsCount(),t=0;t<e;t++)if(!w(this.getTab(t)))return t;return null},h.getLastTab=function(){for(var e=this.getTabsCount();e--;)if(!w(this.getTab(e)))return e;return null},h.getTabsCount=function(){return v(this.props.children)},h.getPanelsCount=function(){return function(e){var t=0;return l(e,(function(e){a(e)&&t++})),t}(this.props.children)},h.getTab=function(e){return this.tabNodes["tabs-"+e]},h.getChildren=function(){var e=this,t=0,n=this.props,u=n.children,l=n.disabledTabClassName,h=n.focus,d=n.forceRenderTabPanel,p=n.selectedIndex,v=n.selectedTabClassName,y=n.selectedTabPanelClassName;this.tabIds=this.tabIds||[],this.panelIds=this.panelIds||[];for(var g=this.tabIds.length-this.getTabsCount();g++<0;)this.tabIds.push(m()),this.panelIds.push(m());return c(u,(function(n){var u=n;if(s(n)){var m=0,g=!1;f&&(g=i.a.Children.toArray(n.props.children).filter(o).some((function(t,n){return document.activeElement===e.getTab(n)}))),u=Object(r.cloneElement)(n,{children:c(n.props.children,(function(t){var n="tabs-"+m,i=p===m,o={tabRef:function(t){e.tabNodes[n]=t},id:e.tabIds[m],panelId:e.panelIds[m],selected:i,focus:i&&(h||g)};return v&&(o.selectedClassName=v),l&&(o.disabledClassName=l),m++,Object(r.cloneElement)(t,o)}))})}else if(a(n)){var b={id:e.panelIds[t],tabId:e.tabIds[t],selected:p===t};d&&(b.forceRender=d),y&&(b.selectedClassName=y),t++,u=Object(r.cloneElement)(n,b)}return u}))},h.isTabFromContainer=function(e){if(!b(e))return!1;var t=e.parentElement;do{if(t===this.node)return!0;if(t.getAttribute("data-tabs"))break;t=t.parentElement}while(t);return!1},h.render=function(){var e=this,t=this.props,n=(t.children,t.className),r=(t.disabledTabClassName,t.domRef),o=(t.focus,t.forceRenderTabPanel,t.onSelect,t.selectedIndex,t.selectedTabClassName,t.selectedTabPanelClassName,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName"]));return i.a.createElement("div",y({},o,{className:d()(n),onClick:this.handleClick,onKeyDown:this.handleKeyDown,ref:function(t){e.node=t,r&&r(t)},"data-tabs":!0}),this.getChildren())},u}(r.Component);_.defaultProps={className:"react-tabs",focus:!1},_.propTypes={};var T=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).handleSelected=function(e,t,r){var i=n.props.onSelect,o=n.state.mode;if("function"!==typeof i||!1!==i(e,t,r)){var a={focus:"keydown"===r.type};1===o&&(a.selectedIndex=e),n.setState(a)}},n.state=r.copyPropsToState(n.props,{},t.defaultFocus),n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){return r.copyPropsToState(e,t)},r.getModeFromProps=function(e){return null===e.selectedIndex?1:0},r.copyPropsToState=function(e,t,n){void 0===n&&(n=!1);var i={focus:n,mode:r.getModeFromProps(e)};if(1===i.mode){var o=v(e.children)-1,a=null;a=null!=t.selectedIndex?Math.min(t.selectedIndex,o):e.defaultIndex||0,i.selectedIndex=a}return i},r.prototype.render=function(){var e=this.props,t=e.children,n=(e.defaultIndex,e.defaultFocus,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","defaultIndex","defaultFocus"])),r=this.state,o=r.focus,a=r.selectedIndex;return n.focus=o,n.onSelect=this.handleSelected,null!=a&&(n.selectedIndex=a),i.a.createElement(_,n,t)},r}(r.Component);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}T.defaultProps={defaultFocus:!1,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null},T.propTypes={},T.tabsRole="Tabs";var E=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","className"]);return i.a.createElement("ul",S({},r,{className:d()(n),role:"tablist"}),t)},r}(r.Component);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}E.defaultProps={className:"react-tabs__tab-list"},E.propTypes={},E.tabsRole="TabList";var C=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.checkFocus()},o.componentDidUpdate=function(){this.checkFocus()},o.checkFocus=function(){var e=this.props,t=e.selected,n=e.focus;t&&n&&this.node.focus()},o.render=function(){var e,t=this,n=this.props,r=n.children,o=n.className,a=n.disabled,s=n.disabledClassName,u=(n.focus,n.id),c=n.panelId,l=n.selected,f=n.selectedClassName,h=n.tabIndex,p=n.tabRef,m=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["children","className","disabled","disabledClassName","focus","id","panelId","selected","selectedClassName","tabIndex","tabRef"]);return i.a.createElement("li",k({},m,{className:d()(o,(e={},e[f]=l,e[s]=a,e)),ref:function(e){t.node=e,p&&p(e)},role:"tab",id:u,"aria-selected":l?"true":"false","aria-disabled":a?"true":"false","aria-controls":c,tabIndex:h||(l?"0":null)}),r)},r}(r.Component);function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}C.defaultProps={className:"react-tabs__tab",disabledClassName:"react-tabs__tab--disabled",focus:!1,id:null,panelId:null,selected:!1,selectedClassName:"react-tabs__tab--selected"},C.propTypes={},C.tabsRole="Tab";var x=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.props,n=t.children,r=t.className,o=t.forceRender,a=t.id,s=t.selected,u=t.selectedClassName,c=t.tabId,l=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children","className","forceRender","id","selected","selectedClassName","tabId"]);return i.a.createElement("div",I({},l,{className:d()(r,(e={},e[u]=s,e)),role:"tabpanel",id:a,"aria-labelledby":c}),o||s?n:null)},r}(r.Component);x.defaultProps={className:"react-tabs__tab-panel",forceRender:!1,selectedClassName:"react-tabs__tab-panel--selected"},x.propTypes={},x.tabsRole="TabPanel",n.d(t,"d",(function(){return T})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return x}))},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(20);function o(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?Object(i.a)(e):t}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){(function(e,r){var i;(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",c="[object Array]",l="[object Boolean]",f="[object Date]",h="[object Error]",d="[object Function]",p="[object GeneratorFunction]",m="[object Map]",v="[object Number]",y="[object Object]",g="[object RegExp]",b="[object Set]",w="[object String]",_="[object Symbol]",T="[object WeakMap]",S="[object ArrayBuffer]",E="[object DataView]",k="[object Float32Array]",C="[object Float64Array]",I="[object Int8Array]",x="[object Int16Array]",A="[object Int32Array]",O="[object Uint8Array]",D="[object Uint16Array]",N="[object Uint32Array]",P=/\b__p \+= '';/g,R=/\b(__p \+=) '' \+/g,L=/(__e\(.*?\)|\b__t\)) \+\n'';/g,M=/&(?:amp|lt|gt|quot|#39);/g,j=/[&<>"']/g,F=RegExp(M.source),U=RegExp(j.source),B=/<%-([\s\S]+?)%>/g,q=/<%([\s\S]+?)%>/g,V=/<%=([\s\S]+?)%>/g,z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,K=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,H=/[\\^$.*+?()[\]{}|]/g,Q=RegExp(H.source),G=/^\s+|\s+$/g,Y=/^\s+/,X=/\s+$/,$=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,J=/\{\n\/\* \[wrapped with (.+)\] \*/,Z=/,? & /,ee=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,te=/\\(\\)?/g,ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,re=/\w*$/,ie=/^[-+]0x[0-9a-f]+$/i,oe=/^0b[01]+$/i,ae=/^\[object .+?Constructor\]$/,se=/^0o[0-7]+$/i,ue=/^(?:0|[1-9]\d*)$/,ce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,le=/($^)/,fe=/['\n\r\u2028\u2029\\]/g,he="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",de="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pe="[\\ud800-\\udfff]",me="["+de+"]",ve="["+he+"]",ye="\\d+",ge="[\\u2700-\\u27bf]",be="[a-z\\xdf-\\xf6\\xf8-\\xff]",we="[^\\ud800-\\udfff"+de+ye+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",_e="\\ud83c[\\udffb-\\udfff]",Te="[^\\ud800-\\udfff]",Se="(?:\\ud83c[\\udde6-\\uddff]){2}",Ee="[\\ud800-\\udbff][\\udc00-\\udfff]",ke="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ce="(?:"+be+"|"+we+")",Ie="(?:"+ke+"|"+we+")",xe="(?:"+ve+"|"+_e+")"+"?",Ae="[\\ufe0e\\ufe0f]?"+xe+("(?:\\u200d(?:"+[Te,Se,Ee].join("|")+")[\\ufe0e\\ufe0f]?"+xe+")*"),Oe="(?:"+[ge,Se,Ee].join("|")+")"+Ae,De="(?:"+[Te+ve+"?",ve,Se,Ee,pe].join("|")+")",Ne=RegExp("['\u2019]","g"),Pe=RegExp(ve,"g"),Re=RegExp(_e+"(?="+_e+")|"+De+Ae,"g"),Le=RegExp([ke+"?"+be+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[me,ke,"$"].join("|")+")",Ie+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[me,ke+Ce,"$"].join("|")+")",ke+"?"+Ce+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ke+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ye,Oe].join("|"),"g"),Me=RegExp("[\\u200d\\ud800-\\udfff"+he+"\\ufe0e\\ufe0f]"),je=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Fe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ue=-1,Be={};Be[k]=Be[C]=Be[I]=Be[x]=Be[A]=Be[O]=Be["[object Uint8ClampedArray]"]=Be[D]=Be[N]=!0,Be[u]=Be[c]=Be[S]=Be[l]=Be[E]=Be[f]=Be[h]=Be[d]=Be[m]=Be[v]=Be[y]=Be[g]=Be[b]=Be[w]=Be[T]=!1;var qe={};qe[u]=qe[c]=qe[S]=qe[E]=qe[l]=qe[f]=qe[k]=qe[C]=qe[I]=qe[x]=qe[A]=qe[m]=qe[v]=qe[y]=qe[g]=qe[b]=qe[w]=qe[_]=qe[O]=qe["[object Uint8ClampedArray]"]=qe[D]=qe[N]=!0,qe[h]=qe[d]=qe[T]=!1;var Ve={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ze=parseFloat,We=parseInt,Ke="object"==typeof e&&e&&e.Object===Object&&e,He="object"==typeof self&&self&&self.Object===Object&&self,Qe=Ke||He||Function("return this")(),Ge=t&&!t.nodeType&&t,Ye=Ge&&"object"==typeof r&&r&&!r.nodeType&&r,Xe=Ye&&Ye.exports===Ge,$e=Xe&&Ke.process,Je=function(){try{var e=Ye&&Ye.require&&Ye.require("util").types;return e||$e&&$e.binding&&$e.binding("util")}catch(t){}}(),Ze=Je&&Je.isArrayBuffer,et=Je&&Je.isDate,tt=Je&&Je.isMap,nt=Je&&Je.isRegExp,rt=Je&&Je.isSet,it=Je&&Je.isTypedArray;function ot(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function at(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function st(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function ut(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function lt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function ft(e,t){return!!(null==e?0:e.length)&&_t(e,t,0)>-1}function ht(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function dt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function pt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function mt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function vt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function yt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var gt=kt("length");function bt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function wt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function _t(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):wt(e,St,n)}function Tt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function St(e){return e!==e}function Et(e,t){var n=null==e?0:e.length;return n?xt(e,t)/n:NaN}function kt(e){return function(t){return null==t?void 0:t[e]}}function Ct(e){return function(t){return null==e?void 0:e[t]}}function It(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function xt(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function At(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Ot(e){return function(t){return e(t)}}function Dt(e,t){return dt(t,(function(t){return e[t]}))}function Nt(e,t){return e.has(t)}function Pt(e,t){for(var n=-1,r=e.length;++n<r&&_t(t,e[n],0)>-1;);return n}function Rt(e,t){for(var n=e.length;n--&&_t(t,e[n],0)>-1;);return n}function Lt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Mt=Ct({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),jt=Ct({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ft(e){return"\\"+Ve[e]}function Ut(e){return Me.test(e)}function Bt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function qt(e,t){return function(n){return e(t(n))}}function Vt(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function zt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Wt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Kt(e){return Ut(e)?function(e){var t=Re.lastIndex=0;for(;Re.test(e);)++t;return t}(e):gt(e)}function Ht(e){return Ut(e)?function(e){return e.match(Re)||[]}(e):function(e){return e.split("")}(e)}var Qt=Ct({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Gt=function e(t){var n=(t=null==t?Qe:Gt.defaults(Qe.Object(),t,Gt.pick(Qe,Fe))).Array,r=t.Date,i=t.Error,he=t.Function,de=t.Math,pe=t.Object,me=t.RegExp,ve=t.String,ye=t.TypeError,ge=n.prototype,be=he.prototype,we=pe.prototype,_e=t["__core-js_shared__"],Te=be.toString,Se=we.hasOwnProperty,Ee=0,ke=function(){var e=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ce=we.toString,Ie=Te.call(pe),xe=Qe._,Ae=me("^"+Te.call(Se).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Oe=Xe?t.Buffer:void 0,De=t.Symbol,Re=t.Uint8Array,Me=Oe?Oe.allocUnsafe:void 0,Ve=qt(pe.getPrototypeOf,pe),Ke=pe.create,He=we.propertyIsEnumerable,Ge=ge.splice,Ye=De?De.isConcatSpreadable:void 0,$e=De?De.iterator:void 0,Je=De?De.toStringTag:void 0,gt=function(){try{var e=Ji(pe,"defineProperty");return e({},"",{}),e}catch(t){}}(),Ct=t.clearTimeout!==Qe.clearTimeout&&t.clearTimeout,Yt=r&&r.now!==Qe.Date.now&&r.now,Xt=t.setTimeout!==Qe.setTimeout&&t.setTimeout,$t=de.ceil,Jt=de.floor,Zt=pe.getOwnPropertySymbols,en=Oe?Oe.isBuffer:void 0,tn=t.isFinite,nn=ge.join,rn=qt(pe.keys,pe),on=de.max,an=de.min,sn=r.now,un=t.parseInt,cn=de.random,ln=ge.reverse,fn=Ji(t,"DataView"),hn=Ji(t,"Map"),dn=Ji(t,"Promise"),pn=Ji(t,"Set"),mn=Ji(t,"WeakMap"),vn=Ji(pe,"create"),yn=mn&&new mn,gn={},bn=Co(fn),wn=Co(hn),_n=Co(dn),Tn=Co(pn),Sn=Co(mn),En=De?De.prototype:void 0,kn=En?En.valueOf:void 0,Cn=En?En.toString:void 0;function In(e){if(za(e)&&!Na(e)&&!(e instanceof Dn)){if(e instanceof On)return e;if(Se.call(e,"__wrapped__"))return Io(e)}return new On(e)}var xn=function(){function e(){}return function(t){if(!Va(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function An(){}function On(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Dn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Pn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Rn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ln(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Rn;++t<n;)this.add(e[t])}function Mn(e){var t=this.__data__=new Pn(e);this.size=t.size}function jn(e,t){var n=Na(e),r=!n&&Da(e),i=!n&&!r&&Ma(e),o=!n&&!r&&!i&&$a(e),a=n||r||i||o,s=a?At(e.length,ve):[],u=s.length;for(var c in e)!t&&!Se.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||oo(c,u))||s.push(c);return s}function Fn(e){var t=e.length;return t?e[Lr(0,t-1)]:void 0}function Un(e,t){return So(vi(e),Gn(t,0,e.length))}function Bn(e){return So(vi(e))}function qn(e,t,n){(void 0===n||xa(e[t],n))&&(void 0!==n||t in e)||Hn(e,t,n)}function Vn(e,t,n){var r=e[t];Se.call(e,t)&&xa(r,n)&&(void 0!==n||t in e)||Hn(e,t,n)}function zn(e,t){for(var n=e.length;n--;)if(xa(e[n][0],t))return n;return-1}function Wn(e,t,n,r){return Zn(e,(function(e,i,o){t(r,e,n(e),o)})),r}function Kn(e,t){return e&&yi(t,bs(t),e)}function Hn(e,t,n){"__proto__"==t&&gt?gt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Qn(e,t){for(var r=-1,i=t.length,o=n(i),a=null==e;++r<i;)o[r]=a?void 0:ps(e,t[r]);return o}function Gn(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Yn(e,t,n,r,i,o){var a,s=1&t,c=2&t,h=4&t;if(n&&(a=i?n(e,r,i,o):n(e)),void 0!==a)return a;if(!Va(e))return e;var T=Na(e);if(T){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Se.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return vi(e,a)}else{var P=to(e),R=P==d||P==p;if(Ma(e))return li(e,s);if(P==y||P==u||R&&!i){if(a=c||R?{}:ro(e),!s)return c?function(e,t){return yi(e,eo(e),t)}(e,function(e,t){return e&&yi(t,ws(t),e)}(a,e)):function(e,t){return yi(e,Zi(e),t)}(e,Kn(a,e))}else{if(!qe[P])return i?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case S:return fi(e);case l:case f:return new r(+e);case E:return function(e,t){var n=t?fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case k:case C:case I:case x:case A:case O:case"[object Uint8ClampedArray]":case D:case N:return hi(e,n);case m:return new r;case v:case w:return new r(e);case g:return function(e){var t=new e.constructor(e.source,re.exec(e));return t.lastIndex=e.lastIndex,t}(e);case b:return new r;case _:return i=e,kn?pe(kn.call(i)):{}}var i}(e,P,s)}}o||(o=new Mn);var L=o.get(e);if(L)return L;o.set(e,a),Ga(e)?e.forEach((function(r){a.add(Yn(r,t,n,r,e,o))})):Wa(e)&&e.forEach((function(r,i){a.set(i,Yn(r,t,n,i,e,o))}));var M=T?void 0:(h?c?Ki:Wi:c?ws:bs)(e);return st(M||e,(function(r,i){M&&(r=e[i=r]),Vn(a,i,Yn(r,t,n,i,e,o))})),a}function Xn(e,t,n){var r=n.length;if(null==e)return!r;for(e=pe(e);r--;){var i=n[r],o=t[i],a=e[i];if(void 0===a&&!(i in e)||!o(a))return!1}return!0}function $n(e,t,n){if("function"!=typeof e)throw new ye(o);return bo((function(){e.apply(void 0,n)}),t)}function Jn(e,t,n,r){var i=-1,o=ft,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=dt(t,Ot(n))),r?(o=ht,a=!1):t.length>=200&&(o=Nt,a=!1,t=new Ln(t));e:for(;++i<s;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f===f){for(var h=c;h--;)if(t[h]===f)continue e;u.push(l)}else o(t,f,r)||u.push(l)}return u}In.templateSettings={escape:B,evaluate:q,interpolate:V,variable:"",imports:{_:In}},In.prototype=An.prototype,In.prototype.constructor=In,On.prototype=xn(An.prototype),On.prototype.constructor=On,Dn.prototype=xn(An.prototype),Dn.prototype.constructor=Dn,Nn.prototype.clear=function(){this.__data__=vn?vn(null):{},this.size=0},Nn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Nn.prototype.get=function(e){var t=this.__data__;if(vn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Se.call(t,e)?t[e]:void 0},Nn.prototype.has=function(e){var t=this.__data__;return vn?void 0!==t[e]:Se.call(t,e)},Nn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=vn&&void 0===t?"__lodash_hash_undefined__":t,this},Pn.prototype.clear=function(){this.__data__=[],this.size=0},Pn.prototype.delete=function(e){var t=this.__data__,n=zn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ge.call(t,n,1),--this.size,!0)},Pn.prototype.get=function(e){var t=this.__data__,n=zn(t,e);return n<0?void 0:t[n][1]},Pn.prototype.has=function(e){return zn(this.__data__,e)>-1},Pn.prototype.set=function(e,t){var n=this.__data__,r=zn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Rn.prototype.clear=function(){this.size=0,this.__data__={hash:new Nn,map:new(hn||Pn),string:new Nn}},Rn.prototype.delete=function(e){var t=Xi(this,e).delete(e);return this.size-=t?1:0,t},Rn.prototype.get=function(e){return Xi(this,e).get(e)},Rn.prototype.has=function(e){return Xi(this,e).has(e)},Rn.prototype.set=function(e,t){var n=Xi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ln.prototype.add=Ln.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ln.prototype.has=function(e){return this.__data__.has(e)},Mn.prototype.clear=function(){this.__data__=new Pn,this.size=0},Mn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Mn.prototype.get=function(e){return this.__data__.get(e)},Mn.prototype.has=function(e){return this.__data__.has(e)},Mn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Pn){var r=n.__data__;if(!hn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Rn(r)}return n.set(e,t),this.size=n.size,this};var Zn=wi(sr),er=wi(ur,!0);function tr(e,t){var n=!0;return Zn(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function nr(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a===a&&!Xa(a):n(a,s)))var s=a,u=o}return u}function rr(e,t){var n=[];return Zn(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function ir(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=io),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?ir(s,t-1,n,r,i):pt(i,s):r||(i[i.length]=s)}return i}var or=_i(),ar=_i(!0);function sr(e,t){return e&&or(e,t,bs)}function ur(e,t){return e&&ar(e,t,bs)}function cr(e,t){return lt(t,(function(t){return Ua(e[t])}))}function lr(e,t){for(var n=0,r=(t=ai(t,e)).length;null!=e&&n<r;)e=e[ko(t[n++])];return n&&n==r?e:void 0}function fr(e,t,n){var r=t(e);return Na(e)?r:pt(r,n(e))}function hr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Je&&Je in pe(e)?function(e){var t=Se.call(e,Je),n=e[Je];try{e[Je]=void 0;var r=!0}catch(o){}var i=Ce.call(e);r&&(t?e[Je]=n:delete e[Je]);return i}(e):function(e){return Ce.call(e)}(e)}function dr(e,t){return e>t}function pr(e,t){return null!=e&&Se.call(e,t)}function mr(e,t){return null!=e&&t in pe(e)}function vr(e,t,r){for(var i=r?ht:ft,o=e[0].length,a=e.length,s=a,u=n(a),c=1/0,l=[];s--;){var f=e[s];s&&t&&(f=dt(f,Ot(t))),c=an(f.length,c),u[s]=!r&&(t||o>=120&&f.length>=120)?new Ln(s&&f):void 0}f=e[0];var h=-1,d=u[0];e:for(;++h<o&&l.length<c;){var p=f[h],m=t?t(p):p;if(p=r||0!==p?p:0,!(d?Nt(d,m):i(l,m,r))){for(s=a;--s;){var v=u[s];if(!(v?Nt(v,m):i(e[s],m,r)))continue e}d&&d.push(m),l.push(p)}}return l}function yr(e,t,n){var r=null==(e=mo(e,t=ai(t,e)))?e:e[ko(Fo(t))];return null==r?void 0:ot(r,e,n)}function gr(e){return za(e)&&hr(e)==u}function br(e,t,n,r,i){return e===t||(null==e||null==t||!za(e)&&!za(t)?e!==e&&t!==t:function(e,t,n,r,i,o){var a=Na(e),s=Na(t),d=a?c:to(e),p=s?c:to(t),T=(d=d==u?y:d)==y,k=(p=p==u?y:p)==y,C=d==p;if(C&&Ma(e)){if(!Ma(t))return!1;a=!0,T=!1}if(C&&!T)return o||(o=new Mn),a||$a(e)?Vi(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S:return!(e.byteLength!=t.byteLength||!o(new Re(e),new Re(t)));case l:case f:case v:return xa(+e,+t);case h:return e.name==t.name&&e.message==t.message;case g:case w:return e==t+"";case m:var s=Bt;case b:var u=1&r;if(s||(s=zt),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var d=Vi(s(e),s(t),r,i,o,a);return a.delete(e),d;case _:if(kn)return kn.call(e)==kn.call(t)}return!1}(e,t,d,n,r,i,o);if(!(1&n)){var I=T&&Se.call(e,"__wrapped__"),x=k&&Se.call(t,"__wrapped__");if(I||x){var A=I?e.value():e,O=x?t.value():t;return o||(o=new Mn),i(A,O,n,r,o)}}if(!C)return!1;return o||(o=new Mn),function(e,t,n,r,i,o){var a=1&n,s=Wi(e),u=s.length,c=Wi(t).length;if(u!=c&&!a)return!1;var l=u;for(;l--;){var f=s[l];if(!(a?f in t:Se.call(t,f)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var d=!0;o.set(e,t),o.set(t,e);var p=a;for(;++l<u;){f=s[l];var m=e[f],v=t[f];if(r)var y=a?r(v,m,f,t,e,o):r(m,v,f,e,t,o);if(!(void 0===y?m===v||i(m,v,n,r,o):y)){d=!1;break}p||(p="constructor"==f)}if(d&&!p){var g=e.constructor,b=t.constructor;g!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b)&&(d=!1)}return o.delete(e),o.delete(t),d}(e,t,n,r,i,o)}(e,t,n,r,br,i))}function wr(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=pe(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var f=new Mn;if(r)var h=r(c,l,u,e,t,f);if(!(void 0===h?br(l,c,3,r,f):h))return!1}}return!0}function _r(e){return!(!Va(e)||(t=e,ke&&ke in t))&&(Ua(e)?Ae:ae).test(Co(e));var t}function Tr(e){return"function"==typeof e?e:null==e?Ks:"object"==typeof e?Na(e)?xr(e[0],e[1]):Ir(e):eu(e)}function Sr(e){if(!lo(e))return rn(e);var t=[];for(var n in pe(e))Se.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Er(e){if(!Va(e))return function(e){var t=[];if(null!=e)for(var n in pe(e))t.push(n);return t}(e);var t=lo(e),n=[];for(var r in e)("constructor"!=r||!t&&Se.call(e,r))&&n.push(r);return n}function kr(e,t){return e<t}function Cr(e,t){var r=-1,i=Ra(e)?n(e.length):[];return Zn(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function Ir(e){var t=$i(e);return 1==t.length&&t[0][2]?ho(t[0][0],t[0][1]):function(n){return n===e||wr(n,e,t)}}function xr(e,t){return so(e)&&fo(t)?ho(ko(e),t):function(n){var r=ps(n,e);return void 0===r&&r===t?ms(n,e):br(t,r,3)}}function Ar(e,t,n,r,i){e!==t&&or(t,(function(o,a){if(i||(i=new Mn),Va(o))!function(e,t,n,r,i,o,a){var s=yo(e,n),u=yo(t,n),c=a.get(u);if(c)return void qn(e,n,c);var l=o?o(s,u,n+"",e,t,a):void 0,f=void 0===l;if(f){var h=Na(u),d=!h&&Ma(u),p=!h&&!d&&$a(u);l=u,h||d||p?Na(s)?l=s:La(s)?l=vi(s):d?(f=!1,l=li(u,!0)):p?(f=!1,l=hi(u,!0)):l=[]:Ha(u)||Da(u)?(l=s,Da(s)?l=os(s):Va(s)&&!Ua(s)||(l=ro(u))):f=!1}f&&(a.set(u,l),i(l,u,r,o,a),a.delete(u));qn(e,n,l)}(e,t,a,n,Ar,r,i);else{var s=r?r(yo(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),qn(e,a,s)}}),ws)}function Or(e,t){var n=e.length;if(n)return oo(t+=t<0?n:0,n)?e[t]:void 0}function Dr(e,t,n){var r=-1;return t=dt(t.length?t:[Ks],Ot(Yi())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Cr(e,(function(e,n,i){return{criteria:dt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var u=di(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)}))}function Nr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=lr(e,a);n(s,a)&&Br(o,ai(a,e),s)}return o}function Pr(e,t,n,r){var i=r?Tt:_t,o=-1,a=t.length,s=e;for(e===t&&(t=vi(t)),n&&(s=dt(e,Ot(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&Ge.call(s,u,1),Ge.call(e,u,1);return e}function Rr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;oo(i)?Ge.call(e,i,1):Jr(e,i)}}return e}function Lr(e,t){return e+Jt(cn()*(t-e+1))}function Mr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Jt(t/2))&&(e+=e)}while(t);return n}function jr(e,t){return wo(po(e,t,Ks),e+"")}function Fr(e){return Fn(xs(e))}function Ur(e,t){var n=xs(e);return So(n,Gn(t,0,n.length))}function Br(e,t,n,r){if(!Va(e))return e;for(var i=-1,o=(t=ai(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=ko(t[i]),c=n;if(i!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=Va(l)?l:oo(t[i+1])?[]:{})}Vn(s,u,c),s=s[u]}return e}var qr=yn?function(e,t){return yn.set(e,t),e}:Ks,Vr=gt?function(e,t){return gt(e,"toString",{configurable:!0,enumerable:!1,value:Vs(t),writable:!0})}:Ks;function zr(e){return So(xs(e))}function Wr(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function Kr(e,t){var n;return Zn(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Hr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!Xa(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return Qr(e,t,Ks,n)}function Qr(e,t,n,r){t=n(t);for(var i=0,o=null==e?0:e.length,a=t!==t,s=null===t,u=Xa(t),c=void 0===t;i<o;){var l=Jt((i+o)/2),f=n(e[l]),h=void 0!==f,d=null===f,p=f===f,m=Xa(f);if(a)var v=r||p;else v=c?p&&(r||h):s?p&&h&&(r||!d):u?p&&h&&!d&&(r||!m):!d&&!m&&(r?f<=t:f<t);v?i=l+1:o=l}return an(o,4294967294)}function Gr(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!xa(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Yr(e){return"number"==typeof e?e:Xa(e)?NaN:+e}function Xr(e){if("string"==typeof e)return e;if(Na(e))return dt(e,Xr)+"";if(Xa(e))return Cn?Cn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function $r(e,t,n){var r=-1,i=ft,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=ht;else if(o>=200){var c=t?null:Mi(e);if(c)return zt(c);a=!1,i=Nt,u=new Ln}else u=t?[]:s;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f===f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function Jr(e,t){return null==(e=mo(e,t=ai(t,e)))||delete e[ko(Fo(t))]}function Zr(e,t,n,r){return Br(e,t,n(lr(e,t)),r)}function ei(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Wr(e,r?0:o,r?o+1:i):Wr(e,r?o+1:0,r?i:o)}function ti(e,t){var n=e;return n instanceof Dn&&(n=n.value()),mt(t,(function(e,t){return t.func.apply(t.thisArg,pt([e],t.args))}),n)}function ni(e,t,r){var i=e.length;if(i<2)return i?$r(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=Jn(a[o]||s,e[u],t,r));return $r(ir(a,1),t,r)}function ri(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:void 0;n(a,e[r],s)}return a}function ii(e){return La(e)?e:[]}function oi(e){return"function"==typeof e?e:Ks}function ai(e,t){return Na(e)?e:so(e,t)?[e]:Eo(as(e))}var si=jr;function ui(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Wr(e,t,n)}var ci=Ct||function(e){return Qe.clearTimeout(e)};function li(e,t){if(t)return e.slice();var n=e.length,r=Me?Me(n):new e.constructor(n);return e.copy(r),r}function fi(e){var t=new e.constructor(e.byteLength);return new Re(t).set(new Re(e)),t}function hi(e,t){var n=t?fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function di(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e===e,o=Xa(e),a=void 0!==t,s=null===t,u=t===t,c=Xa(t);if(!s&&!c&&!o&&e>t||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function pi(e,t,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,c=t.length,l=on(a-s,0),f=n(c+l),h=!i;++u<c;)f[u]=t[u];for(;++o<s;)(h||o<a)&&(f[r[o]]=e[o]);for(;l--;)f[u++]=e[o++];return f}function mi(e,t,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,c=-1,l=t.length,f=on(a-u,0),h=n(f+l),d=!i;++o<f;)h[o]=e[o];for(var p=o;++c<l;)h[p+c]=t[c];for(;++s<u;)(d||o<a)&&(h[p+r[s]]=e[o++]);return h}function vi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function yi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?Hn(n,s,u):Vn(n,s,u)}return n}function gi(e,t){return function(n,r){var i=Na(n)?at:Wn,o=t?t():{};return i(n,e,Yi(r,2),o)}}function bi(e){return jr((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&ao(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=pe(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t}))}function wi(e,t){return function(n,r){if(null==n)return n;if(!Ra(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=pe(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function _i(e){return function(t,n,r){for(var i=-1,o=pe(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function Ti(e){return function(t){var n=Ut(t=as(t))?Ht(t):void 0,r=n?n[0]:t.charAt(0),i=n?ui(n,1).join(""):t.slice(1);return r[e]()+i}}function Si(e){return function(t){return mt(Us(Ds(t).replace(Ne,"")),e,"")}}function Ei(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=xn(e.prototype),r=e.apply(n,t);return Va(r)?r:n}}function ki(e){return function(t,n,r){var i=pe(t);if(!Ra(t)){var o=Yi(n,3);t=bs(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}function Ci(e){return zi((function(t){var n=t.length,r=n,i=On.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new ye(o);if(i&&!s&&"wrapper"==Qi(a))var s=new On([],!0)}for(r=s?r:n;++r<n;){var u=Qi(a=t[r]),c="wrapper"==u?Hi(a):void 0;s=c&&uo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[Qi(c[0])].apply(s,c[3]):1==a.length&&uo(a)?s[u]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Na(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Ii(e,t,r,i,o,a,s,u,c,l){var f=128&t,h=1&t,d=2&t,p=24&t,m=512&t,v=d?void 0:Ei(e);return function y(){for(var g=arguments.length,b=n(g),w=g;w--;)b[w]=arguments[w];if(p)var _=Gi(y),T=Lt(b,_);if(i&&(b=pi(b,i,o,p)),a&&(b=mi(b,a,s,p)),g-=T,p&&g<l){var S=Vt(b,_);return Ri(e,t,Ii,y.placeholder,r,b,S,u,c,l-g)}var E=h?r:this,k=d?E[e]:e;return g=b.length,u?b=vo(b,u):m&&g>1&&b.reverse(),f&&c<g&&(b.length=c),this&&this!==Qe&&this instanceof y&&(k=v||Ei(k)),k.apply(E,b)}}function xi(e,t){return function(n,r){return function(e,t,n,r){return sr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Ai(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Xr(n),r=Xr(r)):(n=Yr(n),r=Yr(r)),i=e(n,r)}return i}}function Oi(e){return zi((function(t){return t=dt(t,Ot(Yi())),jr((function(n){var r=this;return e(t,(function(e){return ot(e,r,n)}))}))}))}function Di(e,t){var n=(t=void 0===t?" ":Xr(t)).length;if(n<2)return n?Mr(t,e):t;var r=Mr(t,$t(e/Kt(t)));return Ut(t)?ui(Ht(r),0,e).join(""):r.slice(0,e)}function Ni(e){return function(t,r,i){return i&&"number"!=typeof i&&ao(t,r,i)&&(r=i=void 0),t=ts(t),void 0===r?(r=t,t=0):r=ts(r),function(e,t,r,i){for(var o=-1,a=on($t((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,r,i=void 0===i?t<r?1:-1:ts(i),e)}}function Pi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=is(t),n=is(n)),e(t,n)}}function Ri(e,t,n,r,i,o,a,s,u,c){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var f=[e,t,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,s,u,c],h=n.apply(void 0,f);return uo(e)&&go(h,f),h.placeholder=r,_o(h,e,t)}function Li(e){var t=de[e];return function(e,n){if(e=is(e),(n=null==n?0:an(ns(n),292))&&tn(e)){var r=(as(e)+"e").split("e");return+((r=(as(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Mi=pn&&1/zt(new pn([,-0]))[1]==1/0?function(e){return new pn(e)}:Xs;function ji(e){return function(t){var n=to(t);return n==m?Bt(t):n==b?Wt(t):function(e,t){return dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Fi(e,t,r,i,s,u,c,l){var f=2&t;if(!f&&"function"!=typeof e)throw new ye(o);var h=i?i.length:0;if(h||(t&=-97,i=s=void 0),c=void 0===c?c:on(ns(c),0),l=void 0===l?l:ns(l),h-=s?s.length:0,64&t){var d=i,p=s;i=s=void 0}var m=f?void 0:Hi(e),v=[e,t,r,i,s,d,p,u,c,l];if(m&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?pi(c,u,t[4]):u,e[4]=c?Vt(e[3],a):t[4]}(u=t[5])&&(c=e[5],e[5]=c?mi(c,u,t[6]):u,e[6]=c?Vt(e[5],a):t[6]);(u=t[7])&&(e[7]=u);128&r&&(e[8]=null==e[8]?t[8]:an(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(v,m),e=v[0],t=v[1],r=v[2],i=v[3],s=v[4],!(l=v[9]=void 0===v[9]?f?0:e.length:on(v[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)y=8==t||16==t?function(e,t,r){var i=Ei(e);return function o(){for(var a=arguments.length,s=n(a),u=a,c=Gi(o);u--;)s[u]=arguments[u];var l=a<3&&s[0]!==c&&s[a-1]!==c?[]:Vt(s,c);if((a-=l.length)<r)return Ri(e,t,Ii,o.placeholder,void 0,s,l,void 0,void 0,r-a);var f=this&&this!==Qe&&this instanceof o?i:e;return ot(f,this,s)}}(e,t,l):32!=t&&33!=t||s.length?Ii.apply(void 0,v):function(e,t,r,i){var o=1&t,a=Ei(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=n(l+u),h=this&&this!==Qe&&this instanceof t?a:e;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return ot(h,o?r:this,f)}}(e,t,r,i);else var y=function(e,t,n){var r=1&t,i=Ei(e);return function t(){var o=this&&this!==Qe&&this instanceof t?i:e;return o.apply(r?n:this,arguments)}}(e,t,r);return _o((m?qr:go)(y,v),e,t)}function Ui(e,t,n,r){return void 0===e||xa(e,we[n])&&!Se.call(r,n)?t:e}function Bi(e,t,n,r,i,o){return Va(e)&&Va(t)&&(o.set(t,e),Ar(e,t,void 0,Bi,o),o.delete(t)),e}function qi(e){return Ha(e)?void 0:e}function Vi(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var l=-1,f=!0,h=2&n?new Ln:void 0;for(o.set(e,t),o.set(t,e);++l<s;){var d=e[l],p=t[l];if(r)var m=a?r(p,d,l,t,e,o):r(d,p,l,e,t,o);if(void 0!==m){if(m)continue;f=!1;break}if(h){if(!yt(t,(function(e,t){if(!Nt(h,t)&&(d===e||i(d,e,n,r,o)))return h.push(t)}))){f=!1;break}}else if(d!==p&&!i(d,p,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function zi(e){return wo(po(e,void 0,Po),e+"")}function Wi(e){return fr(e,bs,Zi)}function Ki(e){return fr(e,ws,eo)}var Hi=yn?function(e){return yn.get(e)}:Xs;function Qi(e){for(var t=e.name+"",n=gn[t],r=Se.call(gn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Gi(e){return(Se.call(In,"placeholder")?In:e).placeholder}function Yi(){var e=In.iteratee||Hs;return e=e===Hs?Tr:e,arguments.length?e(arguments[0],arguments[1]):e}function Xi(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function $i(e){for(var t=bs(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,fo(i)]}return t}function Ji(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return _r(n)?n:void 0}var Zi=Zt?function(e){return null==e?[]:(e=pe(e),lt(Zt(e),(function(t){return He.call(e,t)})))}:ru,eo=Zt?function(e){for(var t=[];e;)pt(t,Zi(e)),e=Ve(e);return t}:ru,to=hr;function no(e,t,n){for(var r=-1,i=(t=ai(t,e)).length,o=!1;++r<i;){var a=ko(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&qa(i)&&oo(a,i)&&(Na(e)||Da(e))}function ro(e){return"function"!=typeof e.constructor||lo(e)?{}:xn(Ve(e))}function io(e){return Na(e)||Da(e)||!!(Ye&&e&&e[Ye])}function oo(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ue.test(e))&&e>-1&&e%1==0&&e<t}function ao(e,t,n){if(!Va(n))return!1;var r=typeof t;return!!("number"==r?Ra(n)&&oo(t,n.length):"string"==r&&t in n)&&xa(n[t],e)}function so(e,t){if(Na(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Xa(e))||(W.test(e)||!z.test(e)||null!=t&&e in pe(t))}function uo(e){var t=Qi(e),n=In[t];if("function"!=typeof n||!(t in Dn.prototype))return!1;if(e===n)return!0;var r=Hi(n);return!!r&&e===r[0]}(fn&&to(new fn(new ArrayBuffer(1)))!=E||hn&&to(new hn)!=m||dn&&"[object Promise]"!=to(dn.resolve())||pn&&to(new pn)!=b||mn&&to(new mn)!=T)&&(to=function(e){var t=hr(e),n=t==y?e.constructor:void 0,r=n?Co(n):"";if(r)switch(r){case bn:return E;case wn:return m;case _n:return"[object Promise]";case Tn:return b;case Sn:return T}return t});var co=_e?Ua:iu;function lo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||we)}function fo(e){return e===e&&!Va(e)}function ho(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in pe(n)))}}function po(e,t,r){return t=on(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=on(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(s),ot(e,this,u)}}function mo(e,t){return t.length<2?e:lr(e,Wr(t,0,-1))}function vo(e,t){for(var n=e.length,r=an(t.length,n),i=vi(e);r--;){var o=t[r];e[r]=oo(o,n)?i[o]:void 0}return e}function yo(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var go=To(qr),bo=Xt||function(e,t){return Qe.setTimeout(e,t)},wo=To(Vr);function _o(e,t,n){var r=t+"";return wo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace($,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return st(s,(function(n){var r="_."+n[0];t&n[1]&&!ft(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(J);return t?t[1].split(Z):[]}(r),n)))}function To(e){var t=0,n=0;return function(){var r=sn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function So(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=Lr(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}var Eo=function(e){var t=Ta(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(K,(function(e,n,r,i){t.push(r?i.replace(te,"$1"):n||e)})),t}));function ko(e){if("string"==typeof e||Xa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Co(e){if(null!=e){try{return Te.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Io(e){if(e instanceof Dn)return e.clone();var t=new On(e.__wrapped__,e.__chain__);return t.__actions__=vi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var xo=jr((function(e,t){return La(e)?Jn(e,ir(t,1,La,!0)):[]})),Ao=jr((function(e,t){var n=Fo(t);return La(n)&&(n=void 0),La(e)?Jn(e,ir(t,1,La,!0),Yi(n,2)):[]})),Oo=jr((function(e,t){var n=Fo(t);return La(n)&&(n=void 0),La(e)?Jn(e,ir(t,1,La,!0),void 0,n):[]}));function Do(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ns(n);return i<0&&(i=on(r+i,0)),wt(e,Yi(t,3),i)}function No(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ns(n),i=n<0?on(r+i,0):an(i,r-1)),wt(e,Yi(t,3),i,!0)}function Po(e){return(null==e?0:e.length)?ir(e,1):[]}function Ro(e){return e&&e.length?e[0]:void 0}var Lo=jr((function(e){var t=dt(e,ii);return t.length&&t[0]===e[0]?vr(t):[]})),Mo=jr((function(e){var t=Fo(e),n=dt(e,ii);return t===Fo(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?vr(n,Yi(t,2)):[]})),jo=jr((function(e){var t=Fo(e),n=dt(e,ii);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?vr(n,void 0,t):[]}));function Fo(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Uo=jr(Bo);function Bo(e,t){return e&&e.length&&t&&t.length?Pr(e,t):e}var qo=zi((function(e,t){var n=null==e?0:e.length,r=Qn(e,t);return Rr(e,dt(t,(function(e){return oo(e,n)?+e:e})).sort(di)),r}));function Vo(e){return null==e?e:ln.call(e)}var zo=jr((function(e){return $r(ir(e,1,La,!0))})),Wo=jr((function(e){var t=Fo(e);return La(t)&&(t=void 0),$r(ir(e,1,La,!0),Yi(t,2))})),Ko=jr((function(e){var t=Fo(e);return t="function"==typeof t?t:void 0,$r(ir(e,1,La,!0),void 0,t)}));function Ho(e){if(!e||!e.length)return[];var t=0;return e=lt(e,(function(e){if(La(e))return t=on(e.length,t),!0})),At(t,(function(t){return dt(e,kt(t))}))}function Qo(e,t){if(!e||!e.length)return[];var n=Ho(e);return null==t?n:dt(n,(function(e){return ot(t,void 0,e)}))}var Go=jr((function(e,t){return La(e)?Jn(e,t):[]})),Yo=jr((function(e){return ni(lt(e,La))})),Xo=jr((function(e){var t=Fo(e);return La(t)&&(t=void 0),ni(lt(e,La),Yi(t,2))})),$o=jr((function(e){var t=Fo(e);return t="function"==typeof t?t:void 0,ni(lt(e,La),void 0,t)})),Jo=jr(Ho);var Zo=jr((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Qo(e,n)}));function ea(e){var t=In(e);return t.__chain__=!0,t}function ta(e,t){return t(e)}var na=zi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Qn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Dn&&oo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ta,args:[i],thisArg:void 0}),new On(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var ra=gi((function(e,t,n){Se.call(e,n)?++e[n]:Hn(e,n,1)}));var ia=ki(Do),oa=ki(No);function aa(e,t){return(Na(e)?st:Zn)(e,Yi(t,3))}function sa(e,t){return(Na(e)?ut:er)(e,Yi(t,3))}var ua=gi((function(e,t,n){Se.call(e,n)?e[n].push(t):Hn(e,n,[t])}));var ca=jr((function(e,t,r){var i=-1,o="function"==typeof t,a=Ra(e)?n(e.length):[];return Zn(e,(function(e){a[++i]=o?ot(t,e,r):yr(e,t,r)})),a})),la=gi((function(e,t,n){Hn(e,n,t)}));function fa(e,t){return(Na(e)?dt:Cr)(e,Yi(t,3))}var ha=gi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var da=jr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ao(e,t[0],t[1])?t=[]:n>2&&ao(t[0],t[1],t[2])&&(t=[t[0]]),Dr(e,ir(t,1),[])})),pa=Yt||function(){return Qe.Date.now()};function ma(e,t,n){return t=n?void 0:t,Fi(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function va(e,t){var n;if("function"!=typeof t)throw new ye(o);return e=ns(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var ya=jr((function(e,t,n){var r=1;if(n.length){var i=Vt(n,Gi(ya));r|=32}return Fi(e,r,t,n,i)})),ga=jr((function(e,t,n){var r=3;if(n.length){var i=Vt(n,Gi(ga));r|=32}return Fi(t,r,e,n,i)}));function ba(e,t,n){var r,i,a,s,u,c,l=0,f=!1,h=!1,d=!0;if("function"!=typeof e)throw new ye(o);function p(t){var n=r,o=i;return r=i=void 0,l=t,s=e.apply(o,n)}function m(e){return l=e,u=bo(y,t),f?p(e):s}function v(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-l>=a}function y(){var e=pa();if(v(e))return g(e);u=bo(y,function(e){var n=t-(e-c);return h?an(n,a-(e-l)):n}(e))}function g(e){return u=void 0,d&&r?p(e):(r=i=void 0,s)}function b(){var e=pa(),n=v(e);if(r=arguments,i=this,c=e,n){if(void 0===u)return m(c);if(h)return ci(u),u=bo(y,t),p(c)}return void 0===u&&(u=bo(y,t)),s}return t=is(t)||0,Va(n)&&(f=!!n.leading,a=(h="maxWait"in n)?on(is(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==u&&ci(u),l=0,r=c=i=u=void 0},b.flush=function(){return void 0===u?s:g(pa())},b}var wa=jr((function(e,t){return $n(e,1,t)})),_a=jr((function(e,t,n){return $n(e,is(t)||0,n)}));function Ta(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ye(o);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ta.Cache||Rn),n}function Sa(e){if("function"!=typeof e)throw new ye(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ta.Cache=Rn;var Ea=si((function(e,t){var n=(t=1==t.length&&Na(t[0])?dt(t[0],Ot(Yi())):dt(ir(t,1),Ot(Yi()))).length;return jr((function(r){for(var i=-1,o=an(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return ot(e,this,r)}))})),ka=jr((function(e,t){return Fi(e,32,void 0,t,Vt(t,Gi(ka)))})),Ca=jr((function(e,t){return Fi(e,64,void 0,t,Vt(t,Gi(Ca)))})),Ia=zi((function(e,t){return Fi(e,256,void 0,void 0,void 0,t)}));function xa(e,t){return e===t||e!==e&&t!==t}var Aa=Pi(dr),Oa=Pi((function(e,t){return e>=t})),Da=gr(function(){return arguments}())?gr:function(e){return za(e)&&Se.call(e,"callee")&&!He.call(e,"callee")},Na=n.isArray,Pa=Ze?Ot(Ze):function(e){return za(e)&&hr(e)==S};function Ra(e){return null!=e&&qa(e.length)&&!Ua(e)}function La(e){return za(e)&&Ra(e)}var Ma=en||iu,ja=et?Ot(et):function(e){return za(e)&&hr(e)==f};function Fa(e){if(!za(e))return!1;var t=hr(e);return t==h||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Ha(e)}function Ua(e){if(!Va(e))return!1;var t=hr(e);return t==d||t==p||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ba(e){return"number"==typeof e&&e==ns(e)}function qa(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Va(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function za(e){return null!=e&&"object"==typeof e}var Wa=tt?Ot(tt):function(e){return za(e)&&to(e)==m};function Ka(e){return"number"==typeof e||za(e)&&hr(e)==v}function Ha(e){if(!za(e)||hr(e)!=y)return!1;var t=Ve(e);if(null===t)return!0;var n=Se.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Te.call(n)==Ie}var Qa=nt?Ot(nt):function(e){return za(e)&&hr(e)==g};var Ga=rt?Ot(rt):function(e){return za(e)&&to(e)==b};function Ya(e){return"string"==typeof e||!Na(e)&&za(e)&&hr(e)==w}function Xa(e){return"symbol"==typeof e||za(e)&&hr(e)==_}var $a=it?Ot(it):function(e){return za(e)&&qa(e.length)&&!!Be[hr(e)]};var Ja=Pi(kr),Za=Pi((function(e,t){return e<=t}));function es(e){if(!e)return[];if(Ra(e))return Ya(e)?Ht(e):vi(e);if($e&&e[$e])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[$e]());var t=to(e);return(t==m?Bt:t==b?zt:xs)(e)}function ts(e){return e?(e=is(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function ns(e){var t=ts(e),n=t%1;return t===t?n?t-n:t:0}function rs(e){return e?Gn(ns(e),0,4294967295):0}function is(e){if("number"==typeof e)return e;if(Xa(e))return NaN;if(Va(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Va(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(G,"");var n=oe.test(e);return n||se.test(e)?We(e.slice(2),n?2:8):ie.test(e)?NaN:+e}function os(e){return yi(e,ws(e))}function as(e){return null==e?"":Xr(e)}var ss=bi((function(e,t){if(lo(t)||Ra(t))yi(t,bs(t),e);else for(var n in t)Se.call(t,n)&&Vn(e,n,t[n])})),us=bi((function(e,t){yi(t,ws(t),e)})),cs=bi((function(e,t,n,r){yi(t,ws(t),e,r)})),ls=bi((function(e,t,n,r){yi(t,bs(t),e,r)})),fs=zi(Qn);var hs=jr((function(e,t){e=pe(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&ao(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=ws(o),s=-1,u=a.length;++s<u;){var c=a[s],l=e[c];(void 0===l||xa(l,we[c])&&!Se.call(e,c))&&(e[c]=o[c])}return e})),ds=jr((function(e){return e.push(void 0,Bi),ot(Ts,void 0,e)}));function ps(e,t,n){var r=null==e?void 0:lr(e,t);return void 0===r?n:r}function ms(e,t){return null!=e&&no(e,t,mr)}var vs=xi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ce.call(t)),e[t]=n}),Vs(Ks)),ys=xi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ce.call(t)),Se.call(e,t)?e[t].push(n):e[t]=[n]}),Yi),gs=jr(yr);function bs(e){return Ra(e)?jn(e):Sr(e)}function ws(e){return Ra(e)?jn(e,!0):Er(e)}var _s=bi((function(e,t,n){Ar(e,t,n)})),Ts=bi((function(e,t,n,r){Ar(e,t,n,r)})),Ss=zi((function(e,t){var n={};if(null==e)return n;var r=!1;t=dt(t,(function(t){return t=ai(t,e),r||(r=t.length>1),t})),yi(e,Ki(e),n),r&&(n=Yn(n,7,qi));for(var i=t.length;i--;)Jr(n,t[i]);return n}));var Es=zi((function(e,t){return null==e?{}:function(e,t){return Nr(e,t,(function(t,n){return ms(e,n)}))}(e,t)}));function ks(e,t){if(null==e)return{};var n=dt(Ki(e),(function(e){return[e]}));return t=Yi(t),Nr(e,n,(function(e,n){return t(e,n[0])}))}var Cs=ji(bs),Is=ji(ws);function xs(e){return null==e?[]:Dt(e,bs(e))}var As=Si((function(e,t,n){return t=t.toLowerCase(),e+(n?Os(t):t)}));function Os(e){return Fs(as(e).toLowerCase())}function Ds(e){return(e=as(e))&&e.replace(ce,Mt).replace(Pe,"")}var Ns=Si((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ps=Si((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Rs=Ti("toLowerCase");var Ls=Si((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ms=Si((function(e,t,n){return e+(n?" ":"")+Fs(t)}));var js=Si((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Fs=Ti("toUpperCase");function Us(e,t,n){return e=as(e),void 0===(t=n?void 0:t)?function(e){return je.test(e)}(e)?function(e){return e.match(Le)||[]}(e):function(e){return e.match(ee)||[]}(e):e.match(t)||[]}var Bs=jr((function(e,t){try{return ot(e,void 0,t)}catch(n){return Fa(n)?n:new i(n)}})),qs=zi((function(e,t){return st(t,(function(t){t=ko(t),Hn(e,t,ya(e[t],e))})),e}));function Vs(e){return function(){return e}}var zs=Ci(),Ws=Ci(!0);function Ks(e){return e}function Hs(e){return Tr("function"==typeof e?e:Yn(e,1))}var Qs=jr((function(e,t){return function(n){return yr(n,e,t)}})),Gs=jr((function(e,t){return function(n){return yr(e,n,t)}}));function Ys(e,t,n){var r=bs(t),i=cr(t,r);null!=n||Va(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=cr(t,bs(t)));var o=!(Va(n)&&"chain"in n)||!!n.chain,a=Ua(e);return st(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=vi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,pt([this.value()],arguments))})})),e}function Xs(){}var $s=Oi(dt),Js=Oi(ct),Zs=Oi(yt);function eu(e){return so(e)?kt(ko(e)):function(e){return function(t){return lr(t,e)}}(e)}var tu=Ni(),nu=Ni(!0);function ru(){return[]}function iu(){return!1}var ou=Ai((function(e,t){return e+t}),0),au=Li("ceil"),su=Ai((function(e,t){return e/t}),1),uu=Li("floor");var cu=Ai((function(e,t){return e*t}),1),lu=Li("round"),fu=Ai((function(e,t){return e-t}),0);return In.after=function(e,t){if("function"!=typeof t)throw new ye(o);return e=ns(e),function(){if(--e<1)return t.apply(this,arguments)}},In.ary=ma,In.assign=ss,In.assignIn=us,In.assignInWith=cs,In.assignWith=ls,In.at=fs,In.before=va,In.bind=ya,In.bindAll=qs,In.bindKey=ga,In.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Na(e)?e:[e]},In.chain=ea,In.chunk=function(e,t,r){t=(r?ao(e,t,r):void 0===t)?1:on(ns(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,a=0,s=n($t(i/t));o<i;)s[a++]=Wr(e,o,o+=t);return s},In.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},In.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return pt(Na(r)?vi(r):[r],ir(t,1))},In.cond=function(e){var t=null==e?0:e.length,n=Yi();return e=t?dt(e,(function(e){if("function"!=typeof e[1])throw new ye(o);return[n(e[0]),e[1]]})):[],jr((function(n){for(var r=-1;++r<t;){var i=e[r];if(ot(i[0],this,n))return ot(i[1],this,n)}}))},In.conforms=function(e){return function(e){var t=bs(e);return function(n){return Xn(n,e,t)}}(Yn(e,1))},In.constant=Vs,In.countBy=ra,In.create=function(e,t){var n=xn(e);return null==t?n:Kn(n,t)},In.curry=function e(t,n,r){var i=Fi(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},In.curryRight=function e(t,n,r){var i=Fi(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},In.debounce=ba,In.defaults=hs,In.defaultsDeep=ds,In.defer=wa,In.delay=_a,In.difference=xo,In.differenceBy=Ao,In.differenceWith=Oo,In.drop=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,(t=n||void 0===t?1:ns(t))<0?0:t,r):[]},In.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,0,(t=r-(t=n||void 0===t?1:ns(t)))<0?0:t):[]},In.dropRightWhile=function(e,t){return e&&e.length?ei(e,Yi(t,3),!0,!0):[]},In.dropWhile=function(e,t){return e&&e.length?ei(e,Yi(t,3),!0):[]},In.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&ao(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=ns(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ns(r))<0&&(r+=i),r=n>r?0:rs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},In.filter=function(e,t){return(Na(e)?lt:rr)(e,Yi(t,3))},In.flatMap=function(e,t){return ir(fa(e,t),1)},In.flatMapDeep=function(e,t){return ir(fa(e,t),1/0)},In.flatMapDepth=function(e,t,n){return n=void 0===n?1:ns(n),ir(fa(e,t),n)},In.flatten=Po,In.flattenDeep=function(e){return(null==e?0:e.length)?ir(e,1/0):[]},In.flattenDepth=function(e,t){return(null==e?0:e.length)?ir(e,t=void 0===t?1:ns(t)):[]},In.flip=function(e){return Fi(e,512)},In.flow=zs,In.flowRight=Ws,In.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},In.functions=function(e){return null==e?[]:cr(e,bs(e))},In.functionsIn=function(e){return null==e?[]:cr(e,ws(e))},In.groupBy=ua,In.initial=function(e){return(null==e?0:e.length)?Wr(e,0,-1):[]},In.intersection=Lo,In.intersectionBy=Mo,In.intersectionWith=jo,In.invert=vs,In.invertBy=ys,In.invokeMap=ca,In.iteratee=Hs,In.keyBy=la,In.keys=bs,In.keysIn=ws,In.map=fa,In.mapKeys=function(e,t){var n={};return t=Yi(t,3),sr(e,(function(e,r,i){Hn(n,t(e,r,i),e)})),n},In.mapValues=function(e,t){var n={};return t=Yi(t,3),sr(e,(function(e,r,i){Hn(n,r,t(e,r,i))})),n},In.matches=function(e){return Ir(Yn(e,1))},In.matchesProperty=function(e,t){return xr(e,Yn(t,1))},In.memoize=Ta,In.merge=_s,In.mergeWith=Ts,In.method=Qs,In.methodOf=Gs,In.mixin=Ys,In.negate=Sa,In.nthArg=function(e){return e=ns(e),jr((function(t){return Or(t,e)}))},In.omit=Ss,In.omitBy=function(e,t){return ks(e,Sa(Yi(t)))},In.once=function(e){return va(2,e)},In.orderBy=function(e,t,n,r){return null==e?[]:(Na(t)||(t=null==t?[]:[t]),Na(n=r?void 0:n)||(n=null==n?[]:[n]),Dr(e,t,n))},In.over=$s,In.overArgs=Ea,In.overEvery=Js,In.overSome=Zs,In.partial=ka,In.partialRight=Ca,In.partition=ha,In.pick=Es,In.pickBy=ks,In.property=eu,In.propertyOf=function(e){return function(t){return null==e?void 0:lr(e,t)}},In.pull=Uo,In.pullAll=Bo,In.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Pr(e,t,Yi(n,2)):e},In.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Pr(e,t,void 0,n):e},In.pullAt=qo,In.range=tu,In.rangeRight=nu,In.rearg=Ia,In.reject=function(e,t){return(Na(e)?lt:rr)(e,Sa(Yi(t,3)))},In.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Yi(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Rr(e,i),n},In.rest=function(e,t){if("function"!=typeof e)throw new ye(o);return jr(e,t=void 0===t?t:ns(t))},In.reverse=Vo,In.sampleSize=function(e,t,n){return t=(n?ao(e,t,n):void 0===t)?1:ns(t),(Na(e)?Un:Ur)(e,t)},In.set=function(e,t,n){return null==e?e:Br(e,t,n)},In.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Br(e,t,n,r)},In.shuffle=function(e){return(Na(e)?Bn:zr)(e)},In.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ao(e,t,n)?(t=0,n=r):(t=null==t?0:ns(t),n=void 0===n?r:ns(n)),Wr(e,t,n)):[]},In.sortBy=da,In.sortedUniq=function(e){return e&&e.length?Gr(e):[]},In.sortedUniqBy=function(e,t){return e&&e.length?Gr(e,Yi(t,2)):[]},In.split=function(e,t,n){return n&&"number"!=typeof n&&ao(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=as(e))&&("string"==typeof t||null!=t&&!Qa(t))&&!(t=Xr(t))&&Ut(e)?ui(Ht(e),0,n):e.split(t,n):[]},In.spread=function(e,t){if("function"!=typeof e)throw new ye(o);return t=null==t?0:on(ns(t),0),jr((function(n){var r=n[t],i=ui(n,0,t);return r&&pt(i,r),ot(e,this,i)}))},In.tail=function(e){var t=null==e?0:e.length;return t?Wr(e,1,t):[]},In.take=function(e,t,n){return e&&e.length?Wr(e,0,(t=n||void 0===t?1:ns(t))<0?0:t):[]},In.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,(t=r-(t=n||void 0===t?1:ns(t)))<0?0:t,r):[]},In.takeRightWhile=function(e,t){return e&&e.length?ei(e,Yi(t,3),!1,!0):[]},In.takeWhile=function(e,t){return e&&e.length?ei(e,Yi(t,3)):[]},In.tap=function(e,t){return t(e),e},In.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new ye(o);return Va(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ba(e,t,{leading:r,maxWait:t,trailing:i})},In.thru=ta,In.toArray=es,In.toPairs=Cs,In.toPairsIn=Is,In.toPath=function(e){return Na(e)?dt(e,ko):Xa(e)?[e]:vi(Eo(as(e)))},In.toPlainObject=os,In.transform=function(e,t,n){var r=Na(e),i=r||Ma(e)||$a(e);if(t=Yi(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Va(e)&&Ua(o)?xn(Ve(e)):{}}return(i?st:sr)(e,(function(e,r,i){return t(n,e,r,i)})),n},In.unary=function(e){return ma(e,1)},In.union=zo,In.unionBy=Wo,In.unionWith=Ko,In.uniq=function(e){return e&&e.length?$r(e):[]},In.uniqBy=function(e,t){return e&&e.length?$r(e,Yi(t,2)):[]},In.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?$r(e,void 0,t):[]},In.unset=function(e,t){return null==e||Jr(e,t)},In.unzip=Ho,In.unzipWith=Qo,In.update=function(e,t,n){return null==e?e:Zr(e,t,oi(n))},In.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Zr(e,t,oi(n),r)},In.values=xs,In.valuesIn=function(e){return null==e?[]:Dt(e,ws(e))},In.without=Go,In.words=Us,In.wrap=function(e,t){return ka(oi(t),e)},In.xor=Yo,In.xorBy=Xo,In.xorWith=$o,In.zip=Jo,In.zipObject=function(e,t){return ri(e||[],t||[],Vn)},In.zipObjectDeep=function(e,t){return ri(e||[],t||[],Br)},In.zipWith=Zo,In.entries=Cs,In.entriesIn=Is,In.extend=us,In.extendWith=cs,Ys(In,In),In.add=ou,In.attempt=Bs,In.camelCase=As,In.capitalize=Os,In.ceil=au,In.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=is(n))===n?n:0),void 0!==t&&(t=(t=is(t))===t?t:0),Gn(is(e),t,n)},In.clone=function(e){return Yn(e,4)},In.cloneDeep=function(e){return Yn(e,5)},In.cloneDeepWith=function(e,t){return Yn(e,5,t="function"==typeof t?t:void 0)},In.cloneWith=function(e,t){return Yn(e,4,t="function"==typeof t?t:void 0)},In.conformsTo=function(e,t){return null==t||Xn(e,t,bs(t))},In.deburr=Ds,In.defaultTo=function(e,t){return null==e||e!==e?t:e},In.divide=su,In.endsWith=function(e,t,n){e=as(e),t=Xr(t);var r=e.length,i=n=void 0===n?r:Gn(ns(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},In.eq=xa,In.escape=function(e){return(e=as(e))&&U.test(e)?e.replace(j,jt):e},In.escapeRegExp=function(e){return(e=as(e))&&Q.test(e)?e.replace(H,"\\$&"):e},In.every=function(e,t,n){var r=Na(e)?ct:tr;return n&&ao(e,t,n)&&(t=void 0),r(e,Yi(t,3))},In.find=ia,In.findIndex=Do,In.findKey=function(e,t){return bt(e,Yi(t,3),sr)},In.findLast=oa,In.findLastIndex=No,In.findLastKey=function(e,t){return bt(e,Yi(t,3),ur)},In.floor=uu,In.forEach=aa,In.forEachRight=sa,In.forIn=function(e,t){return null==e?e:or(e,Yi(t,3),ws)},In.forInRight=function(e,t){return null==e?e:ar(e,Yi(t,3),ws)},In.forOwn=function(e,t){return e&&sr(e,Yi(t,3))},In.forOwnRight=function(e,t){return e&&ur(e,Yi(t,3))},In.get=ps,In.gt=Aa,In.gte=Oa,In.has=function(e,t){return null!=e&&no(e,t,pr)},In.hasIn=ms,In.head=Ro,In.identity=Ks,In.includes=function(e,t,n,r){e=Ra(e)?e:xs(e),n=n&&!r?ns(n):0;var i=e.length;return n<0&&(n=on(i+n,0)),Ya(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&_t(e,t,n)>-1},In.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ns(n);return i<0&&(i=on(r+i,0)),_t(e,t,i)},In.inRange=function(e,t,n){return t=ts(t),void 0===n?(n=t,t=0):n=ts(n),function(e,t,n){return e>=an(t,n)&&e<on(t,n)}(e=is(e),t,n)},In.invoke=gs,In.isArguments=Da,In.isArray=Na,In.isArrayBuffer=Pa,In.isArrayLike=Ra,In.isArrayLikeObject=La,In.isBoolean=function(e){return!0===e||!1===e||za(e)&&hr(e)==l},In.isBuffer=Ma,In.isDate=ja,In.isElement=function(e){return za(e)&&1===e.nodeType&&!Ha(e)},In.isEmpty=function(e){if(null==e)return!0;if(Ra(e)&&(Na(e)||"string"==typeof e||"function"==typeof e.splice||Ma(e)||$a(e)||Da(e)))return!e.length;var t=to(e);if(t==m||t==b)return!e.size;if(lo(e))return!Sr(e).length;for(var n in e)if(Se.call(e,n))return!1;return!0},In.isEqual=function(e,t){return br(e,t)},In.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?br(e,t,void 0,n):!!r},In.isError=Fa,In.isFinite=function(e){return"number"==typeof e&&tn(e)},In.isFunction=Ua,In.isInteger=Ba,In.isLength=qa,In.isMap=Wa,In.isMatch=function(e,t){return e===t||wr(e,t,$i(t))},In.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,wr(e,t,$i(t),n)},In.isNaN=function(e){return Ka(e)&&e!=+e},In.isNative=function(e){if(co(e))throw new i("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return _r(e)},In.isNil=function(e){return null==e},In.isNull=function(e){return null===e},In.isNumber=Ka,In.isObject=Va,In.isObjectLike=za,In.isPlainObject=Ha,In.isRegExp=Qa,In.isSafeInteger=function(e){return Ba(e)&&e>=-9007199254740991&&e<=9007199254740991},In.isSet=Ga,In.isString=Ya,In.isSymbol=Xa,In.isTypedArray=$a,In.isUndefined=function(e){return void 0===e},In.isWeakMap=function(e){return za(e)&&to(e)==T},In.isWeakSet=function(e){return za(e)&&"[object WeakSet]"==hr(e)},In.join=function(e,t){return null==e?"":nn.call(e,t)},In.kebabCase=Ns,In.last=Fo,In.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ns(n))<0?on(r+i,0):an(i,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):wt(e,St,i,!0)},In.lowerCase=Ps,In.lowerFirst=Rs,In.lt=Ja,In.lte=Za,In.max=function(e){return e&&e.length?nr(e,Ks,dr):void 0},In.maxBy=function(e,t){return e&&e.length?nr(e,Yi(t,2),dr):void 0},In.mean=function(e){return Et(e,Ks)},In.meanBy=function(e,t){return Et(e,Yi(t,2))},In.min=function(e){return e&&e.length?nr(e,Ks,kr):void 0},In.minBy=function(e,t){return e&&e.length?nr(e,Yi(t,2),kr):void 0},In.stubArray=ru,In.stubFalse=iu,In.stubObject=function(){return{}},In.stubString=function(){return""},In.stubTrue=function(){return!0},In.multiply=cu,In.nth=function(e,t){return e&&e.length?Or(e,ns(t)):void 0},In.noConflict=function(){return Qe._===this&&(Qe._=xe),this},In.noop=Xs,In.now=pa,In.pad=function(e,t,n){e=as(e);var r=(t=ns(t))?Kt(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Di(Jt(i),n)+e+Di($t(i),n)},In.padEnd=function(e,t,n){e=as(e);var r=(t=ns(t))?Kt(e):0;return t&&r<t?e+Di(t-r,n):e},In.padStart=function(e,t,n){e=as(e);var r=(t=ns(t))?Kt(e):0;return t&&r<t?Di(t-r,n)+e:e},In.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),un(as(e).replace(Y,""),t||0)},In.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ao(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ts(e),void 0===t?(t=e,e=0):t=ts(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=cn();return an(e+i*(t-e+ze("1e-"+((i+"").length-1))),t)}return Lr(e,t)},In.reduce=function(e,t,n){var r=Na(e)?mt:It,i=arguments.length<3;return r(e,Yi(t,4),n,i,Zn)},In.reduceRight=function(e,t,n){var r=Na(e)?vt:It,i=arguments.length<3;return r(e,Yi(t,4),n,i,er)},In.repeat=function(e,t,n){return t=(n?ao(e,t,n):void 0===t)?1:ns(t),Mr(as(e),t)},In.replace=function(){var e=arguments,t=as(e[0]);return e.length<3?t:t.replace(e[1],e[2])},In.result=function(e,t,n){var r=-1,i=(t=ai(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[ko(t[r])];void 0===o&&(r=i,o=n),e=Ua(o)?o.call(e):o}return e},In.round=lu,In.runInContext=e,In.sample=function(e){return(Na(e)?Fn:Fr)(e)},In.size=function(e){if(null==e)return 0;if(Ra(e))return Ya(e)?Kt(e):e.length;var t=to(e);return t==m||t==b?e.size:Sr(e).length},In.snakeCase=Ls,In.some=function(e,t,n){var r=Na(e)?yt:Kr;return n&&ao(e,t,n)&&(t=void 0),r(e,Yi(t,3))},In.sortedIndex=function(e,t){return Hr(e,t)},In.sortedIndexBy=function(e,t,n){return Qr(e,t,Yi(n,2))},In.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Hr(e,t);if(r<n&&xa(e[r],t))return r}return-1},In.sortedLastIndex=function(e,t){return Hr(e,t,!0)},In.sortedLastIndexBy=function(e,t,n){return Qr(e,t,Yi(n,2),!0)},In.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Hr(e,t,!0)-1;if(xa(e[n],t))return n}return-1},In.startCase=Ms,In.startsWith=function(e,t,n){return e=as(e),n=null==n?0:Gn(ns(n),0,e.length),t=Xr(t),e.slice(n,n+t.length)==t},In.subtract=fu,In.sum=function(e){return e&&e.length?xt(e,Ks):0},In.sumBy=function(e,t){return e&&e.length?xt(e,Yi(t,2)):0},In.template=function(e,t,n){var r=In.templateSettings;n&&ao(e,t,n)&&(t=void 0),e=as(e),t=cs({},t,r,Ui);var i,o,a=cs({},t.imports,r.imports,Ui),s=bs(a),u=Dt(a,s),c=0,l=t.interpolate||le,f="__p += '",h=me((t.escape||le).source+"|"+l.source+"|"+(l===V?ne:le).source+"|"+(t.evaluate||le).source+"|$","g"),d="//# sourceURL="+(Se.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Ue+"]")+"\n";e.replace(h,(function(t,n,r,a,s,u){return r||(r=a),f+=e.slice(c,u).replace(fe,Ft),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),f+="';\n";var p=Se.call(t,"variable")&&t.variable;p||(f="with (obj) {\n"+f+"\n}\n"),f=(o?f.replace(P,""):f).replace(R,"$1").replace(L,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=Bs((function(){return he(s,d+"return "+f).apply(void 0,u)}));if(m.source=f,Fa(m))throw m;return m},In.times=function(e,t){if((e=ns(e))<1||e>9007199254740991)return[];var n=4294967295,r=an(e,4294967295);e-=4294967295;for(var i=At(r,t=Yi(t));++n<e;)t(n);return i},In.toFinite=ts,In.toInteger=ns,In.toLength=rs,In.toLower=function(e){return as(e).toLowerCase()},In.toNumber=is,In.toSafeInteger=function(e){return e?Gn(ns(e),-9007199254740991,9007199254740991):0===e?e:0},In.toString=as,In.toUpper=function(e){return as(e).toUpperCase()},In.trim=function(e,t,n){if((e=as(e))&&(n||void 0===t))return e.replace(G,"");if(!e||!(t=Xr(t)))return e;var r=Ht(e),i=Ht(t);return ui(r,Pt(r,i),Rt(r,i)+1).join("")},In.trimEnd=function(e,t,n){if((e=as(e))&&(n||void 0===t))return e.replace(X,"");if(!e||!(t=Xr(t)))return e;var r=Ht(e);return ui(r,0,Rt(r,Ht(t))+1).join("")},In.trimStart=function(e,t,n){if((e=as(e))&&(n||void 0===t))return e.replace(Y,"");if(!e||!(t=Xr(t)))return e;var r=Ht(e);return ui(r,Pt(r,Ht(t))).join("")},In.truncate=function(e,t){var n=30,r="...";if(Va(t)){var i="separator"in t?t.separator:i;n="length"in t?ns(t.length):n,r="omission"in t?Xr(t.omission):r}var o=(e=as(e)).length;if(Ut(e)){var a=Ht(e);o=a.length}if(n>=o)return e;var s=n-Kt(r);if(s<1)return r;var u=a?ui(a,0,s).join(""):e.slice(0,s);if(void 0===i)return u+r;if(a&&(s+=u.length-s),Qa(i)){if(e.slice(s).search(i)){var c,l=u;for(i.global||(i=me(i.source,as(re.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;u=u.slice(0,void 0===f?s:f)}}else if(e.indexOf(Xr(i),s)!=s){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r},In.unescape=function(e){return(e=as(e))&&F.test(e)?e.replace(M,Qt):e},In.uniqueId=function(e){var t=++Ee;return as(e)+t},In.upperCase=js,In.upperFirst=Fs,In.each=aa,In.eachRight=sa,In.first=Ro,Ys(In,function(){var e={};return sr(In,(function(t,n){Se.call(In.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),In.VERSION="4.17.15",st(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){In[e].placeholder=In})),st(["drop","take"],(function(e,t){Dn.prototype[e]=function(n){n=void 0===n?1:on(ns(n),0);var r=this.__filtered__&&!t?new Dn(this):this.clone();return r.__filtered__?r.__takeCount__=an(n,r.__takeCount__):r.__views__.push({size:an(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},Dn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),st(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Dn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Yi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),st(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Dn.prototype[e]=function(){return this[n](1).value()[0]}})),st(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Dn.prototype[e]=function(){return this.__filtered__?new Dn(this):this[n](1)}})),Dn.prototype.compact=function(){return this.filter(Ks)},Dn.prototype.find=function(e){return this.filter(e).head()},Dn.prototype.findLast=function(e){return this.reverse().find(e)},Dn.prototype.invokeMap=jr((function(e,t){return"function"==typeof e?new Dn(this):this.map((function(n){return yr(n,e,t)}))})),Dn.prototype.reject=function(e){return this.filter(Sa(Yi(e)))},Dn.prototype.slice=function(e,t){e=ns(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Dn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=ns(t))<0?n.dropRight(-t):n.take(t-e)),n)},Dn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Dn.prototype.toArray=function(){return this.take(4294967295)},sr(Dn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=In[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(In.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,s=t instanceof Dn,u=a[0],c=s||Na(t),l=function(e){var t=i.apply(In,pt([e],a));return r&&f?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(s=c=!1);var f=this.__chain__,h=!!this.__actions__.length,d=o&&!f,p=s&&!h;if(!o&&c){t=p?t:new Dn(this);var m=e.apply(t,a);return m.__actions__.push({func:ta,args:[l],thisArg:void 0}),new On(m,f)}return d&&p?e.apply(this,a):(m=this.thru(l),d?r?m.value()[0]:m.value():m)})})),st(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ge[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);In.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Na(i)?i:[],e)}return this[n]((function(n){return t.apply(Na(n)?n:[],e)}))}})),sr(Dn.prototype,(function(e,t){var n=In[t];if(n){var r=n.name+"";Se.call(gn,r)||(gn[r]=[]),gn[r].push({name:t,func:n})}})),gn[Ii(void 0,2).name]=[{name:"wrapper",func:void 0}],Dn.prototype.clone=function(){var e=new Dn(this.__wrapped__);return e.__actions__=vi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=vi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=vi(this.__views__),e},Dn.prototype.reverse=function(){if(this.__filtered__){var e=new Dn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Dn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Na(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=an(t,e+a);break;case"takeRight":e=on(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,d=an(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return ti(e,this.__actions__);var p=[];e:for(;u--&&h<d;){for(var m=-1,v=e[c+=t];++m<f;){var y=l[m],g=y.iteratee,b=y.type,w=g(v);if(2==b)v=w;else if(!w){if(1==b)continue e;break e}}p[h++]=v}return p},In.prototype.at=na,In.prototype.chain=function(){return ea(this)},In.prototype.commit=function(){return new On(this.value(),this.__chain__)},In.prototype.next=function(){void 0===this.__values__&&(this.__values__=es(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},In.prototype.plant=function(e){for(var t,n=this;n instanceof An;){var r=Io(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},In.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Dn){var t=e;return this.__actions__.length&&(t=new Dn(this)),(t=t.reverse()).__actions__.push({func:ta,args:[Vo],thisArg:void 0}),new On(t,this.__chain__)}return this.thru(Vo)},In.prototype.toJSON=In.prototype.valueOf=In.prototype.value=function(){return ti(this.__wrapped__,this.__actions__)},In.prototype.first=In.prototype.head,$e&&(In.prototype[$e]=function(){return this}),In}();Qe._=Gt,void 0===(i=function(){return Gt}.call(t,n,t,r))||(r.exports=i)}).call(this)}).call(this,n(15),n(166)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(37),o=n(68),a=n(69),s=((r={})["no-app"]="No Firebase App '{$name}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$name}",r["duplicate-app"]="Firebase App named '{$name}' already exists",r["app-deleted"]="Firebase App named '{$name}' already deleted",r["duplicate-service"]="Firebase service named '{$name}' already registered",r["invalid-app-argument"]="firebase.{$name}() takes either no argument or a Firebase App instance.",r),u=new o.ErrorFactory("app","Firebase",s),c=[],l=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){c.push(e),setTimeout((function(){return e(null)}),0)},removeAuthTokenListener:function(e){c=c.filter((function(t){return t!==e}))}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){e.firebase_.INTERNAL.removeApp(e.name_);for(var t=[],n=0,r=Object.keys(e.services_);n<r.length;n++)for(var i=r[n],o=0,a=Object.keys(e.services_[i]);o<a.length;o++){var s=a[o];t.push(e.services_[i][s])}return Promise.all(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))})).then((function(){e.isDeleted_=!0,e.services_={}}))},e.prototype._getService=function(e,t){if(void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n="[DEFAULT]"!==t?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;o.deepExtend(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(c.forEach((function(e){t.INTERNAL.addAuthTokenListener(e)})),c=[])},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{name:this.name_})},e}();l.prototype.name&&l.prototype.options||l.prototype.delete||console.log("dc");function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var h=new a.Logger("@firebase/app");if(o.isBrowser()&&"firebase"in self){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var d=self.firebase.SDK_VERSION;d&&d.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var p=function e(){var t=function(e){var t={},n={},r={},i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={});if("object"!==typeof r||null===r){r={name:r}}var o=r;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!==typeof a||!a)throw u.create("bad-app-name",{name:String(a)});if(f(t,a))throw u.create("duplicate-app",{name:a});var s=new e(n,o,i);return t[a]=s,c(s,"create"),s},app:a,apps:null,SDK_VERSION:"6.1.1",INTERNAL:{registerService:function(t,c,l,f,h){void 0===h&&(h=!1);if(n[t])throw u.create("duplicate-service",{name:t});n[t]=c,f&&(r[t]=f,s().forEach((function(e){f("create",e)})));function d(e){if(void 0===e&&(e=a()),"function"!==typeof e[t])throw u.create("invalid-app-argument",{name:t});return e[t]()}void 0!==l&&o.deepExtend(d,l);return i[t]=d,e.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this._getService.bind(this,t);return r.apply(this,h?e:[])},d},removeApp:function(e){c(t[e],"delete"),delete t[e]},factories:n,useAsService:l}};function a(e){if(!f(t,e=e||"[DEFAULT]"))throw u.create("no-app",{name:e});return t[e]}function s(){return Object.keys(t).map((function(e){return t[e]}))}function c(e,t){for(var i=0,o=Object.keys(n);i<o.length;i++){var a=l(e,o[i]);if(null===a)return;r[a]&&r[a](t,e)}}function l(e,t){return"serverAuth"===t?null:t}return(o.patchProperty(i,"default",i),Object.defineProperty(i,"apps",{get:s}),o.patchProperty(a,"App",e),i)}(l);return t.INTERNAL=i.__assign({},t.INTERNAL,{createFirebaseNamespace:e,extendNamespace:function(e){o.deepExtend(t,e)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),t}(),m=p.initializeApp;p.initializeApp=function(){return o.isNode()&&h.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\n      to false and "main" to true:\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),m.apply(void 0,arguments)};var v=p;t.default=v,t.firebase=v},,,,function(e,t,n){"use strict";var r=n(0),i=n.n(r);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return function(){return e}}var d=function(){};d.thatReturns=h,d.thatReturnsFalse=h(!1),d.thatReturnsTrue=h(!0),d.thatReturnsNull=h(null),d.thatReturnsThis=function(){return this},d.thatReturnsArgument=function(e){return e};var p=d;var m=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}},v=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;function b(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}})()&&Object.assign;var w="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";var _=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){e.exports=function(){function e(e,t,n,r,i,o){o!==w&&m(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=p,n.PropTypes=n,n}()})),T={HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"},S=function(e,t){var n;"function"===typeof window.CustomEvent?n=new window.CustomEvent(e,{detail:t}):((n=document.createEvent("Event")).initEvent(e,!1,!0),n.detail=t),window.dispatchEvent(n)};var E=function(e,t){var n=this.state.show,r=this.props.id,i=this.isCapture(t.currentTarget),o=t.currentTarget.getAttribute("currentItem");i||t.stopPropagation(),n&&"true"===o?e||this.hideTooltip(t):(t.currentTarget.setAttribute("currentItem","true"),k(t.currentTarget,this.getTargetArray(r)),this.showTooltip(t))},k=function(e,t){for(var n=0;n<t.length;n++)e!==t[n]?t[n].setAttribute("currentItem","false"):t[n].setAttribute("currentItem","true")},C={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(e,t,n){this.id in e?e[this.id][t]=n:Object.defineProperty(e,this.id,{configurable:!0,value:a({},t,n)})},get:function(e,t){var n=e[this.id];if(void 0!==n)return n[t]}};var I=function(e,t,n){var r=t.respectEffect,i=void 0!==r&&r,o=t.customEvent,a=void 0!==o&&o,s=this.props.id,u=n.target.getAttribute("data-tip")||null,c=n.target.getAttribute("data-for")||null,l=n.target;if(!this.isCustomEvent(l)||a){var f=null==s&&null==c||c===s;if(null!=u&&(!i||"float"===this.getEffect(l))&&f){var h=function(e){var t={};for(var n in e)"function"===typeof e[n]?t[n]=e[n].bind(e):t[n]=e[n];return t}(n);h.currentTarget=l,e(h)}}},x=function(e,t){var n={};return e.forEach((function(e){var r=e.getAttribute(t);r&&r.split(" ").forEach((function(e){return n[e]=!0}))})),n},A=function(){return document.getElementsByTagName("body")[0]};function O(e,t,n,r,i,o,a){for(var s=R(n),u=s.width,c=s.height,l=R(t),f=l.width,h=l.height,d=L(e,t,o),p=d.mouseX,m=d.mouseY,v=M(o,f,h,u,c),y=j(a),g=y.extraOffset_X,b=y.extraOffset_Y,w=window.innerWidth,_=window.innerHeight,T=F(n),S=T.parentTop,E=T.parentLeft,k=function(e){var t=v[e].l;return p+t+g},C=function(e){var t=v[e].t;return m+t+b},I=function(e){return function(e){var t=v[e].r;return p+t+g}(e)>w},x=function(e){return function(e){var t=v[e].b;return m+t+b}(e)>_},A=function(e){return function(e){return k(e)<0}(e)||I(e)||function(e){return C(e)<0}(e)||x(e)},O=function(e){return!A(e)},D=["top","bottom","left","right"],N=[],P=0;P<4;P++){var U=D[P];O(U)&&N.push(U)}var B,q=!1,V=i!==r;return O(i)&&V?(q=!0,B=i):N.length>0&&V&&A(i)&&A(r)&&(q=!0,B=N[0]),q?{isNewState:!0,newState:{place:B}}:{isNewState:!1,position:{left:parseInt(k(r)-E,10),top:parseInt(C(r)-S,10)}}}var D,N,P,R=function(e){var t=e.getBoundingClientRect(),n=t.height,r=t.width;return{height:parseInt(n,10),width:parseInt(r,10)}},L=function(e,t,n){var r=t.getBoundingClientRect(),i=r.top,o=r.left,a=R(t),s=a.width,u=a.height;return"float"===n?{mouseX:e.clientX,mouseY:e.clientY}:{mouseX:o+s/2,mouseY:i+u/2}},M=function(e,t,n,r,i){var o,a,s,u;return"float"===e?(o={l:-r/2,r:r/2,t:-(i+3+2),b:-3},s={l:-r/2,r:r/2,t:15,b:i+3+2+12},u={l:-(r+3+2),r:-3,t:-i/2,b:i/2},a={l:3,r:r+3+2,t:-i/2,b:i/2}):"solid"===e&&(o={l:-r/2,r:r/2,t:-(n/2+i+2),b:-n/2},s={l:-r/2,r:r/2,t:n/2,b:n/2+i+2},u={l:-(r+t/2+2),r:-t/2,t:-i/2,b:i/2},a={l:t/2,r:r+t/2+2,t:-i/2,b:i/2}),{top:o,bottom:s,left:u,right:a}},j=function(e){var t=0,n=0;for(var r in"[object String]"===Object.prototype.toString.apply(e)&&(e=JSON.parse(e.toString().replace(/\'/g,'"'))),e)"top"===r?n-=parseInt(e[r],10):"bottom"===r?n+=parseInt(e[r],10):"left"===r?t-=parseInt(e[r],10):"right"===r&&(t+=parseInt(e[r],10));return{extraOffset_X:t,extraOffset_Y:n}},F=function(e){for(var t=e;t&&"none"===window.getComputedStyle(t).getPropertyValue("transform");)t=t.parentElement;return{parentTop:t&&t.getBoundingClientRect().top||0,parentLeft:t&&t.getBoundingClientRect().left||0}};function U(e,t,n,r){if(t)return t;if(void 0!==n&&null!==n)return n;if(null===n)return null;var o=/<br\s*\/?>/;return r&&"false"!==r&&o.test(e)?e.split(o).map((function(e,t){return i.a.createElement("span",{key:t,className:"multi-line"},e)})):e}function B(e){var t={};return Object.keys(e).filter((function(e){return/(^aria-\w+$|^role$)/.test(e)})).forEach((function(n){t[n]=e[n]})),t}function q(e){var t=e.length;return e.hasOwnProperty?Array.prototype.slice.call(e):new Array(t).fill().map((function(t){return e[t]}))}!function(e){if(e&&"undefined"!==typeof window){var t=document.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t)}}('.__react_component_tooltip {\n  border-radius: 3px;\n  display: inline-block;\n  font-size: 13px;\n  left: -999em;\n  opacity: 0;\n  padding: 8px 21px;\n  position: fixed;\n  pointer-events: none;\n  transition: opacity 0.3s ease-out;\n  top: -999em;\n  visibility: hidden;\n  z-index: 999;\n}\n.__react_component_tooltip.allow_hover, .__react_component_tooltip.allow_click {\n  pointer-events: auto;\n}\n.__react_component_tooltip:before, .__react_component_tooltip:after {\n  content: "";\n  width: 0;\n  height: 0;\n  position: absolute;\n}\n.__react_component_tooltip.show {\n  opacity: 0.9;\n  margin-top: 0px;\n  margin-left: 0px;\n  visibility: visible;\n}\n.__react_component_tooltip.type-dark {\n  color: #fff;\n  background-color: #222;\n}\n.__react_component_tooltip.type-dark.place-top:after {\n  border-top-color: #222;\n  border-top-style: solid;\n  border-top-width: 6px;\n}\n.__react_component_tooltip.type-dark.place-bottom:after {\n  border-bottom-color: #222;\n  border-bottom-style: solid;\n  border-bottom-width: 6px;\n}\n.__react_component_tooltip.type-dark.place-left:after {\n  border-left-color: #222;\n  border-left-style: solid;\n  border-left-width: 6px;\n}\n.__react_component_tooltip.type-dark.place-right:after {\n  border-right-color: #222;\n  border-right-style: solid;\n  border-right-width: 6px;\n}\n.__react_component_tooltip.type-dark.border {\n  border: 1px solid #fff;\n}\n.__react_component_tooltip.type-dark.border.place-top:before {\n  border-top: 8px solid #fff;\n}\n.__react_component_tooltip.type-dark.border.place-bottom:before {\n  border-bottom: 8px solid #fff;\n}\n.__react_component_tooltip.type-dark.border.place-left:before {\n  border-left: 8px solid #fff;\n}\n.__react_component_tooltip.type-dark.border.place-right:before {\n  border-right: 8px solid #fff;\n}\n.__react_component_tooltip.type-success {\n  color: #fff;\n  background-color: #8DC572;\n}\n.__react_component_tooltip.type-success.place-top:after {\n  border-top-color: #8DC572;\n  border-top-style: solid;\n  border-top-width: 6px;\n}\n.__react_component_tooltip.type-success.place-bottom:after {\n  border-bottom-color: #8DC572;\n  border-bottom-style: solid;\n  border-bottom-width: 6px;\n}\n.__react_component_tooltip.type-success.place-left:after {\n  border-left-color: #8DC572;\n  border-left-style: solid;\n  border-left-width: 6px;\n}\n.__react_component_tooltip.type-success.place-right:after {\n  border-right-color: #8DC572;\n  border-right-style: solid;\n  border-right-width: 6px;\n}\n.__react_component_tooltip.type-success.border {\n  border: 1px solid #fff;\n}\n.__react_component_tooltip.type-success.border.place-top:before {\n  border-top: 8px solid #fff;\n}\n.__react_component_tooltip.type-success.border.place-bottom:before {\n  border-bottom: 8px solid #fff;\n}\n.__react_component_tooltip.type-success.border.place-left:before {\n  border-left: 8px solid #fff;\n}\n.__react_component_tooltip.type-success.border.place-right:before {\n  border-right: 8px solid #fff;\n}\n.__react_component_tooltip.type-warning {\n  color: #fff;\n  background-color: #F0AD4E;\n}\n.__react_component_tooltip.type-warning.place-top:after {\n  border-top-color: #F0AD4E;\n  border-top-style: solid;\n  border-top-width: 6px;\n}\n.__react_component_tooltip.type-warning.place-bottom:after {\n  border-bottom-color: #F0AD4E;\n  border-bottom-style: solid;\n  border-bottom-width: 6px;\n}\n.__react_component_tooltip.type-warning.place-left:after {\n  border-left-color: #F0AD4E;\n  border-left-style: solid;\n  border-left-width: 6px;\n}\n.__react_component_tooltip.type-warning.place-right:after {\n  border-right-color: #F0AD4E;\n  border-right-style: solid;\n  border-right-width: 6px;\n}\n.__react_component_tooltip.type-warning.border {\n  border: 1px solid #fff;\n}\n.__react_component_tooltip.type-warning.border.place-top:before {\n  border-top: 8px solid #fff;\n}\n.__react_component_tooltip.type-warning.border.place-bottom:before {\n  border-bottom: 8px solid #fff;\n}\n.__react_component_tooltip.type-warning.border.place-left:before {\n  border-left: 8px solid #fff;\n}\n.__react_component_tooltip.type-warning.border.place-right:before {\n  border-right: 8px solid #fff;\n}\n.__react_component_tooltip.type-error {\n  color: #fff;\n  background-color: #BE6464;\n}\n.__react_component_tooltip.type-error.place-top:after {\n  border-top-color: #BE6464;\n  border-top-style: solid;\n  border-top-width: 6px;\n}\n.__react_component_tooltip.type-error.place-bottom:after {\n  border-bottom-color: #BE6464;\n  border-bottom-style: solid;\n  border-bottom-width: 6px;\n}\n.__react_component_tooltip.type-error.place-left:after {\n  border-left-color: #BE6464;\n  border-left-style: solid;\n  border-left-width: 6px;\n}\n.__react_component_tooltip.type-error.place-right:after {\n  border-right-color: #BE6464;\n  border-right-style: solid;\n  border-right-width: 6px;\n}\n.__react_component_tooltip.type-error.border {\n  border: 1px solid #fff;\n}\n.__react_component_tooltip.type-error.border.place-top:before {\n  border-top: 8px solid #fff;\n}\n.__react_component_tooltip.type-error.border.place-bottom:before {\n  border-bottom: 8px solid #fff;\n}\n.__react_component_tooltip.type-error.border.place-left:before {\n  border-left: 8px solid #fff;\n}\n.__react_component_tooltip.type-error.border.place-right:before {\n  border-right: 8px solid #fff;\n}\n.__react_component_tooltip.type-info {\n  color: #fff;\n  background-color: #337AB7;\n}\n.__react_component_tooltip.type-info.place-top:after {\n  border-top-color: #337AB7;\n  border-top-style: solid;\n  border-top-width: 6px;\n}\n.__react_component_tooltip.type-info.place-bottom:after {\n  border-bottom-color: #337AB7;\n  border-bottom-style: solid;\n  border-bottom-width: 6px;\n}\n.__react_component_tooltip.type-info.place-left:after {\n  border-left-color: #337AB7;\n  border-left-style: solid;\n  border-left-width: 6px;\n}\n.__react_component_tooltip.type-info.place-right:after {\n  border-right-color: #337AB7;\n  border-right-style: solid;\n  border-right-width: 6px;\n}\n.__react_component_tooltip.type-info.border {\n  border: 1px solid #fff;\n}\n.__react_component_tooltip.type-info.border.place-top:before {\n  border-top: 8px solid #fff;\n}\n.__react_component_tooltip.type-info.border.place-bottom:before {\n  border-bottom: 8px solid #fff;\n}\n.__react_component_tooltip.type-info.border.place-left:before {\n  border-left: 8px solid #fff;\n}\n.__react_component_tooltip.type-info.border.place-right:before {\n  border-right: 8px solid #fff;\n}\n.__react_component_tooltip.type-light {\n  color: #222;\n  background-color: #fff;\n}\n.__react_component_tooltip.type-light.place-top:after {\n  border-top-color: #fff;\n  border-top-style: solid;\n  border-top-width: 6px;\n}\n.__react_component_tooltip.type-light.place-bottom:after {\n  border-bottom-color: #fff;\n  border-bottom-style: solid;\n  border-bottom-width: 6px;\n}\n.__react_component_tooltip.type-light.place-left:after {\n  border-left-color: #fff;\n  border-left-style: solid;\n  border-left-width: 6px;\n}\n.__react_component_tooltip.type-light.place-right:after {\n  border-right-color: #fff;\n  border-right-style: solid;\n  border-right-width: 6px;\n}\n.__react_component_tooltip.type-light.border {\n  border: 1px solid #222;\n}\n.__react_component_tooltip.type-light.border.place-top:before {\n  border-top: 8px solid #222;\n}\n.__react_component_tooltip.type-light.border.place-bottom:before {\n  border-bottom: 8px solid #222;\n}\n.__react_component_tooltip.type-light.border.place-left:before {\n  border-left: 8px solid #222;\n}\n.__react_component_tooltip.type-light.border.place-right:before {\n  border-right: 8px solid #222;\n}\n.__react_component_tooltip.place-top {\n  margin-top: -10px;\n}\n.__react_component_tooltip.place-top:before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  bottom: -8px;\n  left: 50%;\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-top:after {\n  border-left: 8px solid transparent;\n  border-right: 8px solid transparent;\n  bottom: -6px;\n  left: 50%;\n  margin-left: -8px;\n}\n.__react_component_tooltip.place-bottom {\n  margin-top: 10px;\n}\n.__react_component_tooltip.place-bottom:before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  top: -8px;\n  left: 50%;\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-bottom:after {\n  border-left: 8px solid transparent;\n  border-right: 8px solid transparent;\n  top: -6px;\n  left: 50%;\n  margin-left: -8px;\n}\n.__react_component_tooltip.place-left {\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-left:before {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  right: -8px;\n  top: 50%;\n  margin-top: -5px;\n}\n.__react_component_tooltip.place-left:after {\n  border-top: 5px solid transparent;\n  border-bottom: 5px solid transparent;\n  right: -6px;\n  top: 50%;\n  margin-top: -4px;\n}\n.__react_component_tooltip.place-right {\n  margin-left: 10px;\n}\n.__react_component_tooltip.place-right:before {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  left: -8px;\n  top: 50%;\n  margin-top: -5px;\n}\n.__react_component_tooltip.place-right:after {\n  border-top: 5px solid transparent;\n  border-bottom: 5px solid transparent;\n  left: -6px;\n  top: 50%;\n  margin-top: -4px;\n}\n.__react_component_tooltip .multi-line {\n  display: block;\n  padding: 2px 0px;\n  text-align: center;\n}');var V,z=function(e){e.hide=function(e){S(T.HIDE,{target:e})},e.rebuild=function(){S(T.REBUILD)},e.show=function(e){S(T.SHOW,{target:e})},e.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},e.prototype.globalShow=function(e){if(this.mount){var t={currentTarget:e.detail.target};this.showTooltip(t,!0)}},e.prototype.globalHide=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.hideTooltip({currentTarget:t&&e.detail.target},t)}}}(D=function(e){e.prototype.bindWindowEvents=function(e){window.removeEventListener(T.HIDE,this.globalHide),window.addEventListener(T.HIDE,this.globalHide,!1),window.removeEventListener(T.REBUILD,this.globalRebuild),window.addEventListener(T.REBUILD,this.globalRebuild,!1),window.removeEventListener(T.SHOW,this.globalShow),window.addEventListener(T.SHOW,this.globalShow,!1),e&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},e.prototype.unbindWindowEvents=function(){window.removeEventListener(T.HIDE,this.globalHide),window.removeEventListener(T.REBUILD,this.globalRebuild),window.removeEventListener(T.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},e.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}}(D=function(e){e.prototype.isCustomEvent=function(e){return this.state.event||!!e.getAttribute("data-event")},e.prototype.customBindListener=function(e){var t=this,n=this.state,r=n.event,i=n.eventOff,o=e.getAttribute("data-event")||r,a=e.getAttribute("data-event-off")||i;o.split(" ").forEach((function(n){e.removeEventListener(n,C.get(e,n));var r=E.bind(t,a);C.set(e,n,r),e.addEventListener(n,r,!1)})),a&&a.split(" ").forEach((function(n){e.removeEventListener(n,t.hideTooltip),e.addEventListener(n,t.hideTooltip,!1)}))},e.prototype.customUnbindListener=function(e){var t=this.state,n=t.event,r=t.eventOff,i=n||e.getAttribute("data-event"),o=r||e.getAttribute("data-event-off");e.removeEventListener(i,C.get(e,n)),o&&e.removeEventListener(o,this.hideTooltip)}}(D=function(e){e.prototype.isCapture=function(e){return e&&"true"===e.getAttribute("data-iscapture")||this.props.isCapture||!1}}(D=function(e){e.prototype.getEffect=function(e){return e.getAttribute("data-effect")||this.props.effect||"float"}}(D=function(e){e.prototype.isBodyMode=function(){return!!this.props.bodyMode},e.prototype.bindBodyListener=function(e){var t=this,n=this.state,r=n.event,i=n.eventOff,o=n.possibleCustomEvents,a=n.possibleCustomEventsOff,s=A(),u=x(e,"data-event"),c=x(e,"data-event-off");null!=r&&(u[r]=!0),null!=i&&(c[i]=!0),o.split(" ").forEach((function(e){return u[e]=!0})),a.split(" ").forEach((function(e){return c[e]=!0})),this.unbindBodyListener(s);var l=this.bodyModeListeners={};for(var f in null==r&&(l.mouseover=I.bind(this,this.showTooltip,{}),l.mousemove=I.bind(this,this.updateTooltip,{respectEffect:!0}),l.mouseout=I.bind(this,this.hideTooltip,{})),u)l[f]=I.bind(this,(function(e){var n=e.currentTarget.getAttribute("data-event-off")||i;E.call(t,n,e)}),{customEvent:!0});for(var h in c)l[h]=I.bind(this,this.hideTooltip,{customEvent:!0});for(var d in l)s.addEventListener(d,l[d])},e.prototype.unbindBodyListener=function(e){e=e||A();var t=this.bodyModeListeners;for(var n in t)e.removeEventListener(n,t[n])}}((P=N=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=f(this,c(t).call(this,e))).state={place:e.place||"top",desiredPlace:e.place||"top",type:"dark",effect:"float",show:!1,border:!1,offset:{},extraClass:"",html:!1,delayHide:0,delayShow:0,event:e.event||null,eventOff:e.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:B(e),isEmptyTip:!1,disable:!1,possibleCustomEvents:e.possibleCustomEvents||"",possibleCustomEventsOff:e.possibleCustomEventsOff||"",originTooltip:null,isMultiline:!1},n.bind(["showTooltip","updateTooltip","hideTooltip","hideTooltipOnScroll","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),n.mount=!0,n.delayShowLoop=null,n.delayHideLoop=null,n.delayReshow=null,n.intervalUpdateContent=null,n}var n,r,h;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,h=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.ariaProps,r=B(e);return Object.keys(r).some((function(e){return r[e]!==n[e]}))?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{ariaProps:r}):null}}],(r=[{key:"bind",value:function(e){var t=this;e.forEach((function(e){t[e]=t[e].bind(t)}))}},{key:"componentDidMount",value:function(){var e=this.props,t=(e.insecure,e.resizeHide);this.bindListener(),this.bindWindowEvents(t)}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(),this.unbindWindowEvents()}},{key:"mouseOnToolTip",value:function(){return!(!this.state.show||!this.tooltipRef)&&(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover"))}},{key:"getTargetArray",value:function(e){var t,n=[];if(e){var r=e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');t='[data-tip][data-for="'.concat(r,'"]')}else t="[data-tip]:not([data-for])";return q(document.getElementsByTagName("*")).filter((function(e){return e.shadowRoot})).forEach((function(e){n=n.concat(q(e.shadowRoot.querySelectorAll(t)))})),n.concat(q(document.querySelectorAll(t)))}},{key:"bindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff,i=t.isCapture,o=this.getTargetArray(n);o.forEach((function(t){null===t.getAttribute("currentItem")&&t.setAttribute("currentItem","false"),e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),this.isBodyMode()?this.bindBodyListener(o):o.forEach((function(t){var n=e.isCapture(t),r=e.getEffect(t);e.isCustomEvent(t)?e.customBindListener(t):(t.addEventListener("mouseenter",e.showTooltip,n),"float"===r&&t.addEventListener("mousemove",e.updateTooltip,n),t.addEventListener("mouseleave",e.hideTooltip,n))})),r&&(window.removeEventListener(r,this.hideTooltip),window.addEventListener(r,this.hideTooltip,i)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff;this.isBodyMode()?this.unbindBodyListener():this.getTargetArray(n).forEach((function(t){e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),r&&window.removeEventListener(r,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(e){var t=this.isCapture(e);e.removeEventListener("mouseenter",this.showTooltip,t),e.removeEventListener("mousemove",this.updateTooltip,t),e.removeEventListener("mouseleave",this.hideTooltip,t)}},{key:"getTooltipContent",value:function(){var e,t=this.props,n=t.getContent,r=t.children;return n&&(e=Array.isArray(n)?n[0]&&n[0](this.state.originTooltip):n(this.state.originTooltip)),U(this.state.originTooltip,r,e,this.state.isMultiline)}},{key:"isEmptyTip",value:function(e){return"string"===typeof e&&""===e||null===e}},{key:"showTooltip",value:function(e,t){if(!t||this.getTargetArray(this.props.id).some((function(t){return t===e.currentTarget}))){var n=this.props,r=n.multiline,i=n.getContent,o=e.currentTarget.getAttribute("data-tip"),a=e.currentTarget.getAttribute("data-multiline")||r||!1,s=e instanceof window.FocusEvent||t,u=!0;e.currentTarget.getAttribute("data-scroll-hide")?u="true"===e.currentTarget.getAttribute("data-scroll-hide"):null!=this.props.scrollHide&&(u=this.props.scrollHide);var c=e.currentTarget.getAttribute("data-place")||this.props.place||"top",l=s?"solid":this.getEffect(e.currentTarget),f=e.currentTarget.getAttribute("data-offset")||this.props.offset||{},h=O(e,e.currentTarget,this.tooltipRef,c,c,l,f);h.position&&this.props.overridePosition&&(h.position=this.props.overridePosition(h.position,e.currentTarget,this.tooltipRef,c,c,l,f));var d=h.isNewState?h.newState.place:c;this.clearTimer();var p=e.currentTarget,m=this.state.show?p.getAttribute("data-delay-update")||this.props.delayUpdate:0,v=this,y=function(){v.setState({originTooltip:o,isMultiline:a,desiredPlace:c,place:d,type:p.getAttribute("data-type")||v.props.type||"dark",effect:l,offset:f,html:p.getAttribute("data-html")?"true"===p.getAttribute("data-html"):v.props.html||!1,delayShow:p.getAttribute("data-delay-show")||v.props.delayShow||0,delayHide:p.getAttribute("data-delay-hide")||v.props.delayHide||0,delayUpdate:p.getAttribute("data-delay-update")||v.props.delayUpdate||0,border:p.getAttribute("data-border")?"true"===p.getAttribute("data-border"):v.props.border||!1,extraClass:p.getAttribute("data-class")||v.props.class||v.props.className||"",disable:p.getAttribute("data-tip-disable")?"true"===p.getAttribute("data-tip-disable"):v.props.disable||!1,currentTarget:p},(function(){u&&v.addScrollListener(v.state.currentTarget),v.updateTooltip(e),i&&Array.isArray(i)&&(v.intervalUpdateContent=setInterval((function(){if(v.mount){var e=v.props.getContent,t=U(o,"",e[0](),a),n=v.isEmptyTip(t);v.setState({isEmptyTip:n}),v.updatePosition()}}),i[1]))}))};m?this.delayReshow=setTimeout(y,m):y()}}},{key:"updateTooltip",value:function(e){var t=this,n=this.state,r=n.delayShow,i=n.disable,o=this.props.afterShow,a=this.getTooltipContent(),s=parseInt(r,10),u=e.currentTarget||e.target;if(!this.mouseOnToolTip()&&!this.isEmptyTip(a)&&!i){var c=function(){if(Array.isArray(a)&&a.length>0||a){var n=!t.state.show;t.setState({currentEvent:e,currentTarget:u,show:!0},(function(){t.updatePosition(),n&&o&&o(e)}))}};clearTimeout(this.delayShowLoop),r?this.delayShowLoop=setTimeout(c,s):c()}}},{key:"listenForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isScroll:!1},i=this.state.disable,o=r.isScroll,a=o?0:this.state.delayHide,s=this.props.afterHide,u=this.getTooltipContent();if(this.mount&&!this.isEmptyTip(u)&&!i){if(t){var c=this.getTargetArray(this.props.id),l=c.some((function(t){return t===e.currentTarget}));if(!l||!this.state.show)return}var f=function(){var t=n.state.show;n.mouseOnToolTip()?n.listenForTooltipExit():(n.removeListenerForTooltipExit(),n.setState({show:!1},(function(){n.removeScrollListener(),t&&s&&s(e)})))};this.clearTimer(),a?this.delayHideLoop=setTimeout(f,parseInt(a,10)):f()}}},{key:"hideTooltipOnScroll",value:function(e,t){this.hideTooltip(e,t,{isScroll:!0})}},{key:"addScrollListener",value:function(e){var t=this.isCapture(e);window.addEventListener("scroll",this.hideTooltipOnScroll,t)}},{key:"removeScrollListener",value:function(){window.removeEventListener("scroll",this.hideTooltipOnScroll)}},{key:"updatePosition",value:function(){var e=this,t=this.state,n=t.currentEvent,r=t.currentTarget,i=t.place,o=t.desiredPlace,a=t.effect,s=t.offset,u=this.tooltipRef,c=O(n,r,u,i,o,a,s);if(c.position&&this.props.overridePosition&&(c.position=this.props.overridePosition(c.position,n,r,u,i,o,a,s)),c.isNewState)return this.setState(c.newState,(function(){e.updatePosition()}));u.style.left=c.position.left+"px",u.style.top=c.position.top+"px"}},{key:"clearTimer",value:function(){clearTimeout(this.delayShowLoop),clearTimeout(this.delayHideLoop),clearTimeout(this.delayReshow),clearInterval(this.intervalUpdateContent)}},{key:"render",value:function(){var e=this,n=this.state,r=n.extraClass,o=n.html,a=n.ariaProps,u=n.disable,c=this.getTooltipContent(),l=this.isEmptyTip(c),f="__react_component_tooltip"+(!this.state.show||u||l?"":" show")+(this.state.border?" border":"")+" place-".concat(this.state.place)+" type-".concat(this.state.type)+(this.props.delayUpdate?" allow_hover":"")+(this.props.clickable?" allow_click":""),h=this.props.wrapper;t.supportedWrappers.indexOf(h)<0&&(h=t.defaultProps.wrapper);var d=[f,r].filter(Boolean).join(" ");return o?i.a.createElement(h,s({className:d,id:this.props.id,ref:function(t){return e.tooltipRef=t}},a,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:c}})):i.a.createElement(h,s({className:d,id:this.props.id},a,{ref:function(t){return e.tooltipRef=t},"data-id":"tooltip"}),c)}}])&&o(n.prototype,r),h&&o(n,h),t}(i.a.Component),a(N,"propTypes",{children:_.any,place:_.string,type:_.string,effect:_.string,offset:_.object,multiline:_.bool,border:_.bool,insecure:_.bool,class:_.string,className:_.string,id:_.string,html:_.bool,delayHide:_.number,delayUpdate:_.number,delayShow:_.number,event:_.string,eventOff:_.string,watchWindow:_.bool,isCapture:_.bool,globalEventOff:_.string,getContent:_.any,afterShow:_.func,afterHide:_.func,overridePosition:_.func,disable:_.bool,scrollHide:_.bool,resizeHide:_.bool,wrapper:_.string,bodyMode:_.bool,possibleCustomEvents:_.string,possibleCustomEventsOff:_.string,clickable:_.bool}),a(N,"defaultProps",{insecure:!0,resizeHide:!0,wrapper:"div",clickable:!1}),a(N,"supportedWrappers",["div","span"]),a(N,"displayName","ReactTooltip"),(V=D=P).prototype.bindRemovalTracker=function(){var e=this,t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(null!=t){var n=new t((function(t){for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.removedNodes.length;i++)if(r.removedNodes[i]===e.state.currentTarget)return void e.hideTooltip()}));n.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=n}},D=void(V.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)})||D))||D)||D)||D)||D)||D)||D;t.a=z},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r={};(0,n(32).assign)(r,n(167),n(170),n(77)),e.exports=r},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(27),i=n(0),o=n.n(i),a=n(21),s=n.n(a),u=n(24),c=n(55),l=n.n(c),f=n(81),h=n.n(f);function d(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var p=o.a.createContext||function(e,t){var n,r,o="__create-react-context-"+h()()+"__",a=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=d(t.props.value),t}l()(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):1073741823,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(i.Component);a.childContextTypes=((n={})[o]=s.a.object.isRequired,n);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}l()(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?1073741823:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?1073741823:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return u.contextTypes=((r={})[o]=s.a.object,r),{Provider:a,Consumer:u}},m=n(22),v=n(17),y=n(56),g=n.n(y),b=(n(72),n(35));n(82);n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return D})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return P})),n.d(t,"g",(function(){return R}));var w=function(e){var t=p();return t.displayName=e,t}("Router"),_=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(w.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(o.a.Component);o.a.Component;o.a.Component;var T={},S=0;function E(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=T[n]||(T[n]={});if(r[e])return r[e];var i=[],o={regexp:g()(e,i,t),keys:i};return S<1e4&&(r[e]=o,S++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),h=e===l;return o&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:a.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var k=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(w.Consumer,null,(function(t){t||Object(m.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?E(n.pathname,e.props):t.match,i=Object(v.a)({},t,{location:n,match:r}),a=e.props,s=a.children,u=a.component,c=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(w.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:u?o.a.createElement(u,i):c?c(i):null:"function"===typeof s?s(i):null)}))},t}(o.a.Component);function C(e){return"/"===e.charAt(0)?e:"/"+e}function I(e,t){if(!e)return t;var n=C(e);return 0!==t.pathname.indexOf(n)?t:Object(v.a)({},t,{pathname:t.pathname.substr(n.length)})}function x(e){return"string"===typeof e?e:Object(u.e)(e)}function A(e){return function(){Object(m.a)(!1)}}function O(){}o.a.Component;var D=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(w.Consumer,null,(function(t){t||Object(m.a)(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?E(i.pathname,Object(v.a)({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.a.Component);var N=o.a.useContext;function P(){return N(w).history}function R(){var e=N(w).match;return e?e.params:{}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return y}));var r=n(18),i=n(27),o=n(0),a=n.n(o),s=n(24),u=(n(21),n(17)),c=n(35),l=n(22);a.a.Component;var f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.b)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.b,{history:this.history,children:this.props.children})},t}(a.a.Component);var h=function(e,t){return"function"===typeof e?e(t):e},d=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},p=function(e){return e},m=a.a.forwardRef;"undefined"===typeof m&&(m=p);var v=m((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(c.a)(e,["innerRef","navigate","onClick"]),s=o.target,l=Object(u.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=p!==m&&t||n,a.a.createElement("a",l)}));var y=m((function(e,t){var n=e.component,i=void 0===n?v:n,o=e.replace,s=e.to,f=e.innerRef,y=Object(c.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=e.history,r=d(h(s,e.location),e.location),c=r?n.createHref(r):"",v=Object(u.a)({},y,{href:c,navigate:function(){var t=h(s,e.location);(o?n.replace:n.push)(t)}});return p!==m?v.ref=t||f:v.innerRef=f,a.a.createElement(i,v)}))})),g=function(e){return e},b=a.a.forwardRef;"undefined"===typeof b&&(b=g);b((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,f=e.activeStyle,p=e.className,m=e.exact,v=e.isActive,w=e.location,_=e.strict,T=e.style,S=e.to,E=e.innerRef,k=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=w||e.location,o=d(h(S,n),n),c=o.pathname,C=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),I=C?Object(r.e)(n.pathname,{path:C,exact:m,strict:_}):null,x=!!(v?v(I,n):I),A=x?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(p,s):p,O=x?Object(u.a)({},T,{},f):T,D=Object(u.a)({"aria-current":x&&i||null,className:A,style:O,to:o},k);return g!==b?D.ref=t||E:D.innerRef=E,a.a.createElement(y,D)}))}))},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports=n(162)()},function(e,t,n){"use strict";t.a=function(e,t){if(!e)throw new Error("Invariant failed")}},,function(e,t,n){"use strict";var r=n(17);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),c=s||u;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=a.length;h>=0;h--){var d=a[h];"."===d?o(a,h):".."===d?(o(a,h),f++):f&&(o(a,h),f--)}if(!c)for(;f--;f)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(22);function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function m(e,t,n,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function v(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return C})),n.d(t,"d",(function(){return x})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return p}));var g=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}function w(){try{return window.history.state||{}}catch(e){return{}}}function _(e){void 0===e&&(e={}),g||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,f=void 0===u?b:u,v=o.keyLength,_=void 0===v?6:v,T=e.basename?d(l(e.basename)):"";function S(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return T&&(o=h(o,T)),m(o,r,n)}function E(){return Math.random().toString(36).substr(2,_)}var k=y();function C(e){Object(r.a)(F,e),F.length=t.length,k.notifyListeners(F.location,F.action)}function I(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||O(S(e.state))}function x(){O(S(w()))}var A=!1;function O(e){if(A)A=!1,C();else{k.confirmTransitionTo(e,"POP",f,(function(t){t?C({action:"POP",location:e}):function(e){var t=F.location,n=N.indexOf(t.key);-1===n&&(n=0);var r=N.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(A=!0,R(i))}(e)}))}}var D=S(w()),N=[D.key];function P(e){return T+p(e)}function R(e){t.go(e)}var L=0;function M(e){1===(L+=e)&&1===e?(window.addEventListener("popstate",I),i&&window.addEventListener("hashchange",x)):0===L&&(window.removeEventListener("popstate",I),i&&window.removeEventListener("hashchange",x))}var j=!1;var F={length:t.length,action:"POP",location:D,createHref:P,push:function(e,r){var i=m(e,r,E(),F.location);k.confirmTransitionTo(i,"PUSH",f,(function(e){if(e){var r=P(i),o=i.key,a=i.state;if(n)if(t.pushState({key:o,state:a},null,r),s)window.location.href=r;else{var u=N.indexOf(F.location.key),c=N.slice(0,u+1);c.push(i.key),N=c,C({action:"PUSH",location:i})}else window.location.href=r}}))},replace:function(e,r){var i=m(e,r,E(),F.location);k.confirmTransitionTo(i,"REPLACE",f,(function(e){if(e){var r=P(i),o=i.key,a=i.state;if(n)if(t.replaceState({key:o,state:a},null,r),s)window.location.replace(r);else{var u=N.indexOf(F.location.key);-1!==u&&(N[u]=i.key),C({action:"REPLACE",location:i})}else window.location.replace(r)}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&(e=!1);var t=k.setPrompt(e);return j||(M(1),j=!0),function(){return j&&(j=!1,M(-1)),t()}},listen:function(e){var t=k.appendListener(e);return M(1),function(){M(-1),t()}}};return F}var T={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function S(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function E(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function k(e){window.location.replace(S(window.location.href)+"#"+e)}function C(e){void 0===e&&(e={}),g||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?d(l(e.basename)):"",f=T[s],v=f.encodePath,w=f.decodePath;function _(){var e=w(E());return u&&(e=h(e,u)),m(e)}var C=y();function I(e){Object(r.a)(U,e),U.length=t.length,C.notifyListeners(U.location,U.action)}var x=!1,A=null;function O(){var e,t,n=E(),r=v(n);if(n!==r)k(r);else{var i=_(),a=U.location;if(!x&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(A===p(i))return;A=null,function(e){if(x)x=!1,I();else{C.confirmTransitionTo(e,"POP",o,(function(t){t?I({action:"POP",location:e}):function(e){var t=U.location,n=R.lastIndexOf(p(t));-1===n&&(n=0);var r=R.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(x=!0,L(i))}(e)}))}}(i)}}var D=E(),N=v(D);D!==N&&k(N);var P=_(),R=[p(P)];function L(e){t.go(e)}var M=0;function j(e){1===(M+=e)&&1===e?window.addEventListener("hashchange",O):0===M&&window.removeEventListener("hashchange",O)}var F=!1;var U={length:t.length,action:"POP",location:P,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=S(window.location.href)),n+"#"+v(u+p(e))},push:function(e,t){var n=m(e,void 0,void 0,U.location);C.confirmTransitionTo(n,"PUSH",o,(function(e){if(e){var t=p(n),r=v(u+t);if(E()!==r){A=t,function(e){window.location.hash=e}(r);var i=R.lastIndexOf(p(U.location)),o=R.slice(0,i+1);o.push(t),R=o,I({action:"PUSH",location:n})}else I()}}))},replace:function(e,t){var n=m(e,void 0,void 0,U.location);C.confirmTransitionTo(n,"REPLACE",o,(function(e){if(e){var t=p(n),r=v(u+t);E()!==r&&(A=t,k(r));var i=R.indexOf(p(U.location));-1!==i&&(R[i]=t),I({action:"REPLACE",location:n})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=C.setPrompt(e);return F||(j(1),F=!0),function(){return F&&(F=!1,j(-1)),t()}},listen:function(e){var t=C.appendListener(e);return j(1),function(){j(-1),t()}}};return U}function I(e,t,n){return Math.min(Math.max(e,t),n)}function x(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=y();function f(e){Object(r.a)(w,e),w.length=w.entries.length,l.notifyListeners(w.location,w.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=I(s,0,o.length-1),v=o.map((function(e){return m(e,void 0,"string"===typeof e?h():e.key||h())})),g=p;function b(e){var t=I(w.index+e,0,w.entries.length-1),r=w.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var w={length:v.length,action:"POP",location:v[d],index:d,entries:v,createHref:g,push:function(e,t){var r=m(e,t,h(),w.location);l.confirmTransitionTo(r,"PUSH",n,(function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),f({action:"PUSH",location:r,index:t,entries:n})}}))},replace:function(e,t){var r=m(e,t,h(),w.location);l.confirmTransitionTo(r,"REPLACE",n,(function(e){e&&(w.entries[w.index]=r,f({action:"REPLACE",location:r}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return w}},,,function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return r}))},,,,,function(e,t,n){"use strict";var r="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},a={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},,function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return f})),n.d(t,"__exportStar",(function(){return h})),n.d(t,"__values",(function(){return d})),n.d(t,"__read",(function(){return p})),n.d(t,"__spread",(function(){return m})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return g})),n.d(t,"__asyncValues",(function(){return b})),n.d(t,"__makeTemplateObject",(function(){return w})),n.d(t,"__importStar",(function(){return _})),n.d(t,"__importDefault",(function(){return T}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function p(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function g(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(175),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default},,,,,,,,,,,,,function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){},function(e,t,n){"use strict";var r,i=(r=n(10))&&"object"===typeof r&&"default"in r?r.default:r;e.exports=i},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){var r=n(164);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(s+=e.slice(a,d),a=d+f.length,h)s+=h[1];else{var p=e[a],m=n[2],v=n[3],y=n[4],g=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var _=null!=m&&null!=p&&p!==m,T="+"===b||"*"===b,S="?"===b||"*"===b,E=n[2]||l,k=y||g;r.push({name:v||o++,prefix:m||"",delimiter:E,optional:S,repeat:T,partial:_,asterisk:!!w,pattern:k?c(k):w?".*":"[^"+u(E)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=u(c);else{var h=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),a+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=u(n.delimiter||"/"),m=a.slice(-p.length)===p;return i||(a=(m?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+p+"|$)",l(new RegExp("^"+a,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(o(e,n),t,n)}(e,t,n)}},,,,,,,,,,,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(37),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!=s){var l=a<<4&240|s>>2;if(r.push(l),64!=u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var f=function(){function e(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function h(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}var d=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,p.prototype.create),i}return r.__extends(t,e),t}(Error),p=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?m(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new d(i,s),c=0,l=Object.keys(r);c<l.length;c++){var f=l[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},e}();function m(e,t){return e.replace(v,(function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"}))}var v=/\{\$([^}]+)}/g;function y(e){return JSON.parse(e)}var g=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=y(c(o[0])||""),n=y(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},b=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},w=function(e,t){return b(t,(function(t,n){e[t]=n})),e},_=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r},T=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0==o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();var S=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function E(){}function k(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}t.CONSTANTS=i,t.Deferred=f,t.ErrorFactory=p,t.FirebaseError=d,t.Sha1=T,t.assert=o,t.assertionError=a,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=u,t.base64Decode=c,t.base64Encode=function(e){var t=s(e);return u.encodeByteArray(t,!0)},t.clone=function(e){return w({},e)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new S(e,t);return n.subscribe.bind(n)},t.decode=g,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.errorPrefix=k,t.every=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!t(n,e[n]))return!1;return!0},t.extend=w,t.findKey=_,t.findValue=function(e,t,n){var r=_(e,t,n);return r&&e[r]},t.forEach=b,t.getAnyKey=function(e){for(var t in e)return t},t.getCount=function(e){var t=0;for(var n in e)t++;return t},t.getUA=h,t.getValues=function(e){var t=[],n=0;for(var r in e)t[n++]=e[r];return t},t.isAdmin=function(e){var t=g(e).claims;return"object"===typeof t&&!0===t.admin},t.isBrowser=function(){return"object"===typeof self&&self.self===self},t.isEmpty=function(e){for(var t in e)return!1;return!0},t.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}},t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isNonNullObject=function(e){return"object"===typeof e&&null!==e},t.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},t.isValidFormat=function(e){var t=g(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t,n,r=g(e).claims,i=Math.floor((new Date).getTime()/1e3);return"object"===typeof r&&(r.hasOwnProperty("nbf")?t=r.nbf:r.hasOwnProperty("iat")&&(t=r.iat),n=r.hasOwnProperty("exp")?r.exp:t+86400),i&&t&&n&&i>=t&&i<=n},t.issuedAtTime=function(e){var t=g(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=y,t.map=function(e,t,n){var r={};for(var i in e)r[i]=t.call(n,e[i],i,e);return r},t.patchProperty=function(e,t,n){e[t]=n},t.querystring=function(e){var t=[];return b(e,(function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})),t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(k(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(k(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!==typeof n)throw new Error(k(e,t,r)+"must be a valid firebase namespace.")}}).call(this,n(15))},function(e,t,n){"use strict";n.r(t),n.d(t,"LogLevel",(function(){return r})),n.d(t,"Logger",(function(){return s})),n.d(t,"setLogLevel",(function(){return u}));var r,i=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(r||(r={}));var o=r.INFO,a=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString();switch(t){case r.DEBUG:case r.VERBOSE:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case r.INFO:console.info.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case r.WARN:console.warn.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case r.ERROR:console.error.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},s=function(){function e(e){this.name=e,this._logLevel=o,this._logHandler=a,i.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.DEBUG].concat(e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.VERBOSE].concat(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.INFO].concat(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.WARN].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.ERROR].concat(e))},e}();function u(e){i.forEach((function(t){t.logLevel=e}))}},function(e,t,n){(function(t){var r=n(160),i=n(161);function o(e){console.log("[dotenv][DEBUG] ".concat(e))}var a=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,s=/\\n/g;function u(e,t){var n=Boolean(t&&t.debug),r={};return e.toString().split("\n").forEach((function(e,t){var i=e.match(a);if(null!=i){var u=i[1],c=i[2]||"",l=c.length-1,f='"'===c[0]&&'"'===c[l];"'"===c[0]&&"'"===c[l]||f?(c=c.substring(1,l),f&&(c=c.replace(s,"\n"))):c=c.trim(),r[u]=c}else n&&o("did not match key and value when parsing line ".concat(t+1,": ").concat(e))})),r}e.exports.config=function(e){var n=i.resolve(t.cwd(),".env"),a="utf8",s=!1;e&&(null!=e.path&&(n=e.path),null!=e.encoding&&(a=e.encoding),null!=e.debug&&(s=!0));try{var c=u(r.readFileSync(n,{encoding:a}),{debug:s});return Object.keys(c).forEach((function(e){Object({NODE_ENV:"production",PUBLIC_URL:"/SteelDivisionDB",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).hasOwnProperty(e)?s&&o('"'.concat(e,'" is already defined in `process.env` and will not be overwritten')):Object({NODE_ENV:"production",PUBLIC_URL:"/SteelDivisionDB",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})[e]=c[e]})),{parsed:c}}catch(l){return{error:l}}},e.exports.parse=u}).call(this,n(71))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";e.exports=n(165)},function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},function(e,t,n){"use strict";var r=n(32),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(c){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(c){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function u(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,i,o,a,s=e.length,u=0;for(o=0;o<s;o++)55296===(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320===(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(u),a=0,o=0;a<u;o++)55296===(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320===(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return u(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,i,o,s=t||e.length,c=new Array(2*s);for(r=0,n=0;n<s;)if((i=e[n++])<128)c[r++]=i;else if((o=a[i])>4)c[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&e[n++],o--;o>1?c[r++]=65533:i<65536?c[r++]=i:(i-=65536,c[r++]=55296|i>>10&1023,c[r++]=56320|1023&i)}return u(c,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0?t:0===n?t:n+a[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(150)},,,function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(15))},function(e,t,n){"use strict";var r=n(72),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),m=u(n),v=0;v<a.length;++v){var y=a[v];if(!o[y]&&(!r||!r[y])&&(!m||!m[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(b){}}}}return t}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(67),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.concurrent_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,y="function"===typeof Symbol&&Symbol.iterator;function g(e,t,n,r,i,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(e=Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw e.framesToPop=1,e}}function b(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);g(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function T(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||w}function S(){}function E(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||w}T.prototype.isReactComponent={},T.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&b("85"),this.updater.enqueueSetState(this,e,t,"setState")},T.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},S.prototype=T.prototype;var k=E.prototype=new S;k.constructor=E,r(k,T.prototype),k.isPureReactComponent=!0;var C={current:null},I={current:null},x=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r=void 0,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,r)&&!A.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:I.current}}function D(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var N=/\/+/g,P=[];function R(e,t,n,r){if(P.length){var i=P.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function L(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function M(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case o:case a:u=!0}}if(u)return r(i,t,""===n?"."+j(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=n+j(s=t[c],c);u+=e(s,l,r,i)}else if(null===t||"object"!==typeof t?l=null:l="function"===typeof(l=y&&t[y]||t["@@iterator"])?l:null,"function"===typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=e(s=s.value,l=n+j(s,c++),r,i);else"object"===s&&b("31","[object Object]"===(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return u}(e,"",t,n)}function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function F(e,t){e.func.call(e.context,t,e.count++)}function U(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,r,n,(function(e){return e})):null!=e&&(D(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(N,"$&/")+"/")+n)),r.push(e))}function B(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(N,"$&/")+"/"),M(e,U,t=R(t,o,r,i)),L(t)}function q(){var e=C.current;return null===e&&b("321"),e}var V={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return B(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;M(e,F,t=R(null,null,t,n)),L(t)},count:function(e){return M(e,(function(){return null}),null)},toArray:function(e){var t=[];return B(e,t,null,(function(e){return e})),t},only:function(e){return D(e)||b("143"),e}},createRef:function(){return{current:null}},Component:T,PureComponent:E,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:d,render:e}},lazy:function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return q().useCallback(e,t)},useContext:function(e,t){return q().useContext(e,t)},useEffect:function(e,t){return q().useEffect(e,t)},useImperativeHandle:function(e,t,n){return q().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return q().useLayoutEffect(e,t)},useMemo:function(e,t){return q().useMemo(e,t)},useReducer:function(e,t,n){return q().useReducer(e,t,n)},useRef:function(e){return q().useRef(e)},useState:function(e){return q().useState(e)},Fragment:s,StrictMode:u,Suspense:p,createElement:O,cloneElement:function(e,t,n){(null===e||void 0===e)&&b("267",e);var i=void 0,a=r({},e.props),s=e.key,u=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,c=I.current),void 0!==t.key&&(s=""+t.key);var l=void 0;for(i in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)x.call(t,i)&&!A.hasOwnProperty(i)&&(a[i]=void 0===t[i]&&void 0!==l?l[i]:t[i])}if(1===(i=arguments.length-2))a.children=n;else if(1<i){l=Array(i);for(var f=0;f<i;f++)l[f]=arguments[f+2];a.children=l}return{$$typeof:o,type:e.type,key:s,ref:u,props:a,_owner:c}},createFactory:function(e){var t=O.bind(null,e);return t.type=e,t},isValidElement:D,version:"16.8.6",unstable_ConcurrentMode:h,unstable_Profiler:c,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:C,ReactCurrentOwner:I,assign:r}},z={default:V},W=z&&V||z;e.exports=W.default||W},function(e,t,n){"use strict";var r=n(0),i=n(67),o=n(151);function a(e,t,n,r,i,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(e=Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw e.framesToPop=1,e}}function s(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);a(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function u(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}r||s("227");var c=!1,l=null,f=!1,h=null,d={onError:function(e){c=!0,l=e}};function p(e,t,n,r,i,o,a,s,f){c=!1,l=null,u.apply(d,arguments)}var m=null,v={};function y(){if(m)for(var e in v){var t=v[e],n=m.indexOf(e);if(-1<n||s("96",e),!b[n])for(var r in t.extractEvents||s("97",e),b[n]=t,n=t.eventTypes){var i=void 0,o=n[r],a=t,u=r;w.hasOwnProperty(u)&&s("99",u),w[u]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&g(c[i],a,u);i=!0}else o.registrationName?(g(o.registrationName,a,u),i=!0):i=!1;i||s("98",r,e)}}}function g(e,t,n){_[e]&&s("100",e),_[e]=t,T[e]=t.eventTypes[n].dependencies}var b=[],w={},_={},T={},S=null,E=null,k=null;function C(e,t,n){var r=e.type||"unknown-event";e.currentTarget=k(n),function(e,t,n,r,i,o,a,u,d){if(p.apply(this,arguments),c){if(c){var m=l;c=!1,l=null}else s("198"),m=void 0;f||(f=!0,h=m)}}(r,t,void 0,e),e.currentTarget=null}function I(e,t){return null==t&&s("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function x(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var A=null;function O(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)C(e,t[r],n[r]);else t&&C(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var D={injectEventPluginOrder:function(e){m&&s("101"),m=Array.prototype.slice.call(e),y()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];v.hasOwnProperty(t)&&v[t]===r||(v[t]&&s("102",t),v[t]=r,n=!0)}n&&y()}};function N(e,t){var n=e.stateNode;if(!n)return null;var r=S(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!==typeof n&&s("231",t,typeof n),n)}function P(e){if(null!==e&&(A=I(A,e)),e=A,A=null,e&&(x(e,O),A&&s("95"),f))throw e=h,f=!1,h=null,e}var R=Math.random().toString(36).slice(2),L="__reactInternalInstance$"+R,M="__reactEventHandlers$"+R;function j(e){if(e[L])return e[L];for(;!e[L];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[L]).tag||6===e.tag?e:null}function F(e){return!(e=e[L])||5!==e.tag&&6!==e.tag?null:e}function U(e){if(5===e.tag||6===e.tag)return e.stateNode;s("33")}function B(e){return e[M]||null}function q(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function V(e,t,n){(t=N(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=I(n._dispatchListeners,t),n._dispatchInstances=I(n._dispatchInstances,e))}function z(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=q(t);for(t=n.length;0<t--;)V(n[t],"captured",e);for(t=0;t<n.length;t++)V(n[t],"bubbled",e)}}function W(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=N(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=I(n._dispatchListeners,t),n._dispatchInstances=I(n._dispatchInstances,e))}function K(e){e&&e.dispatchConfig.registrationName&&W(e._targetInst,null,e)}function H(e){x(e,z)}var Q=!("undefined"===typeof window||!window.document||!window.document.createElement);function G(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Y={animationend:G("Animation","AnimationEnd"),animationiteration:G("Animation","AnimationIteration"),animationstart:G("Animation","AnimationStart"),transitionend:G("Transition","TransitionEnd")},X={},$={};function J(e){if(X[e])return X[e];if(!Y[e])return e;var t,n=Y[e];for(t in n)if(n.hasOwnProperty(t)&&t in $)return X[e]=n[t];return e}Q&&($=document.createElement("div").style,"AnimationEvent"in window||(delete Y.animationend.animation,delete Y.animationiteration.animation,delete Y.animationstart.animation),"TransitionEvent"in window||delete Y.transitionend.transition);var Z=J("animationend"),ee=J("animationiteration"),te=J("animationstart"),ne=J("transitionend"),re="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ie=null,oe=null,ae=null;function se(){if(ae)return ae;var e,t,n=oe,r=n.length,i="value"in ie?ie.value:ie.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return ae=i.slice(e,1<t?1-t:void 0)}function ue(){return!0}function ce(){return!1}function le(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ue:ce,this.isPropagationStopped=ce,this}function fe(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function he(e){e instanceof this||s("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function de(e){e.eventPool=[],e.getPooled=fe,e.release=he}i(le.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ue)},persist:function(){this.isPersistent=ue},isPersistent:ce,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ce,this._dispatchInstances=this._dispatchListeners=null}}),le.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},le.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,de(n),n},de(le);var pe=le.extend({data:null}),me=le.extend({data:null}),ve=[9,13,27,32],ye=Q&&"CompositionEvent"in window,ge=null;Q&&"documentMode"in document&&(ge=document.documentMode);var be=Q&&"TextEvent"in window&&!ge,we=Q&&(!ye||ge&&8<ge&&11>=ge),_e=String.fromCharCode(32),Te={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Se=!1;function Ee(e,t){switch(e){case"keyup":return-1!==ve.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ke(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ce=!1;var Ie={eventTypes:Te,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(ye)e:{switch(e){case"compositionstart":i=Te.compositionStart;break e;case"compositionend":i=Te.compositionEnd;break e;case"compositionupdate":i=Te.compositionUpdate;break e}i=void 0}else Ce?Ee(e,n)&&(i=Te.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=Te.compositionStart);return i?(we&&"ko"!==n.locale&&(Ce||i!==Te.compositionStart?i===Te.compositionEnd&&Ce&&(o=se()):(oe="value"in(ie=r)?ie.value:ie.textContent,Ce=!0)),i=pe.getPooled(i,t,n,r),o?i.data=o:null!==(o=ke(n))&&(i.data=o),H(i),o=i):o=null,(e=be?function(e,t){switch(e){case"compositionend":return ke(t);case"keypress":return 32!==t.which?null:(Se=!0,_e);case"textInput":return(e=t.data)===_e&&Se?null:e;default:return null}}(e,n):function(e,t){if(Ce)return"compositionend"===e||!ye&&Ee(e,t)?(e=se(),ae=oe=ie=null,Ce=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return we&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=me.getPooled(Te.beforeInput,t,n,r)).data=e,H(t)):t=null,null===o?t:null===t?o:[o,t]}},xe=null,Ae=null,Oe=null;function De(e){if(e=E(e)){"function"!==typeof xe&&s("280");var t=S(e.stateNode);xe(e.stateNode,e.type,t)}}function Ne(e){Ae?Oe?Oe.push(e):Oe=[e]:Ae=e}function Pe(){if(Ae){var e=Ae,t=Oe;if(Oe=Ae=null,De(e),t)for(e=0;e<t.length;e++)De(t[e])}}function Re(e,t){return e(t)}function Le(e,t,n){return e(t,n)}function Me(){}var je=!1;function Fe(e,t){if(je)return e(t);je=!0;try{return Re(e,t)}finally{je=!1,(null!==Ae||null!==Oe)&&(Me(),Pe())}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Be(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ue[e.type]:"textarea"===t}function qe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Ve(e){if(!Q)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}function ze(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function We(e){e._valueTracker||(e._valueTracker=function(e){var t=ze(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ke(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ze(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var He=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;He.hasOwnProperty("ReactCurrentDispatcher")||(He.ReactCurrentDispatcher={current:null});var Qe=/^(.*)[\\\/]/,Ge="function"===typeof Symbol&&Symbol.for,Ye=Ge?Symbol.for("react.element"):60103,Xe=Ge?Symbol.for("react.portal"):60106,$e=Ge?Symbol.for("react.fragment"):60107,Je=Ge?Symbol.for("react.strict_mode"):60108,Ze=Ge?Symbol.for("react.profiler"):60114,et=Ge?Symbol.for("react.provider"):60109,tt=Ge?Symbol.for("react.context"):60110,nt=Ge?Symbol.for("react.concurrent_mode"):60111,rt=Ge?Symbol.for("react.forward_ref"):60112,it=Ge?Symbol.for("react.suspense"):60113,ot=Ge?Symbol.for("react.memo"):60115,at=Ge?Symbol.for("react.lazy"):60116,st="function"===typeof Symbol&&Symbol.iterator;function ut(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=st&&e[st]||e["@@iterator"])?e:null}function ct(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case nt:return"ConcurrentMode";case $e:return"Fragment";case Xe:return"Portal";case Ze:return"Profiler";case Je:return"StrictMode";case it:return"Suspense"}if("object"===typeof e)switch(e.$$typeof){case tt:return"Context.Consumer";case et:return"Context.Provider";case rt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ot:return ct(e.type);case at:if(e=1===e._status?e._result:null)return ct(e)}return null}function lt(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ct(e.type);n=null,r&&(n=ct(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Qe,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var ft=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ht=Object.prototype.hasOwnProperty,dt={},pt={};function mt(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){vt[e]=new mt(e,0,!1,e,null)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];vt[t]=new mt(t,1,!1,e[1],null)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){vt[e]=new mt(e,2,!1,e.toLowerCase(),null)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){vt[e]=new mt(e,2,!1,e,null)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){vt[e]=new mt(e,3,!1,e.toLowerCase(),null)})),["checked","multiple","muted","selected"].forEach((function(e){vt[e]=new mt(e,3,!0,e,null)})),["capture","download"].forEach((function(e){vt[e]=new mt(e,4,!1,e,null)})),["cols","rows","size","span"].forEach((function(e){vt[e]=new mt(e,6,!1,e,null)})),["rowSpan","start"].forEach((function(e){vt[e]=new mt(e,5,!1,e.toLowerCase(),null)}));var yt=/[\-:]([a-z])/g;function gt(e){return e[1].toUpperCase()}function bt(e,t,n,r){var i=vt.hasOwnProperty(t)?vt[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!ht.call(pt,e)||!ht.call(dt,e)&&(ft.test(e)?pt[e]=!0:(dt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function wt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function _t(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Tt(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=wt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function St(e,t){null!=(t=t.checked)&&bt(e,"checked",t,!1)}function Et(e,t){St(e,t);var n=wt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ct(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ct(e,t.type,wt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function kt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ct(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(yt,gt);vt[t]=new mt(t,1,!1,e,null)})),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(yt,gt);vt[t]=new mt(t,1,!1,e,"http://www.w3.org/1999/xlink")})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(yt,gt);vt[t]=new mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")})),["tabIndex","crossOrigin"].forEach((function(e){vt[e]=new mt(e,1,!1,e.toLowerCase(),null)}));var It={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function xt(e,t,n){return(e=le.getPooled(It.change,e,t,n)).type="change",Ne(n),H(e),e}var At=null,Ot=null;function Dt(e){P(e)}function Nt(e){if(Ke(U(e)))return e}function Pt(e,t){if("change"===e)return t}var Rt=!1;function Lt(){At&&(At.detachEvent("onpropertychange",Mt),Ot=At=null)}function Mt(e){"value"===e.propertyName&&Nt(Ot)&&Fe(Dt,e=xt(Ot,e,qe(e)))}function jt(e,t,n){"focus"===e?(Lt(),Ot=n,(At=t).attachEvent("onpropertychange",Mt)):"blur"===e&&Lt()}function Ft(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Nt(Ot)}function Ut(e,t){if("click"===e)return Nt(t)}function Bt(e,t){if("input"===e||"change"===e)return Nt(t)}Q&&(Rt=Ve("input")&&(!document.documentMode||9<document.documentMode));var qt={eventTypes:It,_isInputEventSupported:Rt,extractEvents:function(e,t,n,r){var i=t?U(t):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=Pt:Be(i)?Rt?o=Bt:(o=Ft,a=jt):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Ut),o&&(o=o(e,t)))return xt(o,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ct(i,"number",i.value)}},Vt=le.extend({view:null,detail:null}),zt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=zt[e])&&!!t[e]}function Kt(){return Wt}var Ht=0,Qt=0,Gt=!1,Yt=!1,Xt=Vt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Kt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ht;return Ht=e.screenX,Gt?"mousemove"===e.type?e.screenX-t:0:(Gt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Qt;return Qt=e.screenY,Yt?"mousemove"===e.type?e.screenY-t:0:(Yt=!0,0)}}),$t=Xt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Jt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Zt={eventTypes:Jt,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?j(t):null):o=null,o===t)return null;var a=void 0,s=void 0,u=void 0,c=void 0;"mouseout"===e||"mouseover"===e?(a=Xt,s=Jt.mouseLeave,u=Jt.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=$t,s=Jt.pointerLeave,u=Jt.pointerEnter,c="pointer");var l=null==o?i:U(o);if(i=null==t?i:U(t),(e=a.getPooled(s,o,n,r)).type=c+"leave",e.target=l,e.relatedTarget=i,(n=a.getPooled(u,t,n,r)).type=c+"enter",n.target=i,n.relatedTarget=l,r=t,o&&r)e:{for(i=r,c=0,a=t=o;a;a=q(a))c++;for(a=0,u=i;u;u=q(u))a++;for(;0<c-a;)t=q(t),c--;for(;0<a-c;)i=q(i),a--;for(;c--;){if(t===i||t===i.alternate)break e;t=q(t),i=q(i)}t=null}else t=null;for(i=t,t=[];o&&o!==i&&(null===(c=o.alternate)||c!==i);)t.push(o),o=q(o);for(o=[];r&&r!==i&&(null===(c=r.alternate)||c!==i);)o.push(r),r=q(r);for(r=0;r<t.length;r++)W(t[r],"bubbled",e);for(r=o.length;0<r--;)W(o[r],"captured",n);return[e,n]}};function en(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var tn=Object.prototype.hasOwnProperty;function nn(e,t){if(en(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!tn.call(t,n[r])||!en(e[n[r]],t[n[r]]))return!1;return!0}function rn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(0!==(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function on(e){2!==rn(e)&&s("188")}function an(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=rn(e))&&s("188"),1===t?null:e;for(var n=e,r=t;;){var i=n.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var a=i.child;a;){if(a===n)return on(i),e;if(a===r)return on(i),t;a=a.sibling}s("188")}if(n.return!==r.return)n=i,r=o;else{a=!1;for(var u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}a||s("189")}}n.alternate!==r&&s("190")}return 3!==n.tag&&s("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var sn=le.extend({animationName:null,elapsedTime:null,pseudoElement:null}),un=le.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cn=Vt.extend({relatedTarget:null});function ln(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn=Vt.extend({key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ln(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Kt,charCode:function(e){return"keypress"===e.type?ln(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ln(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),pn=Xt.extend({dataTransfer:null}),mn=Vt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Kt}),vn=le.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),yn=Xt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),gn=[["abort","abort"],[Z,"animationEnd"],[ee,"animationIteration"],[te,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ne,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],bn={},wn={};function _n(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},bn[e]=t,wn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach((function(e){_n(e,!0)})),gn.forEach((function(e){_n(e,!1)}));var Tn={eventTypes:bn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=wn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=wn[e];if(!i)return null;switch(e){case"keypress":if(0===ln(n))return null;case"keydown":case"keyup":e=dn;break;case"blur":case"focus":e=cn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Xt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=mn;break;case Z:case ee:case te:e=sn;break;case ne:e=vn;break;case"scroll":e=Vt;break;case"wheel":e=yn;break;case"copy":case"cut":case"paste":e=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=$t;break;default:e=le}return H(t=e.getPooled(i,t,n,r)),t}},Sn=Tn.isInteractiveTopLevelEventType,En=[];function kn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=j(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=qe(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,a=null,s=0;s<b.length;s++){var u=b[s];u&&(u=u.extractEvents(r,t,o,i))&&(a=I(a,u))}P(a)}}var Cn=!0;function In(e,t){if(!t)return null;var n=(Sn(e)?An:On).bind(null,e);t.addEventListener(e,n,!1)}function xn(e,t){if(!t)return null;var n=(Sn(e)?An:On).bind(null,e);t.addEventListener(e,n,!0)}function An(e,t){Le(On,e,t)}function On(e,t){if(Cn){var n=qe(t);if(null===(n=j(n))||"number"!==typeof n.tag||2===rn(n)||(n=null),En.length){var r=En.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Fe(kn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>En.length&&En.push(e)}}}var Dn={},Nn=0,Pn="_reactListenersID"+(""+Math.random()).slice(2);function Rn(e){return Object.prototype.hasOwnProperty.call(e,Pn)||(e[Pn]=Nn++,Dn[e[Pn]]={}),Dn[e[Pn]]}function Ln(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Mn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jn(e,t){var n,r=Mn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mn(r)}}function Fn(){for(var e=window,t=Ln();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Ln((e=t.contentWindow).document)}return t}function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Bn(e){var t=Fn(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&Un(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=jn(n,o);var a=jn(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qn=Q&&"documentMode"in document&&11>=document.documentMode,Vn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},zn=null,Wn=null,Kn=null,Hn=!1;function Qn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Hn||null==zn||zn!==Ln(n)?null:("selectionStart"in(n=zn)&&Un(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Kn&&nn(Kn,n)?null:(Kn=n,(e=le.getPooled(Vn.select,Wn,e,t)).type="select",e.target=zn,H(e),e))}var Gn={eventTypes:Vn,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=Rn(o),i=T.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?U(t):window,e){case"focus":(Be(o)||"true"===o.contentEditable)&&(zn=o,Wn=t,Kn=null);break;case"blur":Kn=Wn=zn=null;break;case"mousedown":Hn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Hn=!1,Qn(n,r);case"selectionchange":if(qn)break;case"keydown":case"keyup":return Qn(n,r)}return null}};function Yn(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Xn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+wt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function $n(e,t){return null!=t.dangerouslySetInnerHTML&&s("91"),i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&s("92"),Array.isArray(t)&&(1>=t.length||s("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:wt(n)}}function Zn(e,t){var n=wt(t.value),r=wt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function er(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}D.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),S=B,E=F,k=U,D.injectEventPluginsByName({SimpleEventPlugin:Tn,EnterLeaveEventPlugin:Zt,ChangeEventPlugin:qt,SelectEventPlugin:Gn,BeforeInputEventPlugin:Ie});var tr="http://www.w3.org/1999/xhtml",nr="http://www.w3.org/2000/svg";function rr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ir(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?rr(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var or=void 0,ar=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==nr||"innerHTML"in e)e.innerHTML=t;else{for((or=or||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=or.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function sr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ur={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cr=["Webkit","ms","Moz","O"];function lr(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ur.hasOwnProperty(e)&&ur[e]?(""+t).trim():t+"px"}function fr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=lr(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ur).forEach((function(e){cr.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ur[t]=ur[e]}))}));var hr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dr(e,t){t&&(hr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&s("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&s("60"),"object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||s("61")),null!=t.style&&"object"!==typeof t.style&&s("62",""))}function pr(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function mr(e,t){var n=Rn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=T[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":xn("scroll",e);break;case"focus":case"blur":xn("focus",e),xn("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Ve(i)&&xn(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===re.indexOf(i)&&In(i,e)}n[i]=!0}}}function vr(){}var yr=null,gr=null;function br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var _r="function"===typeof setTimeout?setTimeout:void 0,Tr="function"===typeof clearTimeout?clearTimeout:void 0,Sr=o.unstable_scheduleCallback,Er=o.unstable_cancelCallback;function kr(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Cr(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Ir=[],xr=-1;function Ar(e){0>xr||(e.current=Ir[xr],Ir[xr]=null,xr--)}function Or(e,t){xr++,Ir[xr]=e.current,e.current=t}var Dr={},Nr={current:Dr},Pr={current:!1},Rr=Dr;function Lr(e,t){var n=e.type.contextTypes;if(!n)return Dr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Mr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function jr(e){Ar(Pr),Ar(Nr)}function Fr(e){Ar(Pr),Ar(Nr)}function Ur(e,t,n){Nr.current!==Dr&&s("168"),Or(Nr,t),Or(Pr,n)}function Br(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())o in e||s("108",ct(t)||"Unknown",o);return i({},n,r)}function qr(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Dr,Rr=Nr.current,Or(Nr,t),Or(Pr,Pr.current),!0}function Vr(e,t,n){var r=e.stateNode;r||s("169"),n?(t=Br(e,t,Rr),r.__reactInternalMemoizedMergedChildContext=t,Ar(Pr),Ar(Nr),Or(Nr,t)):Ar(Pr),Or(Pr,n)}var zr=null,Wr=null;function Kr(e){return function(t){try{return e(t)}catch(n){}}}function Hr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Qr(e,t,n,r){return new Hr(e,t,n,r)}function Gr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Yr(e,t){var n=e.alternate;return null===n?((n=Qr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xr(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Gr(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case $e:return $r(n.children,i,o,t);case nt:return Jr(n,3|i,o,t);case Je:return Jr(n,2|i,o,t);case Ze:return(e=Qr(12,n,t,4|i)).elementType=Ze,e.type=Ze,e.expirationTime=o,e;case it:return(e=Qr(13,n,t,i)).elementType=it,e.type=it,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case et:a=10;break e;case tt:a=9;break e;case rt:a=11;break e;case ot:a=14;break e;case at:a=16,r=null;break e}s("130",null==e?e:typeof e,"")}return(t=Qr(a,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function $r(e,t,n,r){return(e=Qr(7,e,r,t)).expirationTime=n,e}function Jr(e,t,n,r){return e=Qr(8,e,r,t),t=0===(1&t)?Je:nt,e.elementType=t,e.type=t,e.expirationTime=n,e}function Zr(e,t,n){return(e=Qr(6,e,null,t)).expirationTime=n,e}function ei(e,t,n){return(t=Qr(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ti(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),ii(t,e)}function ni(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:r>t&&(e.latestSuspendedTime=t),ii(t,e)}function ri(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function ii(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,i=t.earliestPendingTime,o=t.latestPingedTime;0===(i=0!==i?i:o)&&(0===e||r<e)&&(i=r),0!==(e=i)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=i,t.expirationTime=e}function oi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ai=(new r.Component).refs;function si(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var ui={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===rn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=vs(),i=Vo(r=qa(r,e));i.payload=t,void 0!==n&&null!==n&&(i.callback=n),La(),Wo(e,i),Ka(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=vs(),i=Vo(r=qa(r,e));i.tag=jo,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),La(),Wo(e,i),Ka(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=vs(),r=Vo(n=qa(n,e));r.tag=Fo,void 0!==t&&null!==t&&(r.callback=t),La(),Wo(e,r),Ka(e,n)}};function ci(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!nn(n,r)||!nn(i,o))}function li(e,t,n){var r=!1,i=Dr,o=t.contextType;return"object"===typeof o&&null!==o?o=Mo(o):(i=Mr(t)?Rr:Nr.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Lr(e,i):Dr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ui,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function fi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ui.enqueueReplaceState(t,t.state,null)}function hi(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ai;var o=t.contextType;"object"===typeof o&&null!==o?i.context=Mo(o):(o=Mr(t)?Rr:Nr.current,i.context=Lr(e,o)),null!==(o=e.updateQueue)&&(Go(e,o,n,i,r),i.state=e.memoizedState),"function"===typeof(o=t.getDerivedStateFromProps)&&(si(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ui.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(Go(e,o,n,i,r),i.state=e.memoizedState)),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var di=Array.isArray;function pi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&s("309"),r=n.stateNode),r||s("147",e);var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ai&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}"string"!==typeof e&&s("284"),n._owner||s("290",e)}return e}function mi(e,t){"textarea"!==e.type&&s("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function vi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Yr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Zr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=pi(e,t,n),r.return=e,r):((r=Xr(n.type,n.key,n.props,null,e.mode,r)).ref=pi(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ei(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=$r(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Zr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case Ye:return(n=Xr(t.type,t.key,t.props,null,e.mode,n)).ref=pi(e,null,t),n.return=e,n;case Xe:return(t=ei(t,e.mode,n)).return=e,t}if(di(t)||ut(t))return(t=$r(t,e.mode,n,null)).return=e,t;mi(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Ye:return n.key===i?n.type===$e?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case Xe:return n.key===i?l(e,t,n,r):null}if(di(n)||ut(n))return null!==i?null:f(e,t,n,r,null);mi(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Ye:return e=e.get(null===r.key?n:r.key)||null,r.type===$e?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case Xe:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(di(r)||ut(r))return f(t,e=e.get(n)||null,r,i,null);mi(t,r)}return null}function m(i,a,s,u){for(var c=null,l=null,f=a,m=a=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var y=d(i,f,s[m],u);if(null===y){null===f&&(f=v);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,m),null===l?c=y:l.sibling=y,l=y,f=v}if(m===s.length)return n(i,f),c;if(null===f){for(;m<s.length;m++)(f=h(i,s[m],u))&&(a=o(f,a,m),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);m<s.length;m++)(v=p(f,i,m,s[m],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=o(v,a,m),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(i,e)})),c}function v(i,a,u,c){var l=ut(u);"function"!==typeof l&&s("150"),null==(u=l.call(u))&&s("151");for(var f=l=null,m=a,v=a=0,y=null,g=u.next();null!==m&&!g.done;v++,g=u.next()){m.index>v?(y=m,m=null):y=m.sibling;var b=d(i,m,g.value,c);if(null===b){m||(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,v),null===f?l=b:f.sibling=b,f=b,m=y}if(g.done)return n(i,m),l;if(null===m){for(;!g.done;v++,g=u.next())null!==(g=h(i,g.value,c))&&(a=o(g,a,v),null===f?l=g:f.sibling=g,f=g);return l}for(m=r(i,m);!g.done;v++,g=u.next())null!==(g=p(m,i,v,g.value,c))&&(e&&null!==g.alternate&&m.delete(null===g.key?v:g.key),a=o(g,a,v),null===f?l=g:f.sibling=g,f=g);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===$e&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case Ye:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag?o.type===$e:c.elementType===o.type){n(e,c.sibling),(r=i(c,o.type===$e?o.props.children:o.props)).ref=pi(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===$e?((r=$r(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Xr(o.type,o.key,o.props,null,e.mode,u)).ref=pi(e,r,o),u.return=e,e=u)}return a(e);case Xe:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=ei(o,e.mode,u)).return=e,e=r}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Zr(o,e.mode,u)).return=e,e=r),a(e);if(di(o))return m(e,r,o,u);if(ut(o))return v(e,r,o,u);if(l&&mi(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 0:s("152",(u=e.type).displayName||u.name||"Component")}return n(e,r)}}var yi=vi(!0),gi=vi(!1),bi={},wi={current:bi},_i={current:bi},Ti={current:bi};function Si(e){return e===bi&&s("174"),e}function Ei(e,t){Or(Ti,t),Or(_i,e),Or(wi,bi);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ir(null,"");break;default:t=ir(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Ar(wi),Or(wi,t)}function ki(e){Ar(wi),Ar(_i),Ar(Ti)}function Ci(e){Si(Ti.current);var t=Si(wi.current),n=ir(t,e.type);t!==n&&(Or(_i,e),Or(wi,n))}function Ii(e){_i.current===e&&(Ar(wi),Ar(_i))}var xi=He.ReactCurrentDispatcher,Ai=0,Oi=null,Di=null,Ni=null,Pi=null,Ri=null,Li=null,Mi=0,ji=null,Fi=0,Ui=!1,Bi=null,qi=0;function Vi(){s("321")}function zi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function Wi(e,t,n,r,i,o){if(Ai=o,Oi=t,Ni=null!==e?e.memoizedState:null,xi.current=null===Ni?ro:io,t=n(r,i),Ui){do{Ui=!1,qi+=1,Ni=null!==e?e.memoizedState:null,Li=Pi,ji=Ri=Di=null,xi.current=io,t=n(r,i)}while(Ui);Bi=null,qi=0}return xi.current=no,(e=Oi).memoizedState=Pi,e.expirationTime=Mi,e.updateQueue=ji,e.effectTag|=Fi,e=null!==Di&&null!==Di.next,Ai=0,Li=Ri=Pi=Ni=Di=Oi=null,Mi=0,ji=null,Fi=0,e&&s("300"),t}function Ki(){xi.current=no,Ai=0,Li=Ri=Pi=Ni=Di=Oi=null,Mi=0,ji=null,Fi=0,Ui=!1,Bi=null,qi=0}function Hi(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Ri?Pi=Ri=e:Ri=Ri.next=e,Ri}function Qi(){if(null!==Li)Li=(Ri=Li).next,Ni=null!==(Di=Ni)?Di.next:null;else{null===Ni&&s("310");var e={memoizedState:(Di=Ni).memoizedState,baseState:Di.baseState,queue:Di.queue,baseUpdate:Di.baseUpdate,next:null};Ri=null===Ri?Pi=e:Ri.next=e,Ni=Di.next}return Ri}function Gi(e,t){return"function"===typeof t?t(e):t}function Yi(e){var t=Qi(),n=t.queue;if(null===n&&s("311"),n.lastRenderedReducer=e,0<qi){var r=n.dispatch;if(null!==Bi){var i=Bi.get(n);if(void 0!==i){Bi.delete(n);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return en(o,t.memoizedState)||(vo=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,r]}}return[t.memoizedState,r]}r=n.last;var a=t.baseUpdate;if(o=t.baseState,null!==a?(null!==r&&(r.next=null),r=a.next):r=null!==r?r.next:null,null!==r){var u=i=null,c=r,l=!1;do{var f=c.expirationTime;f<Ai?(l||(l=!0,u=a,i=o),f>Mi&&(Mi=f)):o=c.eagerReducer===e?c.eagerState:e(o,c.action),a=c,c=c.next}while(null!==c&&c!==r);l||(u=a,i=o),en(o,t.memoizedState)||(vo=!0),t.memoizedState=o,t.baseUpdate=u,t.baseState=i,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function Xi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===ji?(ji={lastEffect:null}).lastEffect=e.next=e:null===(t=ji.lastEffect)?ji.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,ji.lastEffect=e),e}function $i(e,t,n,r){var i=Hi();Fi|=e,i.memoizedState=Xi(t,n,void 0,void 0===r?null:r)}function Ji(e,t,n,r){var i=Qi();r=void 0===r?null:r;var o=void 0;if(null!==Di){var a=Di.memoizedState;if(o=a.destroy,null!==r&&zi(r,a.deps))return void Xi(0,n,o,r)}Fi|=e,i.memoizedState=Xi(t,n,o,r)}function Zi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function eo(){}function to(e,t,n){25>qi||s("301");var r=e.alternate;if(e===Oi||null!==r&&r===Oi)if(Ui=!0,e={expirationTime:Ai,action:n,eagerReducer:null,eagerState:null,next:null},null===Bi&&(Bi=new Map),void 0===(n=Bi.get(t)))Bi.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{La();var i=vs(),o={expirationTime:i=qa(i,e),action:n,eagerReducer:null,eagerState:null,next:null},a=t.last;if(null===a)o.next=o;else{var u=a.next;null!==u&&(o.next=u),a.next=o}if(t.last=o,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var c=t.lastRenderedState,l=r(c,n);if(o.eagerReducer=r,o.eagerState=l,en(l,c))return}catch(f){}Ka(e,i)}}var no={readContext:Mo,useCallback:Vi,useContext:Vi,useEffect:Vi,useImperativeHandle:Vi,useLayoutEffect:Vi,useMemo:Vi,useReducer:Vi,useRef:Vi,useState:Vi,useDebugValue:Vi},ro={readContext:Mo,useCallback:function(e,t){return Hi().memoizedState=[e,void 0===t?null:t],e},useContext:Mo,useEffect:function(e,t){return $i(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,$i(4,36,Zi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $i(4,36,e,t)},useMemo:function(e,t){var n=Hi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Hi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=to.bind(null,Oi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Hi().memoizedState=e},useState:function(e){var t=Hi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e}).dispatch=to.bind(null,Oi,e),[t.memoizedState,e]},useDebugValue:eo},io={readContext:Mo,useCallback:function(e,t){var n=Qi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&zi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:Mo,useEffect:function(e,t){return Ji(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ji(4,36,Zi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ji(4,36,e,t)},useMemo:function(e,t){var n=Qi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&zi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:Yi,useRef:function(){return Qi().memoizedState},useState:function(e){return Yi(Gi)},useDebugValue:eo},oo=null,ao=null,so=!1;function uo(e,t){var n=Qr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function co(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function lo(e){if(so){var t=ao;if(t){var n=t;if(!co(e,t)){if(!(t=kr(n))||!co(e,t))return e.effectTag|=2,so=!1,void(oo=e);uo(oo,n)}oo=e,ao=Cr(t)}else e.effectTag|=2,so=!1,oo=e}}function fo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;oo=e}function ho(e){if(e!==oo)return!1;if(!so)return fo(e),so=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!wr(t,e.memoizedProps))for(t=ao;t;)uo(e,t),t=kr(t);return fo(e),ao=oo?kr(e.stateNode):null,!0}function po(){ao=oo=null,so=!1}var mo=He.ReactCurrentOwner,vo=!1;function yo(e,t,n,r){t.child=null===e?gi(t,null,n,r):yi(t,e.child,n,r)}function go(e,t,n,r,i){n=n.render;var o=t.ref;return Lo(t,i),r=Wi(e,t,n,r,o,i),null===e||vo?(t.effectTag|=1,yo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Io(e,t,i))}function bo(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Gr(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Xr(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wo(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:nn)(i,r)&&e.ref===t.ref)?Io(e,t,o):(t.effectTag|=1,(e=Yr(a,r)).ref=t.ref,e.return=t,t.child=e)}function wo(e,t,n,r,i,o){return null!==e&&nn(e.memoizedProps,r)&&e.ref===t.ref&&(vo=!1,i<o)?Io(e,t,o):To(e,t,n,r,o)}function _o(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function To(e,t,n,r,i){var o=Mr(n)?Rr:Nr.current;return o=Lr(t,o),Lo(t,i),n=Wi(e,t,n,r,o,i),null===e||vo?(t.effectTag|=1,yo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Io(e,t,i))}function So(e,t,n,r,i){if(Mr(n)){var o=!0;qr(t)}else o=!1;if(Lo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),li(t,n,r),hi(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Mo(c):c=Lr(t,c=Mr(n)?Rr:Nr.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&fi(t,a,r,c),Uo=!1;var h=t.memoizedState;u=a.state=h;var d=t.updateQueue;null!==d&&(Go(t,d,r,a,i),u=t.memoizedState),s!==r||h!==u||Pr.current||Uo?("function"===typeof l&&(si(t,n,l,r),u=t.memoizedState),(s=Uo||ci(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:oi(t.type,s),u=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=Mo(c):c=Lr(t,c=Mr(n)?Rr:Nr.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&fi(t,a,r,c),Uo=!1,u=t.memoizedState,h=a.state=u,null!==(d=t.updateQueue)&&(Go(t,d,r,a,i),h=t.memoizedState),s!==r||u!==h||Pr.current||Uo?("function"===typeof l&&(si(t,n,l,r),h=t.memoizedState),(l=Uo||ci(t,n,s,r,u,h,c))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Eo(e,t,n,r,o,i)}function Eo(e,t,n,r,i,o){_o(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&Vr(t,n,!1),Io(e,t,o);r=t.stateNode,mo.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=yi(t,e.child,null,o),t.child=yi(t,null,s,o)):yo(e,t,s,o),t.memoizedState=r.state,i&&Vr(t,n,!0),t.child}function ko(e){var t=e.stateNode;t.pendingContext?Ur(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ur(0,t.context,!1),Ei(e,t.containerInfo)}function Co(e,t,n){var r=t.mode,i=t.pendingProps,o=t.memoizedState;if(0===(64&t.effectTag)){o=null;var a=!1}else o={timedOutAt:null!==o?o.timedOutAt:0},a=!0,t.effectTag&=-65;if(null===e)if(a){var s=i.fallback;e=$r(null,r,0,null),0===(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),r=$r(s,r,n,null),e.sibling=r,(n=e).return=r.return=t}else n=r=gi(t,null,i.children,n);else null!==e.memoizedState?(s=(r=e.child).sibling,a?(n=i.fallback,i=Yr(r,r.pendingProps),0===(1&t.mode)&&((a=null!==t.memoizedState?t.child.child:t.child)!==r.child&&(i.child=a)),r=i.sibling=Yr(s,n,s.expirationTime),n=i,i.childExpirationTime=0,n.return=r.return=t):n=r=yi(t,r.child,i.children,n)):(s=e.child,a?(a=i.fallback,(i=$r(null,r,0,null)).child=s,0===(1&t.mode)&&(i.child=null!==t.memoizedState?t.child.child:t.child),(r=i.sibling=$r(a,r,n,null)).effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=t):r=n=yi(t,s,i.children,n)),t.stateNode=e.stateNode;return t.memoizedState=o,t.child=n,r}function Io(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&s("153"),null!==t.child){for(n=Yr(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Yr(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function xo(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||Pr.current)vo=!0;else if(r<n){switch(vo=!1,t.tag){case 3:ko(t),po();break;case 5:Ci(t);break;case 1:Mr(t.type)&&qr(t);break;case 4:Ei(t,t.stateNode.containerInfo);break;case 10:Po(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Co(e,t,n):null!==(t=Io(e,t,n))?t.sibling:null}return Io(e,t,n)}}else vo=!1;switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var i=Lr(t,Nr.current);if(Lo(t,n),i=Wi(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,Ki(),Mr(r)){var o=!0;qr(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var a=r.getDerivedStateFromProps;"function"===typeof a&&si(t,r,a,e),i.updater=ui,t.stateNode=i,i._reactInternalFiber=t,hi(t,r,e,n),t=Eo(null,t,r,!0,o,n)}else t.tag=0,yo(null,t,i,n),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),o=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)})),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(i),t.type=e,i=t.tag=function(e){if("function"===typeof e)return Gr(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===rt)return 11;if(e===ot)return 14}return 2}(e),o=oi(e,o),a=void 0,i){case 0:a=To(null,t,e,o,n);break;case 1:a=So(null,t,e,o,n);break;case 11:a=go(null,t,e,o,n);break;case 14:a=bo(null,t,e,oi(e.type,o),r,n);break;default:s("306",e,"")}return a;case 0:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:oi(r,i),n);case 1:return r=t.type,i=t.pendingProps,So(e,t,r,i=t.elementType===r?i:oi(r,i),n);case 3:return ko(t),null===(r=t.updateQueue)&&s("282"),i=null!==(i=t.memoizedState)?i.element:null,Go(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i?(po(),t=Io(e,t,n)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(ao=Cr(t.stateNode.containerInfo),oo=t,i=so=!0),i?(t.effectTag|=2,t.child=gi(t,null,r,n)):(yo(e,t,r,n),po()),t=t.child),t;case 5:return Ci(t),null===e&&lo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,wr(r,i)?a=null:null!==o&&wr(r,o)&&(t.effectTag|=16),_o(e,t),1!==n&&1&t.mode&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(yo(e,t,a,n),t=t.child),t;case 6:return null===e&&lo(t),null;case 13:return Co(e,t,n);case 4:return Ei(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=yi(t,null,r,n):yo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,go(e,t,r,i=t.elementType===r?i:oi(r,i),n);case 7:return yo(e,t,t.pendingProps,n),t.child;case 8:case 12:return yo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,Po(t,o=i.value),null!==a){var u=a.value;if(0===(o=en(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(a.children===i.children&&!Pr.current){t=Io(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.contextDependencies;if(null!==c){a=u.child;for(var l=c.first;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=Vo(n)).tag=Fo,Wo(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),l=n;for(var f=u.return;null!==f;){var h=f.alternate;if(f.childExpirationTime<l)f.childExpirationTime=l,null!==h&&h.childExpirationTime<l&&(h.childExpirationTime=l);else{if(!(null!==h&&h.childExpirationTime<l))break;h.childExpirationTime=l}f=f.return}c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else a=10===u.tag&&u.type===t.type?null:u.child;if(null!==a)a.return=u;else for(a=u;null!==a;){if(a===t){a=null;break}if(null!==(u=a.sibling)){u.return=a.return,a=u;break}a=a.return}u=a}}yo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Lo(t,n),r=r(i=Mo(i,o.unstable_observedBits)),t.effectTag|=1,yo(e,t,r,n),t.child;case 14:return o=oi(i=t.type,t.pendingProps),bo(e,t,i,o=oi(i.type,o),r,n);case 15:return wo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:oi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Mr(r)?(e=!0,qr(t)):e=!1,Lo(t,n),li(t,r,i),hi(t,r,i,n),Eo(null,t,r,!0,e,n)}s("156")}var Ao={current:null},Oo=null,Do=null,No=null;function Po(e,t){var n=e.type._context;Or(Ao,n._currentValue),n._currentValue=t}function Ro(e){var t=Ao.current;Ar(Ao),e.type._context._currentValue=t}function Lo(e,t){Oo=e,No=Do=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(vo=!0),e.contextDependencies=null}function Mo(e,t){return No!==e&&!1!==t&&0!==t&&("number"===typeof t&&1073741823!==t||(No=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Do?(null===Oo&&s("308"),Do=t,Oo.contextDependencies={first:t,expirationTime:0}):Do=Do.next=t),e._currentValue}var jo=1,Fo=2,Uo=!1;function Bo(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function qo(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Vo(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function zo(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Wo(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=Bo(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=Bo(e.memoizedState),i=n.updateQueue=Bo(n.memoizedState)):r=e.updateQueue=qo(i):null===i&&(i=n.updateQueue=qo(r));null===i||r===i?zo(r,t):null===r.lastUpdate||null===i.lastUpdate?(zo(r,t),zo(i,t)):(zo(r,t),i.lastUpdate=t)}function Ko(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Bo(e.memoizedState):Ho(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Ho(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=qo(t)),t}function Qo(e,t,n,r,o,a){switch(n.tag){case jo:return"function"===typeof(e=n.payload)?e.call(a,r,o):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null===(o="function"===typeof(e=n.payload)?e.call(a,r,o):e)||void 0===o)break;return i({},r,o);case Fo:Uo=!0}return r}function Go(e,t,n,r,i){Uo=!1;for(var o=(t=Ho(e,t)).baseState,a=null,s=0,u=t.firstUpdate,c=o;null!==u;){var l=u.expirationTime;l<i?(null===a&&(a=u,o=c),s<l&&(s=l)):(c=Qo(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(l=null,u=t.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f<i?(null===l&&(l=u,null===a&&(o=c)),s<f&&(s=f)):(c=Qo(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===a&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===l&&(o=c),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=l,e.expirationTime=s,e.memoizedState=c}function Yo(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Xo(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Xo(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Xo(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!==typeof n&&s("191",n),n.call(r)}e=e.nextEffect}}function $o(e,t){return{value:e,source:t,stack:lt(t)}}function Jo(e){e.effectTag|=4}var Zo,ea,ta;Zo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ea=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s=t.stateNode;switch(Si(wi.current),e=null,n){case"input":a=_t(s,a),r=_t(s,r),e=[];break;case"option":a=Yn(s,a),r=Yn(s,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=$n(s,a),r=$n(s,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(s.onclick=vr)}dr(n,r),s=n=void 0;var u=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var c=a[n];for(s in c)c.hasOwnProperty(s)&&(u||(u={}),u[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(_.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var l=r[n];if(c=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&l!==c&&(null!=l||null!=c))if("style"===n)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(u||(u={}),u[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(u||(u={}),u[s]=l[s])}else u||(e||(e=[]),e.push(n,u)),u=l;else"dangerouslySetInnerHTML"===n?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(n,""+l)):"children"===n?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(n,""+l):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(_.hasOwnProperty(n)?(null!=l&&mr(o,n),e||c===l||(e=[])):(e=e||[]).push(n,l))}u&&(e=e||[]).push("style",u),o=e,(t.updateQueue=o)&&Jo(t)}},ta=function(e,t,n,r){n!==r&&Jo(t)};var na="function"===typeof WeakSet?WeakSet:Set;function ra(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=lt(n)),null!==n&&ct(n.type),t=t.value,null!==e&&1===e.tag&&ct(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ia(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ba(e,n)}else t.current=null}function oa(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!==(r.tag&e)){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}0!==(r.tag&t)&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function aa(e){switch("function"===typeof Wr&&Wr(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n.destroy;if(void 0!==r){var i=e;try{r()}catch(o){Ba(i,o)}}n=n.next}while(n!==t)}break;case 1:if(ia(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){Ba(e,o)}break;case 5:ia(e);break;case 4:ca(e)}}function sa(e){return 5===e.tag||3===e.tag||4===e.tag}function ua(e){e:{for(var t=e.return;null!==t;){if(sa(t)){var n=t;break e}t=t.return}s("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:s("161")}16&n.effectTag&&(sr(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||sa(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(n)if(r){var o=t,a=i.stateNode,u=n;8===o.nodeType?o.parentNode.insertBefore(a,u):o.insertBefore(a,u)}else t.insertBefore(i.stateNode,n);else r?(a=t,u=i.stateNode,8===a.nodeType?(o=a.parentNode).insertBefore(u,a):(o=a).appendChild(u),null!==(a=a._reactRootContainer)&&void 0!==a||null!==o.onclick||(o.onclick=vr)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function ca(e){for(var t=e,n=!1,r=void 0,i=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&s("160"),n.tag){case 5:r=n.stateNode,i=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,a=o;;)if(aa(a),null!==a.child&&4!==a.tag)a.child.return=a,a=a.child;else{if(a===o)break;for(;null===a.sibling;){if(null===a.return||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}i?(o=r,a=t.stateNode,8===o.nodeType?o.parentNode.removeChild(a):o.removeChild(a)):r.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){r=t.stateNode.containerInfo,i=!0,t.child.return=t,t=t.child;continue}}else if(aa(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function la(e,t){switch(t.tag){case 0:case 11:case 14:case 15:oa(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&function(e,t,n,r,i){e[M]=i,"input"===n&&"radio"===i.type&&null!=i.name&&St(e,i),pr(n,r),r=pr(n,i);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?fr(e,s):"dangerouslySetInnerHTML"===a?ar(e,s):"children"===a?sr(e,s):bt(e,a,s,r)}switch(n){case"input":Et(e,i);break;case"textarea":Zn(e,i);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?Xn(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Xn(e,!!i.multiple,i.defaultValue,!0):Xn(e,!!i.multiple,i.multiple?[]:"",!1))}}(n,o,i,e,r)}break;case 6:null===t.stateNode&&s("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t.memoizedState,r=void 0,e=t,null===n?r=!1:(r=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=vs())),null!==e&&function(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r.style.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=lr("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,r),null!==(n=t.updateQueue)){t.updateQueue=null;var a=t.stateNode;null===a&&(a=t.stateNode=new na),n.forEach((function(e){var n=za.bind(null,t,e);a.has(e)||(a.add(e),e.then(n,n))}))}break;case 17:break;default:s("163")}}var fa="function"===typeof WeakMap?WeakMap:Map;function ha(e,t,n){(n=Vo(n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Cs(r),ra(e,t)},n}function da(e,t,n){(n=Vo(n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Aa?Aa=new Set([this]):Aa.add(this));var n=t.value,i=t.stack;ra(e,t),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function pa(e){switch(e.tag){case 1:Mr(e.type)&&jr();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return ki(),Fr(),0!==(64&(t=e.effectTag))&&s("285"),e.effectTag=-2049&t|64,e;case 5:return Ii(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return ki(),null;case 10:return Ro(e),null;default:return null}}var ma=He.ReactCurrentDispatcher,va=He.ReactCurrentOwner,ya=1073741822,ga=!1,ba=null,wa=null,_a=0,Ta=-1,Sa=!1,Ea=null,ka=!1,Ca=null,Ia=null,xa=null,Aa=null;function Oa(){if(null!==ba)for(var e=ba.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!==n&&void 0!==n&&jr();break;case 3:ki(),Fr();break;case 5:Ii(t);break;case 4:ki();break;case 10:Ro(t)}e=e.return}wa=null,_a=0,Ta=-1,Sa=!1,ba=null}function Da(){for(;null!==Ea;){var e=Ea.effectTag;if(16&e&&sr(Ea.stateNode,""),128&e){var t=Ea.alternate;null!==t&&(null!==(t=t.ref)&&("function"===typeof t?t(null):t.current=null))}switch(14&e){case 2:ua(Ea),Ea.effectTag&=-3;break;case 6:ua(Ea),Ea.effectTag&=-3,la(Ea.alternate,Ea);break;case 4:la(Ea.alternate,Ea);break;case 8:ca(e=Ea),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}Ea=Ea.nextEffect}}function Na(){for(;null!==Ea;){if(256&Ea.effectTag)e:{var e=Ea.alternate,t=Ea;switch(t.tag){case 0:case 11:case 15:oa(2,0,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:oi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:s("163")}}Ea=Ea.nextEffect}}function Pa(e,t){for(;null!==Ea;){var n=Ea.effectTag;if(36&n){var r=Ea.alternate,i=Ea,o=t;switch(i.tag){case 0:case 11:case 15:oa(16,32,i);break;case 1:var a=i.stateNode;if(4&i.effectTag)if(null===r)a.componentDidMount();else{var u=i.elementType===i.type?r.memoizedProps:oi(i.type,r.memoizedProps);a.componentDidUpdate(u,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}null!==(r=i.updateQueue)&&Yo(0,r,a);break;case 3:if(null!==(r=i.updateQueue)){if(a=null,null!==i.child)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Yo(0,r,a)}break;case 5:o=i.stateNode,null===r&&4&i.effectTag&&br(i.type,i.memoizedProps)&&o.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:s("163")}}128&n&&(null!==(i=Ea.ref)&&(o=Ea.stateNode,"function"===typeof i?i(o):i.current=o)),512&n&&(Ca=e),Ea=Ea.nextEffect}}function Ra(e,t){xa=Ia=Ca=null;var n=$a;$a=!0;do{if(512&t.effectTag){var r=!1,i=void 0;try{var o=t;oa(128,0,o),oa(0,64,o)}catch(a){r=!0,i=a}r&&Ba(t,i)}t=t.nextEffect}while(null!==t);$a=n,0!==(n=e.expirationTime)&&ys(e,n),rs||$a||Ts(1073741823,!1)}function La(){null!==Ia&&Er(Ia),null!==xa&&xa()}function Ma(e,t){ka=ga=!0,e.current===t&&s("177");var n=e.pendingCommitExpirationTime;0===n&&s("261"),e.pendingCommitExpirationTime=0;var r=t.expirationTime,i=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(n=e.earliestSuspendedTime)?ti(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,ti(e,t)):t>n&&ti(e,t)}ii(0,e)}(e,i>r?i:r),va.current=null,r=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,yr=Cn,gr=function(){var e=Fn();if(Un(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(d){t=null;break e}var o=0,a=-1,s=-1,u=0,c=0,l=e,f=null;t:for(;;){for(var h;l!==t||0!==r&&3!==l.nodeType||(a=o+r),l!==i||0!==n&&3!==l.nodeType||(s=o+n),3===l.nodeType&&(o+=l.nodeValue.length),null!==(h=l.firstChild);)f=l,l=h;for(;;){if(l===e)break t;if(f===t&&++u===r&&(a=o),f===i&&++c===n&&(s=o),null!==(h=l.nextSibling))break;f=(l=f).parentNode}l=h}t=-1===a||-1===s?null:{start:a,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}(),Cn=!1,Ea=r;null!==Ea;){i=!1;var a=void 0;try{Na()}catch(c){i=!0,a=c}i&&(null===Ea&&s("178"),Ba(Ea,a),null!==Ea&&(Ea=Ea.nextEffect))}for(Ea=r;null!==Ea;){i=!1,a=void 0;try{Da()}catch(c){i=!0,a=c}i&&(null===Ea&&s("178"),Ba(Ea,a),null!==Ea&&(Ea=Ea.nextEffect))}for(Bn(gr),gr=null,Cn=!!yr,yr=null,e.current=t,Ea=r;null!==Ea;){i=!1,a=void 0;try{Pa(e,n)}catch(c){i=!0,a=c}i&&(null===Ea&&s("178"),Ba(Ea,a),null!==Ea&&(Ea=Ea.nextEffect))}if(null!==r&&null!==Ca){var u=Ra.bind(null,e,r);Ia=o.unstable_runWithPriority(o.unstable_NormalPriority,(function(){return Sr(u)})),xa=u}ga=ka=!1,"function"===typeof zr&&zr(t.stateNode),n=t.expirationTime,0===(t=(t=t.childExpirationTime)>n?t:n)&&(Aa=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function ja(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0===(1024&e.effectTag)){ba=e;e:{var o=t,a=_a,u=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Mr(t.type)&&jr();break;case 3:ki(),Fr(),(u=t.stateNode).pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),null!==o&&null!==o.child||(ho(t),t.effectTag&=-3);break;case 5:Ii(t);var c=Si(Ti.current);if(a=t.type,null!==o&&null!=t.stateNode)ea(o,t,a,u,c),o.ref!==t.ref&&(t.effectTag|=128);else if(u){var l=Si(wi.current);if(ho(t)){o=(u=t).stateNode;var f=u.type,h=u.memoizedProps,d=c;switch(o[L]=u,o[M]=h,a=void 0,c=f){case"iframe":case"object":In("load",o);break;case"video":case"audio":for(f=0;f<re.length;f++)In(re[f],o);break;case"source":In("error",o);break;case"img":case"image":case"link":In("error",o),In("load",o);break;case"form":In("reset",o),In("submit",o);break;case"details":In("toggle",o);break;case"input":Tt(o,h),In("invalid",o),mr(d,"onChange");break;case"select":o._wrapperState={wasMultiple:!!h.multiple},In("invalid",o),mr(d,"onChange");break;case"textarea":Jn(o,h),In("invalid",o),mr(d,"onChange")}for(a in dr(c,h),f=null,h)h.hasOwnProperty(a)&&(l=h[a],"children"===a?"string"===typeof l?o.textContent!==l&&(f=["children",l]):"number"===typeof l&&o.textContent!==""+l&&(f=["children",""+l]):_.hasOwnProperty(a)&&null!=l&&mr(d,a));switch(c){case"input":We(o),kt(o,h,!0);break;case"textarea":We(o),er(o);break;case"select":case"option":break;default:"function"===typeof h.onClick&&(o.onclick=vr)}a=f,u.updateQueue=a,(u=null!==a)&&Jo(t)}else{h=t,d=a,o=u,f=9===c.nodeType?c:c.ownerDocument,l===tr&&(l=rr(d)),l===tr?"script"===d?((o=f.createElement("div")).innerHTML="<script><\/script>",f=o.removeChild(o.firstChild)):"string"===typeof o.is?f=f.createElement(d,{is:o.is}):(f=f.createElement(d),"select"===d&&(d=f,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):f=f.createElementNS(l,d),(o=f)[L]=h,o[M]=u,Zo(o,t),d=o;var p=c,m=pr(f=a,h=u);switch(f){case"iframe":case"object":In("load",d),c=h;break;case"video":case"audio":for(c=0;c<re.length;c++)In(re[c],d);c=h;break;case"source":In("error",d),c=h;break;case"img":case"image":case"link":In("error",d),In("load",d),c=h;break;case"form":In("reset",d),In("submit",d),c=h;break;case"details":In("toggle",d),c=h;break;case"input":Tt(d,h),c=_t(d,h),In("invalid",d),mr(p,"onChange");break;case"option":c=Yn(d,h);break;case"select":d._wrapperState={wasMultiple:!!h.multiple},c=i({},h,{value:void 0}),In("invalid",d),mr(p,"onChange");break;case"textarea":Jn(d,h),c=$n(d,h),In("invalid",d),mr(p,"onChange");break;default:c=h}dr(f,c),l=void 0;var v=f,y=d,g=c;for(l in g)if(g.hasOwnProperty(l)){var b=g[l];"style"===l?fr(y,b):"dangerouslySetInnerHTML"===l?null!=(b=b?b.__html:void 0)&&ar(y,b):"children"===l?"string"===typeof b?("textarea"!==v||""!==b)&&sr(y,b):"number"===typeof b&&sr(y,""+b):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(_.hasOwnProperty(l)?null!=b&&mr(p,l):null!=b&&bt(y,l,b,m))}switch(f){case"input":We(d),kt(d,h,!1);break;case"textarea":We(d),er(d);break;case"option":null!=h.value&&d.setAttribute("value",""+wt(h.value));break;case"select":(c=d).multiple=!!h.multiple,null!=(d=h.value)?Xn(c,!!h.multiple,d,!1):null!=h.defaultValue&&Xn(c,!!h.multiple,h.defaultValue,!0);break;default:"function"===typeof c.onClick&&(d.onclick=vr)}(u=br(a,u))&&Jo(t),t.stateNode=o}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&s("166");break;case 6:o&&null!=t.stateNode?ta(0,t,o.memoizedProps,u):("string"!==typeof u&&(null===t.stateNode&&s("166")),o=Si(Ti.current),Si(wi.current),ho(t)?(a=(u=t).stateNode,o=u.memoizedProps,a[L]=u,(u=a.nodeValue!==o)&&Jo(t)):(a=t,(u=(9===o.nodeType?o:o.ownerDocument).createTextNode(u))[L]=t,a.stateNode=u));break;case 11:break;case 13:if(u=t.memoizedState,0!==(64&t.effectTag)){t.expirationTime=a,ba=t;break e}u=null!==u,a=null!==o&&null!==o.memoizedState,null!==o&&!u&&a&&(null!==(o=o.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=o,o.nextEffect=c):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),(u||a)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:ki();break;case 10:Ro(t);break;case 9:case 14:break;case 17:Mr(t.type)&&jr();break;case 18:break;default:s("156")}ba=null}if(t=e,1===_a||1!==t.childExpirationTime){for(u=0,a=t.child;null!==a;)(o=a.expirationTime)>u&&(u=o),(c=a.childExpirationTime)>u&&(u=c),a=a.sibling;t.childExpirationTime=u}if(null!==ba)return ba;null!==n&&0===(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=pa(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function Fa(e){var t=xo(e.alternate,e,_a);return e.memoizedProps=e.pendingProps,null===t&&(t=ja(e)),va.current=null,t}function Ua(e,t){ga&&s("243"),La(),ga=!0;var n=ma.current;ma.current=no;var r=e.nextExpirationTimeToWorkOn;r===_a&&e===wa&&null!==ba||(Oa(),_a=r,ba=Yr((wa=e).current,null),e.pendingCommitExpirationTime=0);for(var i=!1;;){try{if(t)for(;null!==ba&&!ws();)ba=Fa(ba);else for(;null!==ba;)ba=Fa(ba)}catch(y){if(No=Do=Oo=null,Ki(),null===ba)i=!0,Cs(y);else{null===ba&&s("271");var o=ba,a=o.return;if(null!==a){e:{var u=e,c=a,l=o,f=y;if(a=_a,l.effectTag|=1024,l.firstEffect=l.lastEffect=null,null!==f&&"object"===typeof f&&"function"===typeof f.then){var h=f;f=c;var d=-1,p=-1;do{if(13===f.tag){var m=f.alternate;if(null!==m&&null!==(m=m.memoizedState)){p=10*(1073741822-m.timedOutAt);break}"number"===typeof(m=f.pendingProps.maxDuration)&&(0>=m?d=0:(-1===d||m<d)&&(d=m))}f=f.return}while(null!==f);f=c;do{if((m=13===f.tag)&&(m=void 0!==f.memoizedProps.fallback&&null===f.memoizedState),m){if(null===(c=f.updateQueue)?((c=new Set).add(h),f.updateQueue=c):c.add(h),0===(1&f.mode)){f.effectTag|=64,l.effectTag&=-1957,1===l.tag&&(null===l.alternate?l.tag=17:((a=Vo(1073741823)).tag=Fo,Wo(l,a))),l.expirationTime=1073741823;break e}c=a;var v=(l=u).pingCache;null===v?(v=l.pingCache=new fa,m=new Set,v.set(h,m)):void 0===(m=v.get(h))&&(m=new Set,v.set(h,m)),m.has(c)||(m.add(c),l=Va.bind(null,l,h,c),h.then(l,l)),-1===d?u=1073741823:(-1===p&&(p=10*(1073741822-ri(u,a))-5e3),u=p+d),0<=u&&Ta<u&&(Ta=u),f.effectTag|=2048,f.expirationTime=a;break e}f=f.return}while(null!==f);f=Error((ct(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+lt(l))}Sa=!0,f=$o(f,l),u=c;do{switch(u.tag){case 3:u.effectTag|=2048,u.expirationTime=a,Ko(u,a=ha(u,f,a));break e;case 1:if(d=f,p=u.type,l=u.stateNode,0===(64&u.effectTag)&&("function"===typeof p.getDerivedStateFromError||null!==l&&"function"===typeof l.componentDidCatch&&(null===Aa||!Aa.has(l)))){u.effectTag|=2048,u.expirationTime=a,Ko(u,a=da(u,d,a));break e}}u=u.return}while(null!==u)}ba=ja(o);continue}i=!0,Cs(y)}}break}if(ga=!1,ma.current=n,No=Do=Oo=null,Ki(),i)wa=null,e.finishedWork=null;else if(null!==ba)e.finishedWork=null;else{if(null===(n=e.current.alternate)&&s("281"),wa=null,Sa){if(i=e.latestPendingTime,o=e.latestSuspendedTime,a=e.latestPingedTime,0!==i&&i<r||0!==o&&o<r||0!==a&&a<r)return ni(e,r),void ps(e,n,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void ps(e,n,r,t,-1)}t&&-1!==Ta?(ni(e,r),(t=10*(1073741822-ri(e,r)))<Ta&&(Ta=t),t=10*(1073741822-vs()),t=Ta-t,ps(e,n,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=n)}}function Ba(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Aa||!Aa.has(r)))return Wo(n,e=da(n,e=$o(t,e),1073741823)),void Ka(n,1073741823);break;case 3:return Wo(n,e=ha(n,e=$o(t,e),1073741823)),void Ka(n,1073741823)}n=n.return}3===e.tag&&(Wo(e,n=ha(e,n=$o(t,e),1073741823)),Ka(e,1073741823))}function qa(e,t){var n=o.unstable_getCurrentPriorityLevel(),r=void 0;if(0===(1&t.mode))r=1073741823;else if(ga&&!ka)r=_a;else{switch(n){case o.unstable_ImmediatePriority:r=1073741823;break;case o.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-e+15)/10|0));break;case o.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-e+500)/25|0));break;case o.unstable_LowPriority:case o.unstable_IdlePriority:r=1;break;default:s("313")}null!==wa&&r===_a&&--r}return n===o.unstable_UserBlockingPriority&&(0===es||r<es)&&(es=r),r}function Va(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),null!==wa&&_a===n?wa=null:(t=e.earliestSuspendedTime,r=e.latestSuspendedTime,0!==t&&n<=t&&n>=r&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>n)&&(e.latestPingedTime=n),ii(n,e),0!==(n=e.expirationTime)&&ys(e,n)))}function za(e,t){var n=e.stateNode;null!==n&&n.delete(t),null!==(e=Wa(e,t=qa(t=vs(),e)))&&(ti(e,t),0!==(t=e.expirationTime)&&ys(e,t))}function Wa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return i}function Ka(e,t){null!==(e=Wa(e,t))&&(!ga&&0!==_a&&t>_a&&Oa(),ti(e,t),ga&&!ka&&wa===e||ys(e,e.expirationTime),ls>cs&&(ls=0,s("185")))}function Ha(e,t,n,r,i){return o.unstable_runWithPriority(o.unstable_ImmediatePriority,(function(){return e(t,n,r,i)}))}var Qa=null,Ga=null,Ya=0,Xa=void 0,$a=!1,Ja=null,Za=0,es=0,ts=!1,ns=null,rs=!1,is=!1,os=null,as=o.unstable_now(),ss=1073741822-(as/10|0),us=ss,cs=50,ls=0,fs=null;function hs(){ss=1073741822-((o.unstable_now()-as)/10|0)}function ds(e,t){if(0!==Ya){if(t<Ya)return;null!==Xa&&o.unstable_cancelCallback(Xa)}Ya=t,e=o.unstable_now()-as,Xa=o.unstable_scheduleCallback(_s,{timeout:10*(1073741822-t)-e})}function ps(e,t,n,r,i){e.expirationTime=r,0!==i||ws()?0<i&&(e.timeoutHandle=_r(ms.bind(null,e,t,n),i)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function ms(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,hs(),us=ss,Ss(e,n)}function vs(){return $a?us:(gs(),0!==Za&&1!==Za||(hs(),us=ss),us)}function ys(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===Ga?(Qa=Ga=e,e.nextScheduledRoot=e):(Ga=Ga.nextScheduledRoot=e).nextScheduledRoot=Qa):t>e.expirationTime&&(e.expirationTime=t),$a||(rs?is&&(Ja=e,Za=1073741823,Es(e,1073741823,!1)):1073741823===t?Ts(1073741823,!1):ds(e,t))}function gs(){var e=0,t=null;if(null!==Ga)for(var n=Ga,r=Qa;null!==r;){var i=r.expirationTime;if(0===i){if((null===n||null===Ga)&&s("244"),r===r.nextScheduledRoot){Qa=Ga=r.nextScheduledRoot=null;break}if(r===Qa)Qa=i=r.nextScheduledRoot,Ga.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===Ga){(Ga=n).nextScheduledRoot=Qa,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(i>e&&(e=i,t=r),r===Ga)break;if(1073741823===e)break;n=r,r=r.nextScheduledRoot}}Ja=t,Za=e}var bs=!1;function ws(){return!!bs||!!o.unstable_shouldYield()&&(bs=!0)}function _s(){try{if(!ws()&&null!==Qa){hs();var e=Qa;do{var t=e.expirationTime;0!==t&&ss<=t&&(e.nextExpirationTimeToWorkOn=ss),e=e.nextScheduledRoot}while(e!==Qa)}Ts(0,!0)}finally{bs=!1}}function Ts(e,t){if(gs(),t)for(hs(),us=ss;null!==Ja&&0!==Za&&e<=Za&&!(bs&&ss>Za);)Es(Ja,Za,ss>Za),gs(),hs(),us=ss;else for(;null!==Ja&&0!==Za&&e<=Za;)Es(Ja,Za,!1),gs();if(t&&(Ya=0,Xa=null),0!==Za&&ds(Ja,Za),ls=0,fs=null,null!==os)for(e=os,os=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(r){ts||(ts=!0,ns=r)}}if(ts)throw e=ns,ns=null,ts=!1,e}function Ss(e,t){$a&&s("253"),Ja=e,Za=t,Es(e,t,!1),Ts(1073741823,!1)}function Es(e,t,n){if($a&&s("245"),$a=!0,n){var r=e.finishedWork;null!==r?ks(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,Tr(r)),Ua(e,n),null!==(r=e.finishedWork)&&(ws()?e.finishedWork=r:ks(e,r,t)))}else null!==(r=e.finishedWork)?ks(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,Tr(r)),Ua(e,n),null!==(r=e.finishedWork)&&ks(e,r,t));$a=!1}function ks(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===os?os=[r]:os.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===fs?ls++:(fs=e,ls=0),o.unstable_runWithPriority(o.unstable_ImmediatePriority,(function(){Ma(e,t)}))}function Cs(e){null===Ja&&s("246"),Ja.expirationTime=0,ts||(ts=!0,ns=e)}function Is(e,t){var n=rs;rs=!0;try{return e(t)}finally{(rs=n)||$a||Ts(1073741823,!1)}}function xs(e,t){if(rs&&!is){is=!0;try{return e(t)}finally{is=!1}}return e(t)}function As(e,t,n){rs||$a||0===es||(Ts(es,!1),es=0);var r=rs;rs=!0;try{return o.unstable_runWithPriority(o.unstable_UserBlockingPriority,(function(){return e(t,n)}))}finally{(rs=r)||$a||Ts(1073741823,!1)}}function Os(e,t,n,r,i){var o=t.current;e:if(n){t:{2===rn(n=n._reactInternalFiber)&&1===n.tag||s("170");var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Mr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(null!==a);s("171"),a=void 0}if(1===n.tag){var u=n.type;if(Mr(u)){n=Br(n,u,a);break e}}n=a}else n=Dr;return null===t.context?t.context=n:t.pendingContext=n,t=i,(i=Vo(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),La(),Wo(o,i),Ka(o,r),r}function Ds(e,t,n,r){var i=t.current;return Os(e,t,n,i=qa(vs(),i),r)}function Ns(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ps(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Xe,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Rs(e){var t=1073741822-25*(1+((1073741822-vs()+500)/25|0));t>=ya&&(t=ya-1),this._expirationTime=ya=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Ls(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ms(e,t,n){e={current:t=Qr(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function js(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Fs(e,t,n,r,i){var o=n._reactRootContainer;if(o){if("function"===typeof i){var a=i;i=function(){var e=Ns(o._internalRoot);a.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ms(e,!1,t)}(n,r),"function"===typeof i){var s=i;i=function(){var e=Ns(o._internalRoot);s.call(e)}}xs((function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}))}return Ns(o._internalRoot)}function Us(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return js(t)||s("200"),Ps(e,t,null,n)}xe=function(e,t,n){switch(t){case"input":if(Et(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=B(r);i||s("90"),Ke(r),Et(r,i)}}}break;case"textarea":Zn(e,n);break;case"select":null!=(t=n.value)&&Xn(e,!!n.multiple,t,!1)}},Rs.prototype.render=function(e){this._defer||s("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Ls;return Os(e,t,null,n,r._onCommit),r},Rs.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Rs.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||s("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;null===r&&s("251"),r._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,Ss(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Rs.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Ls.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Ls.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!==typeof n&&s("191",n),n()}}},Ms.prototype.render=function(e,t){var n=this._internalRoot,r=new Ls;return null!==(t=void 0===t?null:t)&&r.then(t),Ds(e,n,null,r._onCommit),r},Ms.prototype.unmount=function(e){var t=this._internalRoot,n=new Ls;return null!==(e=void 0===e?null:e)&&n.then(e),Ds(null,t,null,n._onCommit),n},Ms.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new Ls;return null!==(n=void 0===n?null:n)&&i.then(n),Ds(t,r,e,i._onCommit),i},Ms.prototype.createBatch=function(){var e=new Rs(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Re=Is,Le=As,Me=function(){$a||0===es||(Ts(es,!1),es=0)};var Bs={createPortal:Us,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"===typeof e.render?s("188"):s("268",Object.keys(e))),e=null===(e=an(t))?null:e.stateNode},hydrate:function(e,t,n){return js(t)||s("200"),Fs(null,e,t,!0,n)},render:function(e,t,n){return js(t)||s("200"),Fs(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return js(n)||s("200"),(null==e||void 0===e._reactInternalFiber)&&s("38"),Fs(e,t,n,!1,r)},unmountComponentAtNode:function(e){return js(e)||s("40"),!!e._reactRootContainer&&(xs((function(){Fs(null,null,e,!1,(function(){e._reactRootContainer=null}))})),!0)},unstable_createPortal:function(){return Us.apply(void 0,arguments)},unstable_batchedUpdates:Is,unstable_interactiveUpdates:As,flushSync:function(e,t){$a&&s("187");var n=rs;rs=!0;try{return Ha(e,t)}finally{rs=n,Ts(1073741823,!1)}},unstable_createRoot:function(e,t){return js(e)||s("299","unstable_createRoot"),new Ms(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=rs;rs=!0;try{Ha(e)}finally{(rs=t)||$a||Ts(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[F,U,B,D.injectEventPluginsByName,w,H,function(e){x(e,K)},Ne,Pe,On,P]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);zr=Kr((function(e){return t.onCommitFiberRoot(n,e)})),Wr=Kr((function(e){return t.onCommitFiberUnmount(n,e)}))}catch(r){}})(i({},e,{overrideProps:null,currentDispatcherRef:He.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=an(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:j,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"});var qs={default:Bs},Vs=qs&&Bs||qs;e.exports=Vs.default||Vs},function(e,t,n){"use strict";e.exports=n(152)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=null,r=!1,i=3,o=-1,a=-1,s=!1,u=!1;function c(){if(!s){var e=n.expirationTime;u?S():u=!0,T(h,e)}}function l(){var e=n,t=n.next;if(n===t)n=null;else{var r=n.previous;n=r.next=t,t.previous=r}e.next=e.previous=null,r=e.callback,t=e.expirationTime,e=e.priorityLevel;var o=i,s=a;i=e,a=t;try{var u=r()}finally{i=o,a=s}if("function"===typeof u)if(u={callback:u,priorityLevel:e,expirationTime:t,next:null,previous:null},null===n)n=u.next=u.previous=u;else{r=null,e=n;do{if(e.expirationTime>=t){r=e;break}e=e.next}while(e!==n);null===r?r=n:r===n&&(n=u,c()),(t=r.previous).next=r.previous=u,u.next=r,u.previous=t}}function f(){if(-1===o&&null!==n&&1===n.priorityLevel){s=!0;try{do{l()}while(null!==n&&1===n.priorityLevel)}finally{s=!1,null!==n?c():u=!1}}}function h(e){s=!0;var i=r;r=e;try{if(e)for(;null!==n;){var o=t.unstable_now();if(!(n.expirationTime<=o))break;do{l()}while(null!==n&&n.expirationTime<=o)}else if(null!==n)do{l()}while(null!==n&&!E())}finally{s=!1,r=i,null!==n?c():u=!1,f()}}var d,p,m=Date,v="function"===typeof setTimeout?setTimeout:void 0,y="function"===typeof clearTimeout?clearTimeout:void 0,g="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,b="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function w(e){d=g((function(t){y(p),e(t)})),p=v((function(){b(d),e(t.unstable_now())}),100)}if("object"===typeof performance&&"function"===typeof performance.now){var _=performance;t.unstable_now=function(){return _.now()}}else t.unstable_now=function(){return m.now()};var T,S,E,k=null;if("undefined"!==typeof window?k=window:"undefined"!==typeof e&&(k=e),k&&k._schedMock){var C=k._schedMock;T=C[0],S=C[1],E=C[2],t.unstable_now=C[3]}else if("undefined"===typeof window||"function"!==typeof MessageChannel){var I=null,x=function(e){if(null!==I)try{I(e)}finally{I=null}};T=function(e){null!==I?setTimeout(T,0,e):(I=e,setTimeout(x,0,!1))},S=function(){I=null},E=function(){return!1}}else{"undefined"!==typeof console&&("function"!==typeof g&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var A=null,O=!1,D=-1,N=!1,P=!1,R=0,L=33,M=33;E=function(){return R<=t.unstable_now()};var j=new MessageChannel,F=j.port2;j.port1.onmessage=function(){O=!1;var e=A,n=D;A=null,D=-1;var r=t.unstable_now(),i=!1;if(0>=R-r){if(!(-1!==n&&n<=r))return N||(N=!0,w(U)),A=e,void(D=n);i=!0}if(null!==e){P=!0;try{e(i)}finally{P=!1}}};var U=function e(t){if(null!==A){w(e);var n=t-R+M;n<M&&L<M?(8>n&&(n=8),M=n<L?L:n):L=n,R=t+M,O||(O=!0,F.postMessage(void 0))}else N=!1};T=function(e,t){A=e,D=t,P||0>t?F.postMessage(void 0):N||(N=!0,w(U))},S=function(){A=null,O=!1,D=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=i,a=o;i=e,o=t.unstable_now();try{return n()}finally{i=r,o=a,f()}},t.unstable_next=function(e){switch(i){case 1:case 2:case 3:var n=3;break;default:n=i}var r=i,a=o;i=n,o=t.unstable_now();try{return e()}finally{i=r,o=a,f()}},t.unstable_scheduleCallback=function(e,r){var a=-1!==o?o:t.unstable_now();if("object"===typeof r&&null!==r&&"number"===typeof r.timeout)r=a+r.timeout;else switch(i){case 1:r=a+-1;break;case 2:r=a+250;break;case 5:r=a+1073741823;break;case 4:r=a+1e4;break;default:r=a+5e3}if(e={callback:e,priorityLevel:i,expirationTime:r,next:null,previous:null},null===n)n=e.next=e.previous=e,c();else{a=null;var s=n;do{if(s.expirationTime>r){a=s;break}s=s.next}while(s!==n);null===a?a=n:a===n&&(n=e,c()),(r=a.previous).next=a.previous=e,e.next=a,e.previous=r}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)n=null;else{e===n&&(n=t);var r=e.previous;r.next=t,t.previous=r}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=i;return function(){var r=i,a=o;i=n,o=t.unstable_now();try{return e.apply(this,arguments)}finally{i=r,o=a,f()}}},t.unstable_getCurrentPriorityLevel=function(){return i},t.unstable_shouldYield=function(){return!r&&(null!==n&&n.expirationTime<a||E())},t.unstable_continueExecution=function(){null!==n&&c()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(15))},function(e,t,n){},,function(e,t,n){"use strict";n(156)},function(e,t,n){"use strict";(function(e){var t=n(10),r=n.n(t);(function(){var t,n="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},i="undefined"!=typeof window&&window===this?this:"undefined"!=typeof e&&null!=e?e:this;function o(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:o(e)}}!function(e,t){if(t){var r=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in r||(r[a]={}),r=r[a]}(t=t(o=r[e=e[e.length-1]]))!=o&&null!=t&&n(r,e,{configurable:!0,writable:!0,value:t})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var o=i.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.o),reject:e(this.g)}},t.prototype.o=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.u(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.l(e):this.h(e)}},t.prototype.l=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.v(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.m()},t.prototype.m=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.u=function(e){var t=this.f();e.Ja(t.resolve,t.reject)},t.prototype.v=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ja(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ja=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=a(e),o=i.next();!o.done;o=i.next())r(o.value).Ja(t,n)}))},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Ja(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var s=s||{},u=this;function c(e){return"string"==typeof e}function l(e){return"boolean"==typeof e}var f=/^[\w+/_-]+[=]{0,2}$/,h=null;function d(){}function p(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function m(e){return null===e}function v(e){return"array"==p(e)}function y(e){var t=p(e);return"array"==t||"object"==t&&"number"==typeof e.length}function g(e){return"function"==p(e)}function b(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var w="closure_uid_"+(1e9*Math.random()>>>0),_=0;function T(e,t,n){return e.call.apply(e.bind,arguments)}function S(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function E(e,t,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?T:S).apply(null,arguments)}function k(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var C=Date.now||function(){return+new Date};function I(e,t){function n(){}n.prototype=t.prototype,e.qb=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.cd=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function x(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function A(e){if(Error.captureStackTrace)Error.captureStackTrace(this,A);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function O(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");A.call(this,n+e[r])}function D(e,t){throw new O("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function N(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function P(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function R(){this.b=this.a=null}I(A,Error),A.prototype.name="CustomError",I(O,A),O.prototype.name="AssertionError",N.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var L=new N((function(){return new j}),(function(e){e.reset()}));function M(){var e=be,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function j(){this.next=this.b=this.a=null}R.prototype.add=function(e,t){var n=L.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},j.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},j.prototype.reset=function(){this.next=this.b=this.a=null};var F=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(c(e))return c(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},U=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=c(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var B=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i=c(e)?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},q=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=c(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function V(e,t){return 0<=F(e,t)}function z(e,t){var n;return(n=0<=(t=F(e,t)))&&Array.prototype.splice.call(e,t,1),n}function W(e,t){!function(e,t){for(var n=c(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function K(e){return Array.prototype.concat.apply([],arguments)}function H(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var Q,G=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},Y=/&/g,X=/</g,$=/>/g,J=/"/g,Z=/'/g,ee=/\x00/g,te=/[\x00&<>"']/;function ne(e,t){return-1!=e.indexOf(t)}function re(e,t){return e<t?-1:e>t?1:0}e:{var ie=u.navigator;if(ie){var oe=ie.userAgent;if(oe){Q=oe;break e}}Q=""}function ae(e){return ne(Q,e)}function se(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ue(e){for(var t in e)return!1;return!0}function ce(e){var t,n={};for(t in e)n[t]=e[t];return n}var le,fe,he="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<he.length;o++)n=he[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function pe(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function me(e){return te.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(Y,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(X,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace($,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(J,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(Z,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ee,"&#0;"))),e}function ve(e){u.setTimeout((function(){throw e}),0)}function ye(e,t){fe||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);fe=function(){e.then(we)}}else fe=function(){var e=we;!g(u.setImmediate)||u.Window&&u.Window.prototype&&!ae("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(le||(le=function(){var e=u.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!ae("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=E((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!ae("Trident")&&!ae("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).yb;n.yb=null,e()}},function(e){r.next={yb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){u.setTimeout(e,0)}}()),le(e)):u.setImmediate(e)}}(),ge||(fe(),ge=!0),be.add(e,t)}var ge=!1,be=new R;function we(){for(var e;e=M();){try{e.a.call(e.b)}catch(t){ve(t)}P(L,e)}ge=!1}function _e(e,t){if(this.a=Te,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=d)try{var n=this;e.call(t,(function(e){Re(n,Se,e)}),(function(e){if(!(e instanceof qe))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}Re(n,Ee,e)}))}catch(r){Re(this,Ee,r)}}var Te=0,Se=2,Ee=3;function ke(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ke.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ce=new N((function(){return new ke}),(function(e){e.reset()}));function Ie(e,t,n){var r=Ce.get();return r.g=e,r.b=t,r.f=n,r}function xe(e){if(e instanceof _e)return e;var t=new _e(d);return Re(t,Se,e),t}function Ae(e){return new _e((function(t,n){n(e)}))}function Oe(e,t,n){Le(e,t,n,null)||ye(k(t,e))}function De(e){return new _e((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Eb:!0,value:o}:{Eb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Oe(e[o],k(i,o,!0),k(i,o,!1));else t(r)}))}function Ne(e,t){e.b||e.a!=Se&&e.a!=Ee||Me(e),e.f?e.f.next=t:e.b=t,e.f=t}function Pe(e,t,n,r){var i=Ie(null,null,null);return i.a=new _e((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof qe?o(t):e(i)}catch(a){o(a)}}:o})),i.a.c=e,Ne(e,i),i.a}function Re(e,t,n){e.a==Te&&(e===n&&(t=Ee,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Le(n,e.Lc,e.Mc,e)||(e.i=n,e.a=t,e.c=null,Me(e),t!=Ee||n instanceof qe||function(e,t){e.g=!0,ye((function(){e.g&&Be.call(null,t)}))}(e,n)))}function Le(e,t,n,r){if(e instanceof _e)return Ne(e,Ie(t||d,n||null,r)),!0;if(x(e))return e.then(t,n,r),!0;if(b(e))try{var i=e.then;if(g(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(s){o(s)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Me(e){e.h||(e.h=!0,ye(e.Xb,e))}function je(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Fe(e,t,n,r){if(n==Ee&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Ue(t,n,r);else try{t.c?t.g.call(t.f):Ue(t,n,r)}catch(i){Be.call(null,i)}P(Ce,t)}function Ue(e,t,n){t==Se?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}_e.prototype.then=function(e,t,n){return Pe(this,g(e)?e:null,g(t)?t:null,n)},_e.prototype.$goog_Thenable=!0,(t=_e.prototype).ia=function(e,t){return(e=Ie(e,e,t)).c=!0,Ne(this,e),this},t.s=function(e,t){return Pe(this,null,e,t)},t.cancel=function(e){this.a==Te&&ye((function(){!function e(t,n){if(t.a==Te)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==t&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==Te&&1==i?e(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):je(r),Fe(r,o,Ee,n)))}t.c=null}else Re(t,Ee,n)}(this,new qe(e))}),this)},t.Lc=function(e){this.a=Te,Re(this,Se,e)},t.Mc=function(e){this.a=Te,Re(this,Ee,e)},t.Xb=function(){for(var e;e=je(this);)Fe(this,e,this.a,this.i);this.h=!1};var Be=ve;function qe(e){A.call(this,e)}function Ve(){0!=ze&&(We[this[w]||(this[w]=++_)]=this),this.qa=this.qa,this.ja=this.ja}I(qe,A),qe.prototype.name="cancel";var ze=0,We={};function Ke(e){if(!e.qa&&(e.qa=!0,e.va(),0!=ze)){var t=e[w]||(e[w]=++_);if(0!=ze&&e.ja&&0<e.ja.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete We[t]}}function He(e){return He[" "](e),e}Ve.prototype.qa=!1,Ve.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},He[" "]=d;var Qe,Ge=ae("Opera"),Ye=ae("Trident")||ae("MSIE"),Xe=ae("Edge"),$e=Xe||Ye,Je=ae("Gecko")&&!(ne(Q.toLowerCase(),"webkit")&&!ae("Edge"))&&!(ae("Trident")||ae("MSIE"))&&!ae("Edge"),Ze=ne(Q.toLowerCase(),"webkit")&&!ae("Edge");function et(){var e=u.document;return e?e.documentMode:void 0}e:{var tt="",nt=function(){var e=Q;return Je?/rv:([^\);]+)(\)|;)/.exec(e):Xe?/Edge\/([\d\.]+)/.exec(e):Ye?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ze?/WebKit\/(\S+)/.exec(e):Ge?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(nt&&(tt=nt?nt[1]:""),Ye){var rt=et();if(null!=rt&&rt>parseFloat(tt)){Qe=String(rt);break e}}Qe=tt}var it,ot={};function at(e){return function(e,t){var n=ot;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=G(String(Qe)).split("."),r=G(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=re(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||re(0==a[2].length,0==s[2].length)||re(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}var st=u.document;it=st&&Ye?et()||("CSS1Compat"==st.compatMode?parseInt(Qe,10):5):void 0;var ut=Object.freeze||function(e){return e},ct=!Ye||9<=Number(it),lt=Ye&&!at("9"),ft=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",d,t),u.removeEventListener("test",d,t)}catch(n){}return e}();function ht(e,t){this.type=e,this.b=this.target=t,this.Kb=!0}function dt(e,t){if(ht.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Je){e:{try{He(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=c(e.pointerType)?e.pointerType:pt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}ht.prototype.preventDefault=function(){this.Kb=!1},I(dt,ht);var pt=ut({2:"touch",3:"pen",4:"mouse"});dt.prototype.preventDefault=function(){dt.qb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,lt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},dt.prototype.f=function(){return this.a};var mt="closure_listenable_"+(1e6*Math.random()|0),vt=0;function yt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Na=i,this.key=++vt,this.oa=this.Ia=!1}function gt(e){e.oa=!0,e.listener=null,e.proxy=null,e.src=null,e.Na=null}function bt(e){this.src=e,this.a={},this.b=0}function wt(e,t){var n=t.type;n in e.a&&z(e.a[n],t)&&(gt(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function _t(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.oa&&o.listener==t&&o.capture==!!n&&o.Na==r)return i}return-1}bt.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=_t(e,t,r,i);return-1<a?(t=e[a],n||(t.Ia=!1)):((t=new yt(t,this.src,o,!!r,i)).Ia=n,e.push(t)),t};var Tt="closure_lm_"+(1e6*Math.random()|0),St={};function Et(e,t,n,r,i){if(r&&r.once)Ct(e,t,n,r,i);else if(v(t))for(var o=0;o<t.length;o++)Et(e,t[o],n,r,i);else n=Lt(n),e&&e[mt]?jt(e,t,n,b(r)?!!r.capture:!!r,i):kt(e,t,n,!1,r,i)}function kt(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=b(i)?!!i.capture:!!i,s=Pt(e);if(s||(e[Tt]=s=new bt(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=Nt,t=ct?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ft||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(At(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function Ct(e,t,n,r,i){if(v(t))for(var o=0;o<t.length;o++)Ct(e,t[o],n,r,i);else n=Lt(n),e&&e[mt]?Ft(e,t,n,b(r)?!!r.capture:!!r,i):kt(e,t,n,!0,r,i)}function It(e,t,n,r,i){if(v(t))for(var o=0;o<t.length;o++)It(e,t[o],n,r,i);else r=b(r)?!!r.capture:!!r,n=Lt(n),e&&e[mt]?(e=e.m,(t=String(t).toString())in e.a&&(-1<(n=_t(o=e.a[t],n,r,i))&&(gt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=Pt(e))&&(t=e.a[t.toString()],e=-1,t&&(e=_t(t,n,r,i)),(n=-1<e?t[e]:null)&&xt(n))}function xt(e){if("number"!=typeof e&&e&&!e.oa){var t=e.src;if(t&&t[mt])wt(t.m,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(At(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Pt(t))?(wt(n,e),0==n.b&&(n.src=null,t[Tt]=null)):gt(e)}}}function At(e){return e in St?St[e]:St[e]="on"+e}function Ot(e,t,n,r){var i=!0;if((e=Pt(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.oa&&(o=Dt(o,r),i=i&&!1!==o)}return i}function Dt(e,t){var n=e.listener,r=e.Na||e.src;return e.Ia&&xt(e),n.call(r,t)}function Nt(e,t){if(e.oa)return!0;if(!ct){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new dt(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=Ot(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=Ot(r[i],e,!1,t),n=n&&o}return n}return Dt(e,new dt(t,this))}function Pt(e){return(e=e[Tt])instanceof bt?e:null}var Rt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lt(e){return g(e)?e:(e[Rt]||(e[Rt]=function(t){return e.handleEvent(t)}),e[Rt])}function Mt(){Ve.call(this),this.m=new bt(this),this.Qb=this,this.Va=null}function jt(e,t,n,r,i){e.m.add(String(t),n,!1,r,i)}function Ft(e,t,n,r,i){e.m.add(String(t),n,!0,r,i)}function Ut(e,t,n,r){if(!(t=e.m.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.oa&&a.capture==n){var s=a.listener,u=a.Na||a.src;a.Ia&&wt(e.m,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Kb}function Bt(e,t,n){if(g(e))n&&(e=E(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=E(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function qt(e){var t=null;return new _e((function(n,r){-1==(t=Bt((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).s((function(e){throw u.clearTimeout(t),e}))}function Vt(e){if(e.S&&"function"==typeof e.S)return e.S();if(c(e))return e.split("");if(y(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function zt(e){if(e.U&&"function"==typeof e.U)return e.U();if(!e.S||"function"!=typeof e.S){if(y(e)||c(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Wt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Wt)for(n=e.U(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Kt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Ht(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Ht(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Ht(e,t){return Object.prototype.hasOwnProperty.call(e,t)}I(Mt,Ve),Mt.prototype[mt]=!0,Mt.prototype.addEventListener=function(e,t,n,r){Et(this,e,t,n,r)},Mt.prototype.removeEventListener=function(e,t,n,r){It(this,e,t,n,r)},Mt.prototype.dispatchEvent=function(e){var t,n=this.Va;if(n)for(t=[];n;n=n.Va)t.push(n);n=this.Qb;var r=e.type||e;if(c(e))e=new ht(e,n);else if(e instanceof ht)e.target=e.target||n;else{var i=e;de(e=new ht(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Ut(a,r,!0,e)&&i}if(i=Ut(a=e.b=n,r,!0,e)&&i,i=Ut(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Ut(a=e.b=t[o],r,!1,e)&&i;return i},Mt.prototype.va=function(){if(Mt.qb.va.call(this),this.m){var e,t=this.m;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)gt(n[r]);delete t.a[e],t.b--}}this.Va=null},(t=Wt.prototype).S=function(){Kt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},t.U=function(){return Kt(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(e,t){return Ht(this.b,e)?this.b[e]:t},t.set=function(e,t){Ht(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},t.forEach=function(e,t){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Qt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Gt(e,t){var n;this.b=this.i=this.f="",this.m=null,this.g=this.c="",this.h=!1,e instanceof Gt?(this.h=void 0!==t?t:e.h,Yt(this,e.f),this.i=e.i,this.b=e.b,Xt(this,e.m),this.c=e.c,$t(this,yn(e.a)),this.g=e.g):e&&(n=String(e).match(Qt))?(this.h=!!t,Yt(this,n[1]||"",!0),this.i=nn(n[2]||""),this.b=nn(n[3]||"",!0),Xt(this,n[4]),this.c=nn(n[5]||"",!0),$t(this,n[6]||"",!0),this.g=nn(n[7]||"")):(this.h=!!t,this.a=new fn(null,this.h))}function Yt(e,t,n){e.f=n?nn(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Xt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function $t(e,t,n){t instanceof fn?(e.a=t,function(e,t){t&&!e.f&&(hn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(pn(this,t),vn(this,n,e))}),e)),e.f=t}(e.a,e.h)):(n||(t=rn(t,cn)),e.a=new fn(t,e.h))}function Jt(e,t,n){e.a.set(t,n)}function Zt(e,t){return e.a.get(t)}function en(e){return e instanceof Gt?new Gt(e):new Gt(e,void 0)}function tn(e,t){var n=new Gt(null,void 0);return Yt(n,"https"),e&&(n.b=e),t&&(n.c=t),n}function nn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function rn(e,t,n){return c(e)?(e=encodeURI(e).replace(t,on),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function on(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Gt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(rn(t,an,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.i)&&e.push(rn(t,an,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(rn(n,"/"==n.charAt(0)?un:sn,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.g)&&e.push("#",rn(n,ln)),e.join("")},Gt.prototype.resolve=function(e){var t=new Gt(this),n=!!e.f;n?Yt(t,e.f):n=!!e.i,n?t.i=e.i:n=!!e.b,n?t.b=e.b:n=null!=e.m;var r=e.c;if(n)Xt(t,e.m);else if(n=!!e.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=t.c.lastIndexOf("/");-1!=i&&(r=t.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ne(i,"./")||ne(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.c=r:n=""!==e.a.toString(),n?$t(t,yn(e.a)):n=!!e.g,n&&(t.g=e.g),t};var an=/[#\/\?@]/g,sn=/[#\?:]/g,un=/[#\?]/g,cn=/[#\?@]/g,ln=/#/g;function fn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function hn(e){e.a||(e.a=new Wt,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function dn(e){var t=zt(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new fn(null,void 0);e=Vt(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];v(o)?vn(n,i,o):n.add(i,o)}return n}function pn(e,t){hn(e),t=gn(e,t),Ht(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Ht((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Kt(e)))}function mn(e,t){return hn(e),t=gn(e,t),Ht(e.a.b,t)}function vn(e,t,n){pn(e,t),0<n.length&&(e.c=null,e.a.set(gn(e,t),H(n)),e.b+=n.length)}function yn(e){var t=new fn;return t.c=e.c,e.a&&(t.a=new Wt(e.a),t.b=e.b),t}function gn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(t=fn.prototype).add=function(e,t){hn(this),this.c=null,e=gn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(e,t){hn(this),this.a.forEach((function(n,r){U(n,(function(n){e.call(t,n,r,this)}),this)}),this)},t.U=function(){hn(this);for(var e=this.a.S(),t=this.a.U(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},t.S=function(e){hn(this);var t=[];if(c(e))mn(this,e)&&(t=K(t,this.a.get(gn(this,e))));else{e=this.a.S();for(var n=0;n<e.length;n++)t=K(t,e[n])}return t},t.set=function(e,t){return hn(this),this.c=null,mn(this,e=gn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},t.get=function(e,t){return e&&0<(e=this.S(e)).length?String(e[0]):t},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.U(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.S(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var bn=!Ye||9<=Number(it);function wn(e,t){this.a=e===Sn&&t||"",this.b=Tn}function _n(e){return e instanceof wn&&e.constructor===wn&&e.b===Tn?e.a:(D("expected object of type Const, got '"+e+"'"),"type_error:Const")}wn.prototype.na=!0,wn.prototype.ma=function(){return this.a},wn.prototype.toString=function(){return"Const{"+this.a+"}"};var Tn={},Sn={};function En(){this.a="",this.b=An}function kn(e){return e instanceof En&&e.constructor===En&&e.b===An?e.a:(D("expected object of type TrustedResourceUrl, got '"+e+"' of type "+p(e)),"type_error:TrustedResourceUrl")}function Cn(e,t){var n=_n(e);if(!xn.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=new En;return t.a=e,t}(e=n.replace(In,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof wn?_n(e):encodeURIComponent(String(e))})))}En.prototype.na=!0,En.prototype.ma=function(){return this.a.toString()},En.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var In=/%{(\w+)}/g,xn=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,An={};function On(){this.a="",this.b=Rn}function Dn(e){return e instanceof On&&e.constructor===On&&e.b===Rn?e.a:(D("expected object of type SafeUrl, got '"+e+"' of type "+p(e)),"type_error:SafeUrl")}On.prototype.na=!0,On.prototype.ma=function(){return this.a.toString()},On.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nn=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Pn(e){return e instanceof On?e:(e="object"==typeof e&&e.na?e.ma():String(e),Nn.test(e)||(e="about:invalid#zClosurez"),Ln(e))}var Rn={};function Ln(e){var t=new On;return t.a=e,t}function Mn(){this.a="",this.b=jn}Ln("about:blank"),Mn.prototype.na=!0,Mn.prototype.ma=function(){return this.a.toString()},Mn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var jn={};function Fn(e){var t=new Mn;return t.a=e,t}function Un(e){var t=document;return c(e)?t.getElementById(e):e}function Bn(e,t){se(t,(function(t,n){t&&"object"==typeof t&&t.na&&(t=t.ma()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:qn.hasOwnProperty(n)?e.setAttribute(qn[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}Fn("<!DOCTYPE html>"),Fn(""),Fn("<br>");var qn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Vn(e,t,n){function r(n){n&&t.appendChild(c(n)?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!y(o)||b(o)&&0<o.nodeType?r(o):U(zn(o)?H(o):o,r)}}function zn(e){if(e&&"number"==typeof e.length){if(b(e))return"function"==typeof e.item||"string"==typeof e.item;if(g(e))return"function"==typeof e.item}return!1}function Wn(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(v(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),e(t,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(a=n[i])&&(r.push(o),Gn(i,r),r.push(":"),e(t,a,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Gn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Kn,e,t),t.join("")}function Kn(){}var Hn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Qn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Gn(e,t){t.push('"',e.replace(Qn,(function(e){var t=Hn[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Hn[e]=t),t})),'"')}function Yn(){var e=pr();return Ye&&!!it&&11==it||/Edge\/\d+/.test(e)}function Xn(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function $n(e,t){t=t||u.window;var n="about:blank";e&&(n=Dn(Pn(e)).toString()),t.location.href=n}function Jn(e){return!!((e=(e||pr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function Zn(e){e=e||u.window;try{e.close()}catch(t){}}function er(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=pr().toLowerCase(),r&&(t.target=r,ne(n,"crios/")&&(t.target="_blank")),fr(pr())==cr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof On?n:Pn("undefined"!=typeof n.href?n.href:String(n)),n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((ae("iPhone")&&!ae("iPod")&&!ae("iPad")||ae("iPad")||ae("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),t instanceof On||t instanceof On||(t="object"==typeof t&&t.na?t.ma():String(t),Nn.test(t)||(t="about:invalid#zClosurez"),t=Ln(t)),a.href=Dn(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=r.open("",n,a),e=Dn(t).toString(),a&&($e&&ne(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e=Fn('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+me(e)+'">'),a.document.write(function(e){return e instanceof Mn&&e.constructor===Mn&&e.b===jn?e.a:(D("expected object of type SafeHtml, got '"+e+"' of type "+p(e)),"type_error:SafeHtml")}(e)),a.document.close())):(a=r.open(Dn(t).toString(),n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var tr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nr=/^[^@]+@[^@]+$/;function rr(){var e=null;return new _e((function(t){"complete"==u.document.readyState?t():(e=function(){t()},Ct(window,"load",e))})).s((function(t){throw It(window,"load",e),t}))}function ir(e){return e=e||pr(),!("file:"!==br()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function or(){var e=u.window;try{return!(!e||e==e.top)}catch(t){return!1}}function ar(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function sr(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":ar()?"Worker":"Browser"}function ur(){var e=sr();return"ReactNative"===e||"Node"===e}var cr="Firefox",lr="Chrome";function fr(e){var t=e.toLowerCase();return ne(t,"opera/")||ne(t,"opr/")||ne(t,"opios/")?"Opera":ne(t,"iemobile")?"IEMobile":ne(t,"msie")||ne(t,"trident/")?"IE":ne(t,"edge/")?"Edge":ne(t,"firefox/")?cr:ne(t,"silk/")?"Silk":ne(t,"blackberry")?"Blackberry":ne(t,"webos")?"Webos":!ne(t,"safari/")||ne(t,"chrome/")||ne(t,"crios/")||ne(t,"android")?!ne(t,"chrome/")&&!ne(t,"crios/")||ne(t,"edge/")?ne(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":lr:"Safari"}var hr={Sc:"FirebaseCore-web",Uc:"FirebaseUI-web"};function dr(e,t){t=t||[];var n,r=[],i={};for(n in hr)i[hr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=sr())?r=fr(i=pr()):"Worker"===r&&(r=fr(i=pr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function pr(){return u.navigator&&u.navigator.userAgent||""}function mr(e,t){e=e.split("."),t=t||u;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function vr(){try{var e=u.localStorage,t=Er();if(e)return e.setItem(t,"1"),e.removeItem(t),!Yn()||!!u.indexedDB}catch(n){return ar()&&!!u.indexedDB}return!1}function yr(){return(gr()||"chrome-extension:"===br()||ir())&&!ur()&&vr()&&!ar()}function gr(){return"http:"===br()||"https:"===br()}function br(){return u.location&&u.location.protocol||null}function wr(e){return!Jn(e=e||pr())&&fr(e)!=cr}function _r(e){return"undefined"===typeof e?null:Wn(e)}function Tr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Sr(e){if(null!==e)return JSON.parse(e)}function Er(e){return e||Math.floor(1e9*Math.random()).toString()}function kr(e){return"Safari"!=fr(e=e||pr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Cr(){var e=u.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Ir(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=pr(),t=sr(),this.b=Jn(e)||"ReactNative"===t}function xr(){var e=u.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Ar(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Or(){return!(!mr("fireauth.oauthhelper",u)&&!mr("fireauth.iframe",u))}Ir.prototype.get=function(){var e=u.navigator;return!e||"boolean"!==typeof e.onLine||!gr()&&"chrome-extension:"!==br()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Dr,Nr={};function Pr(e){Nr[e]||(Nr[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Rr={};Object.defineProperty(Rr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Rr,"abcd",{configurable:!0,enumerable:!0,value:2}),Dr=2==Rr.abcd}catch(Po){Dr=!1}function Lr(e,t,n){Dr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Mr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Lr(e,n,t[n])}function jr(e){var t={};return Mr(t,e),t}function Fr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Lr(t,n,Fr(e[n]));return t}function Ur(e){var t={},n=e[qr],r=e[Vr];if(!(e=e[zr])||e!=Br&&!n)throw Error("Invalid provider user info!");t[Kr]=r||null,t[Wr]=n||null,Lr(this,Qr,e),Lr(this,Hr,Fr(t))}var Br="EMAIL_SIGNIN",qr="email",Vr="newEmail",zr="requestType",Wr="email",Kr="fromEmail",Hr="data",Qr="operation";function Gr(e,t){this.code=Xr+e,this.message=t||$r[e]||""}function Yr(e){var t=e&&e.code;return t?new Gr(t.substring(Xr.length),e.message):null}I(Gr,Error),Gr.prototype.w=function(){return{code:this.code,message:this.message}},Gr.prototype.toJSON=function(){return this.w()};var Xr="auth/",$r={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function Jr(e){var t=e[ri];if("undefined"===typeof t)throw new Gr("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new Gr("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Zr];if(n&&"object"===typeof n){t=n[ai];var r=n[ii];if(n=n[oi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new Gr("argument-error",ii+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new Gr("argument-error",oi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new Gr("argument-error",ai+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new Gr("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new Gr("argument-error",Zr+" property must be a non null object when specified.");if(this.f=null,(t=e[ni])&&"object"===typeof t){if("string"===typeof(t=t[si])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new Gr("argument-error",si+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new Gr("argument-error",ni+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[ti])&&"boolean"!==typeof t)throw new Gr("argument-error",ti+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[ei])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new Gr("argument-error",ei+" property must be a non empty string when specified.");this.i=e||null}var Zr="android",ei="dynamicLinkDomain",ti="handleCodeInApp",ni="iOS",ri="url",ii="installApp",oi="minimumVersion",ai="packageName",si="bundleId";function ui(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var ci=null,li=null;function fi(e){var t="";return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=li[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!ci){ci={},li={};for(var e=0;65>e;e++)ci[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),li[ci[e]]=e,62<=e&&(li["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t+=String.fromCharCode(e)})),t}function hi(e){this.c=e.sub,C(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function di(e){return(e=pi(e))&&e.sub&&e.iss&&e.aud&&e.exp?new hi(e):null}function pi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(fi(e))}catch(r){}return null}hi.prototype.f=function(){return this.b};var mi,vi={Yc:{ab:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},$c:{ab:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ad:{ab:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function yi(e){for(var t in vi)if(vi[t].id===e)return{firebaseEndpoint:(e=vi[t]).ab,secureTokenEndpoint:e.ib};return null}mi=yi("__EID__")?"__EID__":void 0;var gi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),bi=["client_id","response_type","scope","redirect_uri","state"],wi={Tc:{Oa:"locale",Ba:500,Aa:600,Pa:"facebook.com",hb:bi},Vc:{Oa:null,Ba:500,Aa:620,Pa:"github.com",hb:bi},Wc:{Oa:"hl",Ba:515,Aa:680,Pa:"google.com",hb:bi},bd:{Oa:"lang",Ba:485,Aa:705,Pa:"twitter.com",hb:gi}};function _i(e){for(var t in wi)if(wi[t].Pa==e)return wi[t];return null}function Ti(e){var t={};t["facebook.com"]=Ii,t["google.com"]=Ai,t["github.com"]=xi,t["twitter.com"]=Oi;var n=e&&e[Ei];try{if(n)return t[n]?new t[n](e):new Ci(e);if("undefined"!==typeof e[Si])return new ki(e)}catch(r){}return null}var Si="idToken",Ei="providerId";function ki(e){var t=e[Ei];if(!t&&e[Si]){var n=di(e[Si]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Lr(this,"providerId",t),Lr(this,"isNewUser",n)}function Ci(e){ki.call(this,e),Lr(this,"profile",Fr((e=Sr(e.rawUserInfo||"{}"))||{}))}function Ii(e){if(Ci.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function xi(e){if(Ci.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Lr(this,"username",this.profile&&this.profile.login||null)}function Ai(e){if(Ci.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Oi(e){if(Ci.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Lr(this,"username",e.screenName||null)}function Di(e){this.a=en(e)}function Ni(e){var t=en(e),n=Zt(t,"link"),r=Zt(en(n),"link");return t=Zt(t,"deep_link_id"),Zt(en(t),"link")||t||r||n||e}function Pi(){}function Ri(e,t){return e.then((function(e){if(e[Sa]){var n=di(e[Sa]);if(!n||t!=n.c)throw new Gr("user-mismatch");return e}throw new Gr("user-mismatch")})).s((function(e){throw e&&e.code&&e.code==Xr+"user-not-found"?new Gr("user-mismatch"):e}))}function Li(e,t){if(!t)throw new Gr("internal-error","failed to construct a credential");this.a=t,Lr(this,"providerId",e),Lr(this,"signInMethod",e)}function Mi(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function ji(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new Li(e.providerId,e.pendingToken)}catch(t){}return null}function Fi(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Lr(this,"idToken",t.idToken),t.accessToken&&Lr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Lr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new Gr("internal-error","failed to construct a credential");Lr(this,"accessToken",t.oauthToken),Lr(this,"secret",t.oauthTokenSecret)}Lr(this,"providerId",e),Lr(this,"signInMethod",n)}function Ui(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:dn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function Bi(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new Fi(e.providerId,t,e.signInMethod)}catch(n){}}return null}function qi(e,t){this.Dc=t||[],Mr(this,{providerId:e,isOAuthProvider:!0}),this.zb={},this.cb=(_i(e)||{}).Oa||null,this.$a=null}function Vi(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new Gr("argument-error",'SAML provider IDs must be prefixed with "saml."');qi.call(this,e,[])}function zi(e){qi.call(this,e,bi),this.a=[]}function Wi(){zi.call(this,"facebook.com")}function Ki(e){if(!e)throw new Gr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return b(e)&&(t=e.accessToken),(new Wi).credential({accessToken:t})}function Hi(){zi.call(this,"github.com")}function Qi(e){if(!e)throw new Gr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return b(e)&&(t=e.accessToken),(new Hi).credential({accessToken:t})}function Gi(){zi.call(this,"google.com"),this.ua("profile")}function Yi(e,t){var n=e;return b(e)&&(n=e.idToken,t=e.accessToken),(new Gi).credential({idToken:n,accessToken:t})}function Xi(){qi.call(this,"twitter.com",gi)}function $i(e,t){var n=e;if(b(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new Gr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Fi("twitter.com",n,"twitter.com")}function Ji(e,t,n){this.a=e,this.c=t,Lr(this,"providerId","password"),Lr(this,"signInMethod",n===eo.EMAIL_LINK_SIGN_IN_METHOD?eo.EMAIL_LINK_SIGN_IN_METHOD:eo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Zi(e){return e&&e.email&&e.password?new Ji(e.email,e.password,e.signInMethod):null}function eo(){Mr(this,{providerId:"password",isOAuthProvider:!1})}function to(e,t){if(!(t=no(t)))throw new Gr("argument-error","Invalid email link!");return new Ji(e,t,eo.EMAIL_LINK_SIGN_IN_METHOD)}function no(e){var t=Zt((e=new Di(e=Ni(e))).a,"oobCode")||null;return"signIn"===(Zt(e.a,"mode")||null)&&t?t:null}function ro(e){if(!(e.Ta&&e.Sa||e.Fa&&e.$))throw new Gr("internal-error");this.a=e,Lr(this,"providerId","phone"),Lr(this,"signInMethod","phone")}function io(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return U(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new ro(t)}return null}function oo(e){return e.a.Fa&&e.a.$?{temporaryProof:e.a.Fa,phoneNumber:e.a.$}:{sessionInfo:e.a.Ta,code:e.a.Sa}}function ao(e){try{this.a=e||r.a.auth()}catch(t){throw new Gr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Mr(this,{providerId:"phone",isOAuthProvider:!1})}function so(e,t){if(!e)throw new Gr("missing-verification-id");if(!t)throw new Gr("missing-verification-code");return new ro({Ta:e,Sa:t})}function uo(e){if(e.temporaryProof&&e.phoneNumber)return new ro({Fa:e.temporaryProof,$:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Yi(o,n);case"facebook.com":return Ki(n);case"github.com":return Qi(n);case"twitter.com":return $i(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new Li(t,a):new Fi(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new zi(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function co(e){if(!e.isOAuthProvider)throw new Gr("invalid-oauth-provider")}function lo(e,t,n,r,i,o){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.h=o||null,this.a=i||null,!this.g&&!this.a)throw new Gr("invalid-auth-event");if(this.g&&this.a)throw new Gr("invalid-auth-event");if(this.g&&!this.f)throw new Gr("invalid-auth-event")}function fo(e){return(e=e||{}).type?new lo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&Yr(e.error),e.postBody):null}function ho(){this.b=null,this.a=[]}I(Ci,ki),I(Ii,Ci),I(xi,Ci),I(Ai,Ci),I(Oi,Ci),Li.prototype.la=function(e){return qa(e,Mi(this))},Li.prototype.b=function(e,t){var n=Mi(this);return n.idToken=t,Va(e,n)},Li.prototype.f=function(e,t){return Ri(za(e,Mi(this)),t)},Li.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Fi.prototype.la=function(e){return qa(e,Ui(this))},Fi.prototype.b=function(e,t){var n=Ui(this);return n.idToken=t,Va(e,n)},Fi.prototype.f=function(e,t){return Ri(za(e,Ui(this)),t)},Fi.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},qi.prototype.Da=function(e){return this.zb=ce(e),this},I(Vi,qi),I(zi,qi),zi.prototype.ua=function(e){return V(this.a,e)||this.a.push(e),this},zi.prototype.Fb=function(){return H(this.a)},zi.prototype.credential=function(e,t){var n;if(!(n=b(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new Gr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Fi(this.providerId,n,this.providerId)},I(Wi,zi),Lr(Wi,"PROVIDER_ID","facebook.com"),Lr(Wi,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(Hi,zi),Lr(Hi,"PROVIDER_ID","github.com"),Lr(Hi,"GITHUB_SIGN_IN_METHOD","github.com"),I(Gi,zi),Lr(Gi,"PROVIDER_ID","google.com"),Lr(Gi,"GOOGLE_SIGN_IN_METHOD","google.com"),I(Xi,qi),Lr(Xi,"PROVIDER_ID","twitter.com"),Lr(Xi,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ji.prototype.la=function(e){return this.signInMethod==eo.EMAIL_LINK_SIGN_IN_METHOD?gs(e,$a,{email:this.a,oobCode:this.c}):gs(e,ps,{email:this.a,password:this.c})},Ji.prototype.b=function(e,t){return this.signInMethod==eo.EMAIL_LINK_SIGN_IN_METHOD?gs(e,Ja,{idToken:t,email:this.a,oobCode:this.c}):gs(e,us,{idToken:t,email:this.a,password:this.c})},Ji.prototype.f=function(e,t){return Ri(this.la(e),t)},Ji.prototype.w=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Mr(eo,{PROVIDER_ID:"password"}),Mr(eo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Mr(eo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),ro.prototype.la=function(e){return e.Ua(oo(this))},ro.prototype.b=function(e,t){var n=oo(this);return n.idToken=t,gs(e,vs,n)},ro.prototype.f=function(e,t){var n=oo(this);return n.operation="REAUTH",Ri(e=gs(e,ys,n),t)},ro.prototype.w=function(){var e={providerId:"phone"};return this.a.Ta&&(e.verificationId=this.a.Ta),this.a.Sa&&(e.verificationCode=this.a.Sa),this.a.Fa&&(e.temporaryProof=this.a.Fa),this.a.$&&(e.phoneNumber=this.a.$),e},ao.prototype.Ua=function(e,t){var n=this.a.c;return xe(t.verify()).then((function(r){if(!c(r))throw new Gr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return function(e,t){return gs(e,as,t)}(n,{phoneNumber:e,recaptchaToken:r}).then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}));default:throw new Gr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Mr(ao,{PROVIDER_ID:"phone"}),Mr(ao,{PHONE_SIGN_IN_METHOD:"phone"}),lo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.i&&e.push(this.i),e.join("-")},lo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,error:this.a&&this.a.w()}};var po,mo=null;function vo(e){var t="unauthorized-domain",n=void 0,r=en(e);e=r.b,"chrome-extension"==(r=r.f)?n=pe("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=pe("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",Gr.call(this,t,n)}function yo(e,t,n){Gr.call(this,e,n),(e=t||{}).Ab&&Lr(this,"email",e.Ab),e.$&&Lr(this,"phoneNumber",e.$),e.credential&&Lr(this,"credential",e.credential)}function go(e){if(e.code){var t=e.code||"";0==t.indexOf(Xr)&&(t=t.substring(Xr.length));var n={credential:uo(e)};if(e.email)n.Ab=e.email;else if(e.phoneNumber)n.$=e.phoneNumber;else if(!n.credential)return new Gr(t,e.message||void 0);return new yo(t,n,e.message)}return null}function bo(){}function wo(e){return e.c||(e.c=e.b())}function _o(){}function To(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function So(){}function Eo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.dc,this),this.a.onerror=E(this.Gb,this),this.a.onprogress=E(this.ec,this),this.a.ontimeout=E(this.ic,this)}function ko(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Co(e,t,n){this.reset(e,t,n,void 0,void 0)}ho.prototype.subscribe=function(e){var t=this;this.a.push(e),this.b||(this.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=mr("universalLinks.subscribe",u))&&e(null,this.b))},ho.prototype.unsubscribe=function(e){W(this.a,(function(t){return t==e}))},I(vo,Gr),I(yo,Gr),yo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber);var t=this.credential&&this.credential.w();return t&&de(e,t),e},yo.prototype.toJSON=function(){return this.w()},bo.prototype.c=null,I(_o,bo),_o.prototype.a=function(){var e=To(this);return e?new ActiveXObject(e):new XMLHttpRequest},_o.prototype.b=function(){var e={};return To(this)&&(e[0]=!0,e[1]=!0),e},po=new _o,I(So,bo),So.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Eo;throw Error("Unsupported browser")},So.prototype.b=function(){return{}},(t=Eo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},t.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},t.dc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ko(this,4)},t.Gb=function(){this.status=500,this.response=this.responseText="",ko(this,4)},t.ic=function(){this.Gb()},t.ec=function(){this.status=200,ko(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Co.prototype.a=null;function Io(e){this.f=e,this.b=this.c=this.a=null}function xo(e,t){this.name=e,this.value=t}Co.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||C(),delete this.a},xo.prototype.toString=function(){return this.name};var Ao=new xo("SEVERE",1e3),Oo=new xo("WARNING",900),Do=new xo("CONFIG",700),No=new xo("FINE",500);Io.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(D("Root logger has no level set."),null)}(this).value)for(g(t)&&(t=t()),e=new Co(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var Po,Ro={},Lo=null;function Mo(e){var t;if(Lo||(Lo=new Io(""),Ro[""]=Lo,Lo.c=Do),!(t=Ro[e])){t=new Io(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=Mo(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,Ro[e]=t}return t}function jo(e,t){e&&e.log(No,t,void 0)}function Fo(e){this.f=e}function Uo(e){Mt.call(this),this.u=e,this.readyState=Bo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.o="GET",this.g="",this.a=!1,this.h=Mo("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}I(Fo,bo),Fo.prototype.a=function(){return new Uo(this.f)},Fo.prototype.b=(Po={},function(){return Po}),I(Uo,Mt);var Bo=0;function qo(e){e.c.read().then(e.cc.bind(e)).catch(e.Ma.bind(e))}function Vo(e,t){t&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,zo(e)}function zo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Wo(e){Mt.call(this),this.headers=new Wt,this.D=e||null,this.c=!1,this.A=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=Ko,this.v=this.O=!1}(t=Uo.prototype).open=function(e,t){if(this.readyState!=Bo)throw this.abort(),Error("Error reopening a connection");this.o=e,this.g=t,this.readyState=1,zo(this)},t.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.i,method:this.o,credentials:void 0,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.g,t)).then(this.hc.bind(this),this.Ma.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Vo(this,!1)),this.readyState=Bo},t.hc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,zo(this)),this.a&&(this.readyState=3,zo(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.fc.bind(this),this.Ma.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,qo(this)):e.text().then(this.gc.bind(this),this.Ma.bind(this)))))},t.cc=function(e){if(this.a){var t=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Vo(this,!0):zo(this),3==this.readyState&&qo(this)}},t.gc=function(e){this.a&&(this.response=this.responseText=e,Vo(this,!0))},t.fc=function(e){this.a&&(this.response=e,Vo(this,!0))},t.Ma=function(e){var t=this.h;t&&t.log(Oo,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&Vo(this,!0)},t.setRequestHeader=function(e,t){this.i.append(e,t)},t.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(Oo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(Oo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},I(Wo,Mt);var Ko="";Wo.prototype.b=Mo("goog.net.XhrIo");var Ho=/^https?$/i,Qo=["POST","PUT"];function Go(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.N=n,e.G=!1,e.c=!0,e.a=e.D?e.D.a():po.a(),e.A=e.D?wo(e.D):wo(po),e.a.onreadystatechange=E(e.Jb,e);try{jo(e.b,ra(e,"Opening Xhr")),e.I=!0,e.a.open(n,String(t),!0),e.I=!1}catch(a){return jo(e.b,ra(e,"Error opening Xhr: "+a.message)),void Xo(e,a)}t=r||"";var o=new Wt(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(y(e)||c(e))U(e,t,void 0);else for(var n=zt(e),r=Vt(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Yo,n=e.length,r=c(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:c(e)?e.charAt(t):e[t]}(o.U()),r=u.FormData&&t instanceof u.FormData,!V(Qo,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.o&&(e.a.responseType=e.o),"withCredentials"in e.a&&e.a.withCredentials!==e.O&&(e.a.withCredentials=e.O);try{ea(e),0<e.g&&(e.v=function(e){return Ye&&at(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),jo(e.b,ra(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.v)),e.v?(e.a.timeout=e.g,e.a.ontimeout=E(e.Ga,e)):e.u=Bt(e.Ga,e.g,e)),jo(e.b,ra(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){jo(e.b,ra(e,"Send error: "+a.message)),Xo(e,a)}}function Yo(e){return"content-type"==e.toLowerCase()}function Xo(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,$o(e),Zo(e)}function $o(e){e.G||(e.G=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Jo(e){if(e.c&&"undefined"!=typeof s)if(e.A[1]&&4==ta(e)&&2==na(e))jo(e.b,ra(e,"Local request error detected and ignored"));else if(e.i&&4==ta(e))Bt(e.Jb,0,e);else if(e.dispatchEvent("readystatechange"),4==ta(e)){jo(e.b,ra(e,"Request complete")),e.c=!1;try{var t,n=na(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Qt)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ho.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<ta(e)?e.a.statusText:""}catch(l){jo(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+na(e)+"]",$o(e)}}finally{Zo(e)}}}function Zo(e,t){if(e.a){ea(e);var n=e.a,r=e.A[0]?d:null;e.a=null,e.A=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(Ao,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function ea(e){e.a&&e.v&&(e.a.ontimeout=null),e.u&&(u.clearTimeout(e.u),e.u=null)}function ta(e){return e.a?e.a.readyState:0}function na(e){try{return 2<ta(e)?e.a.status:-1}catch(t){return-1}}function ra(e,t){return t+" ["+e.N+" "+e.l+" "+na(e)+"]"}function ia(e){var t=ma;this.g=[],this.v=t,this.u=e||null,this.f=this.a=!1,this.c=void 0,this.l=this.A=this.i=!1,this.h=0,this.b=null,this.m=0}function oa(e,t,n){e.a=!0,e.c=n,e.f=!t,ca(e)}function aa(e){if(e.a){if(!e.l)throw new la(e);e.l=!1}}function sa(e,t,n,r){e.g.push([t,n,r]),e.a&&ca(e)}function ua(e){return q(e.g,(function(e){return g(e[1])}))}function ca(e){if(e.h&&e.a&&ua(e)){var t=e.h,n=da[t];n&&(u.clearTimeout(n.a),delete da[t]),e.h=0}e.b&&(e.b.m--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.u,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(x(t)||"function"===typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,ua(e)||(n=!0)}}e.c=t,r&&(s=E(e.o,e,!0),r=E(e.o,e,!1),t instanceof ia?(sa(t,s,r),t.A=!0):t.then(s,r)),n&&(t=new ha(t),da[t.a]=t,e.h=t.a)}function la(){A.call(this)}function fa(){A.call(this)}function ha(e){this.a=u.setTimeout(E(this.c,this),0),this.b=e}(t=Wo.prototype).Ga=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",jo(this.b,ra(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(jo(this.b,ra(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Zo(this))},t.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Zo(this,!0)),Wo.qb.va.call(this)},t.Jb=function(){this.qa||(this.I||this.i||this.f?Jo(this):this.wc())},t.wc=function(){Jo(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case Ko:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Ao,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(t){return jo(this.b,"Can not get response: "+t.message),null}},ia.prototype.cancel=function(e){if(this.a)this.c instanceof ia&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.m--,0>=t.m&&t.cancel())}this.v?this.v.call(this.u,this):this.l=!0,this.a||(e=new fa(this),aa(this),oa(this,!1,e))}},ia.prototype.o=function(e,t){this.i=!1,oa(this,e,t)},ia.prototype.then=function(e,t,n){var r,i,o=new _e((function(e,t){r=e,i=t}));return sa(this,r,(function(e){e instanceof fa?o.cancel():i(e)})),o.then(e,t,n)},ia.prototype.$goog_Thenable=!0,I(la,A),la.prototype.message="Deferred has already fired",la.prototype.name="AlreadyCalledError",I(fa,A),fa.prototype.message="Deferred was canceled",fa.prototype.name="CanceledError",ha.prototype.c=function(){throw delete da[this.a],this.b};var da={};function pa(e){var t={},n=t.document||document,r=kn(e).toString(),i=document.createElement("SCRIPT"),o={Lb:i,Ga:void 0},a=new ia(o),s=null,c=null!=t.timeout?t.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){va(i,!0);var e=new ba(ga,"Timeout reached for loading script "+r);aa(a),oa(a,!1,e)}),c),o.Ga=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(va(i,t.dd||!1,s),aa(a),oa(a,!0,null))},i.onerror=function(){va(i,!0,s);var e=new ba(ya,"Error while loading script "+r);aa(a),oa(a,!1,e)},de(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Bn(i,o),function(e,t){e.src=kn(t),null===h&&(h=(t=(t=u.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&f.test(t)?t:""),(t=h)&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function ma(){if(this&&this.Lb){var e=this.Lb;e&&"SCRIPT"==e.tagName&&va(e,!0,this.Ga)}}function va(e,t,n){null!=n&&u.clearTimeout(n),e.onload=d,e.onerror=d,e.onreadystatechange=d,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var ya=0,ga=1;function ba(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),A.call(this,n),this.code=e}function wa(e){this.f=e}function _a(e,t,n){if(this.b=e,e=t||{},this.i=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Ea,this.f=ce(e.secureTokenHeaders||ka),this.g=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=e.firebaseTimeout||Ca,this.a=ce(e.firebaseHeaders||Ia),n&&(this.a["X-Client-Version"]=n,this.f["X-Client-Version"]=n),n="Node"==sr(),!(n=u.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!ar())throw new Gr("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,ar()?this.c=new Fo(self):ur()?this.c=new wa(n):this.c=new So}I(ba,A),I(wa,bo),wa.prototype.a=function(){return new this.f},wa.prototype.b=function(){return{}};var Ta,Sa="idToken",Ea=new Ir(3e4,6e4),ka={"Content-Type":"application/x-www-form-urlencoded"},Ca=new Ir(3e4,6e4),Ia={"Content-Type":"application/json"};function xa(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Aa(e,t){t?(e.a["X-Client-Version"]=t,e.f["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.f["X-Client-Version"])}function Oa(e,t,n,r,i,o,a){(function(){var e=pr();return!((e=fr(e)!=lr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Ye||!it||9<it)})()||ar()?e=E(e.o,e):(Ta||(Ta=new _e((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{u[Na]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){sa(e,null,t,void 0)}(pa(Cn(Da,{onload:Na})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=E(e.l,e)),e(t,n,r,i,o,a)}_a.prototype.o=function(e,t,n,r,i,o){if(ar()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new Gr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Wo(this.c);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}jt(a,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return jo(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),Ft(a,"ready",(function(){s&&clearTimeout(s),Ke(this)})),Ft(a,"timeout",(function(){s&&clearTimeout(s),Ke(this),t&&t(null)})),Go(a,e,n,r,i)};var Da=new wn(Sn,"https://apis.google.com/js/client.js?onload=%{onload}"),Na="__fcb"+Math.floor(1e6*Math.random()).toString();function Pa(e){if(!c(e=e.email)||!nr.test(e))throw new Gr("invalid-email")}function Ra(e){"email"in e&&Pa(e)}function La(e){if(!e[Sa])throw new Gr("internal-error")}function Ma(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new Gr("internal-error")}else{if(!e.sessionInfo)throw new Gr("missing-verification-id");if(!e.code)throw new Gr("missing-verification-code")}}_a.prototype.l=function(e,t,n,r,i){var o=this;Ta.then((function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).s((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},_a.prototype.ob=function(){return gs(this,cs,{})},_a.prototype.rb=function(e,t){return gs(this,ss,{idToken:e,email:t})},_a.prototype.sb=function(e,t){return gs(this,us,{idToken:e,password:t})};var ja={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Fa(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new Gr("internal-error")}function Ua(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(mn(e=new fn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Ba(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=go(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=go(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=go(e)):e.errorMessage&&(t=bs(e.errorMessage)),t)throw t;if(!e[Sa])throw new Gr("internal-error")}function qa(e,t){return t.returnIdpCredential=!0,gs(e,ls,t)}function Va(e,t){return t.returnIdpCredential=!0,gs(e,hs,t)}function za(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,gs(e,fs,t)}function Wa(e){if(!e.oobCode)throw new Gr("invalid-action-code")}(t=_a.prototype).tb=function(e,t){var n={idToken:e},r=[];return se(ja,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),gs(this,ss,n)},t.kb=function(e,t){return de(e={requestType:"PASSWORD_RESET",email:e},t),gs(this,ns,e)},t.lb=function(e,t){return de(e={requestType:"EMAIL_SIGNIN",email:e},t),gs(this,es,e)},t.jb=function(e,t){return de(e={requestType:"VERIFY_EMAIL",idToken:e},t),gs(this,ts,e)},t.Ua=function(e){return gs(this,ms,e)},t.Za=function(e,t){return gs(this,os,{oobCode:e,newPassword:t})},t.Ka=function(e){return gs(this,Ha,{oobCode:e})},t.Wa=function(e){return gs(this,Ka,{oobCode:e})};var Ka={endpoint:"setAccountInfo",C:Wa,da:"email"},Ha={endpoint:"resetPassword",C:Wa,J:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t)throw new Gr("internal-error")}},Qa={endpoint:"signupNewUser",C:function(e){if(Pa(e),!e.password)throw new Gr("weak-password")},J:La,R:!0},Ga={endpoint:"createAuthUri"},Ya={endpoint:"deleteAccount",T:["idToken"]},Xa={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],C:function(e){if(!v(e.deleteProvider))throw new Gr("internal-error")}},$a={endpoint:"emailLinkSignin",T:["email","oobCode"],C:Pa,J:La,R:!0},Ja={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],C:Pa,J:La,R:!0},Za={endpoint:"getAccountInfo"},es={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new Gr("internal-error");Pa(e)},da:"email"},ts={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],C:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new Gr("internal-error")},da:"email"},ns={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(e){if("PASSWORD_RESET"!=e.requestType)throw new Gr("internal-error");Pa(e)},da:"email"},rs={wb:!0,endpoint:"getProjectConfig",Ib:"GET"},is={wb:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(e){if(!e.recaptchaSiteKey)throw new Gr("internal-error")}},os={endpoint:"resetPassword",C:Wa,da:"email"},as={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},ss={endpoint:"setAccountInfo",T:["idToken"],C:Ra,R:!0},us={endpoint:"setAccountInfo",T:["idToken"],C:function(e){if(Ra(e),!e.password)throw new Gr("weak-password")},J:La,R:!0},cs={endpoint:"signupNewUser",J:La,R:!0},ls={endpoint:"verifyAssertion",C:Fa,Qa:Ua,J:Ba,R:!0},fs={endpoint:"verifyAssertion",C:Fa,Qa:Ua,J:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new Gr("user-not-found");if(e.errorMessage)throw bs(e.errorMessage);if(!e[Sa])throw new Gr("internal-error")},R:!0},hs={endpoint:"verifyAssertion",C:function(e){if(Fa(e),!e.idToken)throw new Gr("internal-error")},Qa:Ua,J:Ba,R:!0},ds={endpoint:"verifyCustomToken",C:function(e){if(!e.token)throw new Gr("invalid-custom-token")},J:La,R:!0},ps={endpoint:"verifyPassword",C:function(e){if(Pa(e),!e.password)throw new Gr("wrong-password")},J:La,R:!0},ms={endpoint:"verifyPhoneNumber",C:Ma,J:La},vs={endpoint:"verifyPhoneNumber",C:function(e){if(!e.idToken)throw new Gr("internal-error");Ma(e)},J:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",go(e);La(e)}},ys={Wb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",C:Ma,J:La};function gs(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.T))return Ae(new Gr("internal-error"));var r,i=t.Ib||"POST";return xe(n).then(t.C).then((function(){return t.R&&(n.returnSecureToken=!0),function(e,t,n,r,i,o){var a=en(e.g+t);Jt(a,"key",e.b),o&&Jt(a,"cb",C().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&Jt(a,u,r[u]);return new _e((function(t,o){Oa(e,a.toString(),(function(e){e?e.error?o(ws(e,i||{})):t(e):o(new Gr("network-request-failed"))}),n,s?void 0:Wn(Tr(r)),e.a,e.h.get())}))}(e,t.endpoint,i,n,t.Wb,t.wb||!1)})).then((function(e){return r=e,t.Qa?t.Qa(n,r):r})).then(t.J).then((function(){if(!t.da)return r;if(!(t.da in r))throw new Gr("internal-error");return r[t.da]}))}function bs(e){return ws({error:{errors:[{message:e}],code:400,message:e}})}function ws(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Gr(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",de(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new Gr(r[i],t);return!t&&e&&(t=_r(e)),new Gr("internal-error",t)}function _s(e){this.b=e,this.a=null,this.fb=function(e){return(ks||(ks=new _e((function(e,t){function n(){Cr(),mr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Cr(),t(Error("Network Error"))},timeout:Ss.get()})}if(mr("gapi.iframes.Iframe"))e();else if(mr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){mr("gapi.load")?n():t(Error("Network Error"))},xe(pa(r=Cn(Ts,{onload:r}))).s((function(){t(Error("Network Error"))}))}})).s((function(e){throw ks=null,e})))).then((function(){return new _e((function(t,n){mr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:mr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Es.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Ts=new wn(Sn,"https://apis.google.com/js/api.js?onload=%{onload}"),Ss=new Ir(3e4,6e4),Es=new Ir(5e3,15e3),ks=null;function Cs(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=tn(this.i,"/__/auth/iframe"),Jt(this.a,"apiKey",this.g),Jt(this.a,"appName",this.h),this.b=null,this.c=[]}function Is(e,t,n,r,i){this.o=e,this.l=t,this.c=n,this.m=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function xs(e){try{return r.a.app(e).auth().ya()}catch(t){return[]}}function As(e,t,n,r,i){this.l=e,this.f=t,this.b=n,this.c=r||null,this.h=i||null,this.o=this.u=this.v=null,this.g=[],this.m=this.a=null}function Os(e){var t=Xn();return function(e){return gs(e,rs,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=en(t),r=n.f;n=n.b;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=en(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:tr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new vo(Xn())}))}function Ds(e){return e.m?e.m:(e.m=rr().then((function(){if(!e.u){var t=e.c,n=e.h,r=xs(e.b),i=new Cs(e.l,e.f,e.b);i.f=t,i.b=n,i.c=H(r||[]),e.u=i.toString()}e.i=new _s(e.u),function(e){if(!e.i)throw Error("IfcHandler must be initialized!");!function(e,t){e.fb.then((function(){e.a.register("authEvent",t,mr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.i,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=fo(t.authEvent),n=0;n<e.g.length;n++)r=e.g[n](t)||r;return(n={}).status=r?"ACK":"ERROR",xe(n)}return n.status="ERROR",xe(n)}))}(e)})),e.m)}function Ns(e){return e.o||(e.v=e.c?dr(e.c,xs(e.b)):null,e.o=new _a(e.f,yi(e.h),e.v)),e.o}function Ps(e,t,n,r,i,o,a,s,u,c){return(e=new Is(e,t,n,r,i)).i=o,e.g=a,e.h=s,e.b=ce(u||null),e.f=c,e.toString()}function Rs(e){if(this.a=e||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Gr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Ls(e){this.b=e,this.a={},this.c=E(this.f,this)}Cs.prototype.toString=function(){return this.f?Jt(this.a,"v",this.f):pn(this.a.a,"v"),this.b?Jt(this.a,"eid",this.b):pn(this.a.a,"eid"),this.c.length?Jt(this.a,"fw",this.c.join(",")):pn(this.a.a,"fw"),this.a.toString()},Is.prototype.toString=function(){var e=tn(this.o,"/__/auth/handler");if(Jt(e,"apiKey",this.l),Jt(e,"appName",this.c),Jt(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=r.a.app(this.c).auth().ea()}catch(u){n=null}for(var i in t.$a=n,Jt(e,"providerId",this.a.providerId),n=Tr((t=this.a).zb))n[i]=n[i].toString();i=t.Dc,n=ce(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}t.cb&&t.$a&&!n[t.cb]&&(n[t.cb]=t.$a),ue(n)||Jt(e,"customParameters",_r(n))}if("function"===typeof this.a.Fb&&((t=this.a.Fb()).length&&Jt(e,"scopes",t.join(","))),this.i?Jt(e,"redirectUrl",this.i):pn(e.a,"redirectUrl"),this.g?Jt(e,"eventId",this.g):pn(e.a,"eventId"),this.h?Jt(e,"v",this.h):pn(e.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Zt(e,s)&&Jt(e,s,this.b[s]);return this.f?Jt(e,"eid",this.f):pn(e.a,"eid"),(s=xs(this.c)).length&&Jt(e,"fw",s.join(",")),e.toString()},(t=As.prototype).Ea=function(e,t,n){var r=new Gr("popup-closed-by-user"),i=new Gr("web-storage-unsupported"),o=this,a=!1;return this.ga().then((function(){(function(e){var t={type:"webStorageSupport"};return Ds(e).then((function(){return function(e,t){return e.fb.then((function(){return new _e((function(n){e.a.send(t.type,t,n,mr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.i,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&Zn(e),t(i),a=!0)}))})).s((function(){})).then((function(){if(!a)return function(e){return new _e((function(t){return function n(){qt(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return qt(n).then((function(){t(r)}))}))},t.Mb=function(){var e=pr();return!wr(e)&&!kr(e)},t.Hb=function(){return!1},t.Db=function(e,t,n,r,i,o,a){if(!e)return Ae(new Gr("popup-blocked"));if(a&&!wr())return this.ga().s((function(t){Zn(e),i(t)})),r(),xe();this.a||(this.a=Os(Ns(this)));var s=this;return this.a.then((function(){var t=s.ga().s((function(t){throw Zn(e),i(t),t}));return r(),t})).then((function(){(co(n),a)||$n(Ps(s.l,s.f,s.b,t,n,null,o,s.c,void 0,s.h),e)})).s((function(e){throw"auth/network-request-failed"==e.code&&(s.a=null),e}))},t.Ca=function(e,t,n){this.a||(this.a=Os(Ns(this)));var r=this;return this.a.then((function(){co(t),$n(Ps(r.l,r.f,r.b,e,t,Xn(),n,r.c,void 0,r.h))})).s((function(e){throw"auth/network-request-failed"==e.code&&(r.a=null),e}))},t.ga=function(){var e=this;return Ds(this).then((function(){return e.i.fb})).s((function(){throw e.a=null,new Gr("network-request-failed")}))},t.Pb=function(){return!0},t.wa=function(e){this.g.push(e)},t.La=function(e){W(this.g,(function(t){return t==e}))},(t=Rs.prototype).get=function(e){return xe(this.a.getItem(e)).then((function(e){return e&&Sr(e)}))},t.set=function(e,t){return xe(this.a.setItem(e,_r(t)))},t.P=function(e){return xe(this.a.removeItem(e))},t.Y=function(){},t.ca=function(){};var Ms,js=[];function Fs(e){this.a=e}function Us(e){this.c=e,this.b=!1,this.a=[]}function Bs(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Ae(Error("connection_unavailable"));var l=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new _e((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:f,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),f.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(t){return qs(e,c),t})).s((function(t){throw qs(e,c),t}))}function qs(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),W(e.a,(function(e){return e==t}))}}function Vs(){if(!Ks())throw new Gr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.l=u.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.i=null,this.u=!1,this.h=null;var e=this;ar()&&self?(this.m=function(){var e=ar()?self:null;if(U(js,(function(n){n.b==e&&(t=n)})),!t){var t=new Ls(e);js.push(t)}return t}(),this.m.subscribe("keyChanged",(function(t,n){return Xs(e).then((function(t){return 0<t.length&&U(e.a,(function(e){e(t)})),{keyProcessed:V(t,n.key)}}))})),this.m.subscribe("ping",(function(){return xe(["keyChanged"])}))):function(){var e=u.navigator;return e&&e.serviceWorker?xe().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).s((function(){return null})):xe(null)}().then((function(t){(e.h=t)&&(e.g=new Us(new Fs(t)),Bs(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&V(t[0].value,"keyChanged")&&(e.u=!0)})).s((function(){})))}))}function zs(e){return new _e((function(t,n){var r=e.l.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new _e((function(t,n){var r=e.l.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return zs(e)})).then((function(e){t(e)})).s((function(e){n(e)}))}}))}function Ws(e){return e.o||(e.o=zs(e)),e.o}function Ks(){try{return!!u.indexedDB}catch(Po){return!1}}function Hs(e){return e.objectStore("firebaseLocalStorage")}function Qs(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Gs(e){return new _e((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Ys(e,t){return e.g&&e.h&&function(){var e=u.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Bs(e.g,"keyChanged",{key:t},e.u).then((function(){})).s((function(){})):xe()}function Xs(e){return Ws(e).then((function(e){var t=Hs(Qs(e,!1));return t.getAll?Gs(t.getAll()):new _e((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?i.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r}))}function $s(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Js(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=xe().then((function(){if(Ks()){var e=Er(),r="__sak"+e;return Ms||(Ms=new Vs),(n=Ms).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.P(r)})).then((function(){return n})).s((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.Y((function(e){U(t.a,(function(t){t(e)}))})),e}))}function Zs(){this.a={},this.type="inMemory"}function eu(){if(!function(){var e="Node"==sr();if(!(e=tu()||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==sr())throw new Gr("internal-error","The LocalStorage compatibility library was not found.");throw new Gr("web-storage-unsupported")}this.a=tu()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function tu(){try{var e=u.localStorage,t=Er();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function nu(){this.type="nullStorage"}function ru(){if(!function(){var e="Node"==sr();if(!(e=iu()||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==sr())throw new Gr("internal-error","The SessionStorage compatibility library was not found.");throw new Gr("web-storage-unsupported")}this.a=iu()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function iu(){try{var e=u.sessionStorage,t=Er();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function ou(){var e={};e.Browser=uu,e.Node=cu,e.ReactNative=lu,e.Worker=fu,this.a=e[sr()]}Ls.prototype.f=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];U(r,(function(t){i.push(xe().then((function(){return t(e.origin,e.data.data)})))})),De(i).then((function(r){var i=[];U(r,(function(e){i.push({fulfilled:e.Eb,value:e.value,reason:e.reason?e.reason.message:void 0})})),U(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Ls.prototype.subscribe=function(e,t){ue(this.a)&&this.b.addEventListener("message",this.c),"undefined"===typeof this.a[e]&&(this.a[e]=[]),this.a[e].push(t)},Ls.prototype.unsubscribe=function(e,t){"undefined"!==typeof this.a[e]&&t?(W(this.a[e],(function(e){return e==t})),0==this.a[e].length&&delete this.a[e]):t||delete this.a[e],ue(this.a)&&this.b.removeEventListener("message",this.c)},Fs.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Us.prototype.close=function(){for(;0<this.a.length;)qs(this,this.a[0]);this.b=!0},(t=Vs.prototype).set=function(e,t){var n,r=!1,i=this;return Ws(this).then((function(t){return Gs((t=Hs(Qs(n=t,!0))).get(e))})).then((function(o){var a=Hs(Qs(n,!0));return o?(o.value=t,Gs(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=e,o.value=t,Gs(a.add(o)))})).then((function(){return i.c[e]=t,Ys(i,e)})).ia((function(){r&&i.b--}))},t.get=function(e){return Ws(this).then((function(t){return Gs(Hs(Qs(t,!1)).get(e))})).then((function(e){return e&&e.value}))},t.P=function(e){var t=!1,n=this;return Ws(this).then((function(r){return t=!0,n.b++,Gs(Hs(Qs(r,!0)).delete(e))})).then((function(){return delete n.c[e],Ys(n,e)})).ia((function(){t&&n.b--}))},t.Y=function(e){0==this.a.length&&function(e){$s(e),function t(){e.f=setTimeout((function(){e.i=Xs(e).then((function(t){0<t.length&&U(e.a,(function(e){e(t)}))})).then((function(){t()})).s((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},t.ca=function(e){W(this.a,(function(t){return t==e})),0==this.a.length&&$s(this)},(t=Js.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},t.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},t.P=function(e){return this.b.then((function(t){return t.P(e)}))},t.Y=function(e){this.a.push(e)},t.ca=function(e){W(this.a,(function(t){return t==e}))},(t=Zs.prototype).get=function(e){return xe(this.a[e])},t.set=function(e,t){return this.a[e]=t,xe()},t.P=function(e){return delete this.a[e],xe()},t.Y=function(){},t.ca=function(){},(t=eu.prototype).get=function(e){var t=this;return xe().then((function(){return Sr(t.a.getItem(e))}))},t.set=function(e,t){var n=this;return xe().then((function(){var r=_r(t);null===r?n.P(e):n.a.setItem(e,r)}))},t.P=function(e){var t=this;return xe().then((function(){t.a.removeItem(e)}))},t.Y=function(e){u.window&&Et(u.window,"storage",e)},t.ca=function(e){u.window&&It(u.window,"storage",e)},(t=nu.prototype).get=function(){return xe(null)},t.set=function(){return xe()},t.P=function(){return xe()},t.Y=function(){},t.ca=function(){},(t=ru.prototype).get=function(e){var t=this;return xe().then((function(){return Sr(t.a.getItem(e))}))},t.set=function(e,t){var n=this;return xe().then((function(){var r=_r(t);null===r?n.P(e):n.a.setItem(e,r)}))},t.P=function(e){var t=this;return xe().then((function(){t.a.removeItem(e)}))},t.Y=function(){},t.ca=function(){};var au,su,uu={B:eu,Ra:ru},cu={B:eu,Ra:ru},lu={B:Rs,Ra:nu},fu={B:eu,Ra:nu},hu={Xc:"local",NONE:"none",Zc:"session"};function du(){var e=!(kr(pr())||!or()),t=wr(),n=vr();this.o=e,this.h=t,this.m=n,this.a={},au||(au=new ou),e=au;try{this.g=!Yn()&&Or()||!u.indexedDB?new e.a.B:new Js(ar()?new Zs:new e.a.B)}catch(r){this.g=new Zs,this.h=!0}try{this.i=new e.a.Ra}catch(r){this.i=new Zs}this.l=new Zs,this.f=E(this.Ob,this),this.b={}}function pu(){return su||(su=new du),su}function mu(e,t){switch(t){case"session":return e.i;case"none":return e.l;default:return e.g}}function vu(e,t){return"firebase:"+e.name+(t?":"+t:"")}function yu(e,t,n){return n=vu(t,n),"local"==t.B&&(e.b[n]=null),mu(e,t.B).P(n)}function gu(e){e.c&&(clearInterval(e.c),e.c=null)}function bu(e){this.a=e,this.b=pu()}(t=du.prototype).get=function(e,t){return mu(this,e.B).get(vu(e,t))},t.set=function(e,t,n){var r=vu(e,n),i=this,o=mu(this,e.B);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.B&&(i.b[r]=t)}))},t.addListener=function(e,t,n){e=vu(e,t),this.m&&(this.b[e]=u.localStorage.getItem(e)),ue(this.a)&&(mu(this,"local").Y(this.f),this.h||(Yn()||!Or())&&u.indexedDB||!this.m||function(e){gu(e),e.c=setInterval((function(){for(var t in e.a){var n=u.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new dt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Ob(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},t.removeListener=function(e,t,n){e=vu(e,t),this.a[e]&&(W(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),ue(this.a)&&(mu(this,"local").ca(this.f),gu(this))},t.Ob=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Xa(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?mu(this,"local").ca(this.f):gu(this),this.o)if(n=u.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?u.localStorage.setItem(t,r):u.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===u.localStorage.getItem(t)||(o.b[t]=u.localStorage.getItem(t),o.Xa(t))},Ye&&it&&10==it&&u.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else U(e,E(this.Xa,this))},t.Xa=function(e){this.a[e]&&U(this.a[e],(function(e){e()}))};var wu,_u={name:"authEvent",B:"local"};function Tu(){this.a=pu()}function Su(e,t){this.b=Eu,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.m=u.Int32Array?new Int32Array(64):Array(64),void 0!==wu||(wu=u.Int32Array?new Int32Array(Du):Du),this.reset()}I(Su,(function(){this.b=-1}));for(var Eu=64,ku=Eu-1,Cu=[],Iu=0;Iu<ku;Iu++)Cu[Iu]=0;var xu=K(128,Cu);function Au(e){for(var t=e.f,n=e.m,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],f=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&f)+(0|wu[t])|0)+(0|n[t])|0)|0,o=f,f=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+o|0}function Ou(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if(c(t))for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(Au(e),i=0);else{if(!y(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(Au(e),i=0)}}e.c=i,e.g+=n}Su.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):H(this.h)};var Du=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Nu(){Su.call(this,8,Pu)}I(Nu,Su);var Pu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ru(e,t,n,r,i){this.l=e,this.i=t,this.m=n,this.o=r||null,this.u=i||null,this.h=t+":"+n,this.v=new Tu,this.g=new bu(this.h),this.f=null,this.b=[],this.a=this.c=null}function Lu(e){return new Gr("invalid-cordova-configuration",e)}function Mu(e){var t=new Nu;Ou(t,e),e=[];var n=8*t.g;56>t.c?Ou(t,xu,56-t.c):Ou(t,xu,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(Au(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return B(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function ju(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Fu(e){return e.f||(e.f=e.ga().then((function(){return new _e((function(t){e.wa((function n(r){return t(r),e.La(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Uu(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=Ni(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Sr(Zt(o=en(i),"firebaseError")||null))?Yr(o):null)?new lo(r.c,r.b,null,null,o):new lo(r.c,r.b,i,r.f)),i=o||n}ju(e,i)}))}var n=new lo("unknown",null,null,null,new Gr("no-auth-event")),r=!1,i=qt(500).then((function(){return Uu(e).then((function(){r||ju(e,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(mr("BuildInfo.packageName",u).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(n){console.error(n)}},mo||(mo=new ho),mo.subscribe(t)}(e)}))}))),e.f}function Uu(e){var t=null;return function(e){return e.b.get(_u,e.a).then((function(e){return fo(e)}))}(e.g).then((function(n){return t=n,yu((n=e.g).b,_u,n.a)})).then((function(){return t}))}function Bu(e){this.a=e,this.b=pu()}(t=Ru.prototype).ga=function(){return this.za?this.za:this.za=(ir(void 0)?rr().then((function(){return new _e((function(e,t){var n=u.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof mr("universalLinks.subscribe",u))throw Lu("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof mr("BuildInfo.packageName",u))throw Lu("cordova-plugin-buildinfo is not installed");if("function"!==typeof mr("cordova.plugins.browsertab.openUrl",u))throw Lu("cordova-plugin-browsertab is not installed");if("function"!==typeof mr("cordova.InAppBrowser.open",u))throw Lu("cordova-plugin-inappbrowser is not installed")}),(function(){throw new Gr("cordova-not-ready")}))},t.Ea=function(e,t){return t(new Gr("operation-not-supported-in-this-environment")),xe()},t.Db=function(){return Ae(new Gr("operation-not-supported-in-this-environment"))},t.Pb=function(){return!1},t.Mb=function(){return!0},t.Hb=function(){return!0},t.Ca=function(e,t,n){if(this.c)return Ae(new Gr("redirect-operation-pending"));var r=this,i=u.document,o=null,a=null,s=null,c=null;return this.c=xe().then((function(){return co(t),Fu(r)})).then((function(){return function(e,t,n,r){var i=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),o=new lo(t,r,null,i,new Gr("no-auth-event")),a=mr("BuildInfo.packageName",u);if("string"!==typeof a)throw new Gr("invalid-cordova-configuration");var s=mr("BuildInfo.displayName",u),c={};if(pr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=a;else{if(!pr().toLowerCase().match(/android/))return Ae(new Gr("operation-not-supported-in-this-environment"));c.apn=a}s&&(c.appDisplayName=s),i=Mu(i),c.sessionId=i;var l=Ps(e.l,e.i,e.m,t,n,null,r,e.o,c,e.u);return e.ga().then((function(){var t=e.h;return e.v.a.set(_u,o.w(),t)})).then((function(){var t=mr("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof t)throw new Gr("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=mr("cordova.plugins.browsertab.openUrl",u)))throw new Gr("invalid-cordova-configuration");n(l)}else{if("function"!==typeof(n=mr("cordova.InAppBrowser.open",u)))throw new Gr("invalid-cordova-configuration");t=pr(),e.a=n(l,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(r,e,t,n)})).then((function(){return new _e((function(e,t){a=function(){var t=mr("cordova.plugins.browsertab.close",u);return e(),"function"===typeof t&&t(),r.a&&"function"===typeof r.a.close&&(r.a.close(),r.a=null),!1},r.wa(a),s=function(){o||(o=qt(2e3).then((function(){t(new Gr("redirect-cancelled-by-user"))})))},c=function(){xr()&&s()},i.addEventListener("resume",s,!1),pr().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",c,!1)})).s((function(e){return Uu(r).then((function(){throw e}))}))})).ia((function(){s&&i.removeEventListener("resume",s,!1),c&&i.removeEventListener("visibilitychange",c,!1),o&&o.cancel(),a&&r.La(a),r.c=null}))},t.wa=function(e){this.b.push(e),Fu(this).s((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new lo("unknown",null,null,null,new Gr("no-auth-event")),e(t))}))},t.La=function(e){W(this.b,(function(t){return t==e}))};var qu={name:"pendingRedirect",B:"session"};function Vu(e){return yu(e.b,qu,e.a)}function zu(e,t,n){this.i={},this.u=0,this.A=e,this.l=t,this.o=n,this.h=[],this.f=!1,this.m=E(this.bb,this),this.b=new Zu,this.v=new rc,this.g=new Bu(this.l+":"+this.o),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.v,this.c.linkViaPopup=this.v,this.c.reauthViaPopup=this.v,this.a=Wu(this.A,this.l,this.o,mi)}function Wu(e,t,n,i){var o=r.a.SDK_VERSION||null;return ir()?new Ru(e,t,n,o,i):new As(e,t,n,o,i)}function Ku(e){e.f||(e.f=!0,e.a.wa(e.m));var t=e.a;return e.a.ga().s((function(n){throw e.a==t&&e.reset(),n}))}function Hu(e){e.a.Mb()&&Ku(e).s((function(t){var n=new lo("unknown",null,null,null,new Gr("operation-not-supported-in-this-environment"));Xu(t)&&e.bb(n)})),e.a.Hb()||ec(e.b)}(t=zu.prototype).reset=function(){this.f=!1,this.a.La(this.m),this.a=Wu(this.A,this.l,this.o),this.i={}},t.Ya=function(){this.b.Ya()},t.subscribe=function(e){if(V(this.h,e)||this.h.push(e),!this.f){var t=this;(function(e){return e.b.get(qu,e.a).then((function(e){return"pending"==e}))})(this.g).then((function(e){e?Vu(t.g).then((function(){Ku(t).s((function(e){var n=new lo("unknown",null,null,null,new Gr("operation-not-supported-in-this-environment"));Xu(e)&&t.bb(n)}))})):Hu(t)})).s((function(){Hu(t)}))}},t.unsubscribe=function(e){W(this.h,(function(t){return t==e}))},t.bb=function(e){if(!e)throw new Gr("invalid-auth-event");if(6e5<=C()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=C())),t=!0;break}}return ec(this.b),t};var Qu=new Ir(2e3,1e4),Gu=new Ir(3e4,6e4);function Yu(e,t,n,r,i,o){return e.a.Db(t,n,r,(function(){e.f||(e.f=!0,e.a.wa(e.m))}),(function(){e.reset()}),i,o)}function Xu(e){return!(!e||"auth/cordova-not-ready"!=e.code)}zu.prototype.fa=function(){return this.b.fa()},zu.prototype.Ca=function(e,t,n){var r,i=this;return function(e){return e.b.set(qu,"pending",e.a)}(this.g).then((function(){return i.a.Ca(e,t,n).s((function(e){if(Xu(e))throw new Gr("operation-not-supported-in-this-environment");return r=e,Vu(i.g).then((function(){throw r}))})).then((function(){return i.a.Pb()?new _e((function(){})):Vu(i.g).then((function(){return i.fa()})).then((function(){})).s((function(){}))}))}))},zu.prototype.Ea=function(e,t,n,r){return this.a.Ea(n,(function(n){e.ha(t,null,n,r)}),Qu.get())};var $u={};function Ju(e,t,n){var r=t+":"+n;return $u[r]||($u[r]=new zu(e,t,n)),$u[r]}function Zu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function ec(e){e.g||(e.g=!0,nc(e,!1,null,null))}function tc(e,t){if(e.b=function(){return xe(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function nc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Ae(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):tc(e,n):tc(e,{user:null}),e.f=[],e.c=[]}function rc(){}function ic(){this.ub=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ub},set:function(e){this.ub=e},enumerable:!1})}function oc(e,t){this.a=t,Lr(this,"verificationId",e)}function ac(e,t,n,r){return new ao(e).Ua(t,n).then((function(e){return new oc(e,r)}))}function sc(e){var t=pi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new Gr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Mr(this,{token:e,expirationTime:Ar(1e3*t.exp),authTime:Ar(1e3*t.auth_time),issuedAtTime:Ar(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,claims:t})}function uc(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function cc(e){this.f=e,this.b=this.a=null,this.c=0}function lc(e,t){var n=t[Sa],r=t.refreshToken;t=fc(t.expiresIn),e.b=n,e.c=t,e.a=r}function fc(e){return C()+1e3*parseInt(e,10)}function hc(e,t){return function(e,t){return new _e((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?Oa(e,e.i+"?key="+encodeURIComponent(e.b),(function(e){e?e.error?r(ws(e)):e.access_token&&e.refresh_token?n(e):r(new Gr("internal-error")):r(new Gr("network-request-failed"))}),"POST",dn(t).toString(),e.f,e.m.get()):r(new Gr("internal-error"))}))}(e.f,t).then((function(t){return e.b=t.access_token,e.c=fc(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}})).s((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function dc(e,t){this.a=e||null,this.b=t||null,Mr(this,{lastSignInTime:Ar(t||null),creationTime:Ar(e||null)})}function pc(e,t,n,r,i,o){Mr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function mc(e,t){for(var n in ht.call(this,e),t)this[n]=t[n]}function vc(e,t,n){this.G=[],this.l=e.apiKey,this.o=e.appName,this.u=e.authDomain||null,e=r.a.SDK_VERSION?dr(r.a.SDK_VERSION):null,this.c=new _a(this.l,yi(mi),e),this.h=new cc(this.c),Sc(this,t[Sa]),lc(this.h,t),Lr(this,"refreshToken",this.h.a),Cc(this,n||{}),Mt.call(this),this.I=!1,this.u&&yr()&&(this.a=Ju(this.u,this.l,this.o)),this.N=[],this.i=null,this.A=function(e){return new uc((function(){return e.F(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-C()-3e5;return 0<t?t:0}))}(this),this.V=E(this.Ha,this);var i=this;this.ka=null,this.ta=function(e){i.pa(e.g)},this.X=null,this.O=[],this.sa=function(e){gc(i,e.c)},this.W=null}function yc(e,t){e.X&&It(e.X,"languageCodeChanged",e.ta),(e.X=t)&&Et(t,"languageCodeChanged",e.ta)}function gc(e,t){e.O=t,Aa(e.c,r.a.SDK_VERSION?dr(r.a.SDK_VERSION,e.O):null)}function bc(e,t){e.W&&It(e.W,"frameworkChanged",e.sa),(e.W=t)&&Et(t,"frameworkChanged",e.sa)}function wc(e){try{return r.a.app(e.o).auth()}catch(t){throw new Gr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.o+"'!")}}function _c(e){e.D||e.A.b||(e.A.start(),It(e,"tokenChanged",e.V),Et(e,"tokenChanged",e.V))}function Tc(e){It(e,"tokenChanged",e.V),e.A.stop()}function Sc(e,t){e.ra=t,Lr(e,"_lat",t)}function Ec(e){for(var t=[],n=0;n<e.N.length;n++)t.push(e.N[n](e));return De(t).then((function(){return e}))}function kc(e){e.a&&!e.I&&(e.I=!0,e.a.subscribe(e))}function Cc(e,t){Mr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,metadata:new dc(t.createdAt,t.lastLoginAt),providerData:[]})}function Ic(){}function xc(e){return xe().then((function(){if(e.D)throw new Gr("app-deleted")}))}function Ac(e){return B(e.providerData,(function(e){return e.providerId}))}function Oc(e,t){t&&(Dc(e,t.providerId),e.providerData.push(t))}function Dc(e,t){W(e.providerData,(function(e){return e.providerId==t}))}function Nc(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Lr(e,t,n)}function Pc(e,t){e!=t&&(Mr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,providerData:[]}),t.metadata?Lr(e,"metadata",function(e){return new dc(e.a,e.b)}(t.metadata)):Lr(e,"metadata",new dc),U(t.providerData,(function(t){Oc(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),Lr(e,"refreshToken",e.h.a))}function Rc(e){return e.F().then((function(t){var n=e.isAnonymous;return function(e,t){return gs(e.c,Za,{idToken:t}).then(E(e.xc,e))}(e,t).then((function(){return n||Nc(e,"isAnonymous",!1),t}))}))}function Lc(e,t){t[Sa]&&e.ra!=t[Sa]&&(lc(e.h,t),e.dispatchEvent(new mc("tokenChanged")),Sc(e,t[Sa]),Nc(e,"refreshToken",e.h.a))}function Mc(e,t){return Rc(e).then((function(){if(V(Ac(e),t))return Ec(e).then((function(){throw new Gr("provider-already-linked")}))}))}function jc(e,t,n){return jr({user:e,credential:uo(t),additionalUserInfo:t=Ti(t),operationType:n})}function Fc(e,t){return Lc(e,t),e.reload().then((function(){return e}))}function Uc(e,t,n,i,o){if(!yr())return Ae(new Gr("operation-not-supported-in-this-environment"));if(e.i&&!o)return Ae(e.i);var a=_i(n.providerId),s=Er(e.uid+":::"),u=null;(!wr()||or())&&e.u&&n.isOAuthProvider&&(u=Ps(e.u,e.l,e.o,t,n,null,s,r.a.SDK_VERSION||null));var c=er(u,a&&a.Ba,a&&a.Aa);return i=i().then((function(){if(qc(e),!o)return e.F().then((function(){}))})).then((function(){return Yu(e.a,c,t,n,s,!!u)})).then((function(){return new _e((function(n,r){e.ha(t,null,new Gr("cancelled-popup-request"),e.g||null),e.f=n,e.v=r,e.g=s,e.b=e.a.Ea(e,t,c,s)}))})).then((function(e){return c&&Zn(c),e?jr(e):null})).s((function(e){throw c&&Zn(c),e})),Vc(e,i,o)}function Bc(e,t,n,r,i){if(!yr())return Ae(new Gr("operation-not-supported-in-this-environment"));if(e.i&&!i)return Ae(e.i);var o=null,a=Er(e.uid+":::");return r=r().then((function(){if(qc(e),!i)return e.F().then((function(){}))})).then((function(){return e.aa=a,Ec(e)})).then((function(t){return e.ba&&(t=(t=e.ba).b.set(Kc,e.w(),t.a)),t})).then((function(){return e.a.Ca(t,n,a)})).s((function(t){if(o=t,e.ba)return Hc(e.ba);throw o})).then((function(){if(o)throw o})),Vc(e,r,i)}function qc(e){if(!e.a||!e.I){if(e.a&&!e.I)throw new Gr("internal-error");throw new Gr("auth-domain-config-required")}}function Vc(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Ae(e.i)):t.s((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new mc("userInvalidated")),e.i=t),t}))}(e,t,n);return e.G.push(r),r.ia((function(){z(e.G,r)})),r}function zc(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[Sa]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-C())/1e3;var r=new vc(t,n,e);return e.providerData&&U(e.providerData,(function(e){e&&Oc(r,jr(e))})),e.redirectEventId&&(r.aa=e.redirectEventId),r}function Wc(e){this.a=e,this.b=pu()}Zu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Zu.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(nc(this,!0,null,e.a),xe()):t.xa(n,r)?function(e,t,n){n=n.xa(t.c,t.b);var r=t.g,i=t.f,o=t.h,a=!!t.c.match(/Redirect$/);n(r,i,o).then((function(t){nc(e,a,t,null)})).s((function(t){nc(e,a,null,t)}))}(this,e,t):Ae(new Gr("invalid-auth-event")):(nc(this,!1,null,null),xe())}else Ae(new Gr("invalid-auth-event"))},Zu.prototype.Ya=function(){this.g&&!this.i&&nc(this,!1,null,null)},Zu.prototype.fa=function(){var e=this;return new _e((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new Gr("timeout");e.a&&e.a.cancel(),e.a=qt(Gu.get()).then((function(){e.b||(e.g=!0,nc(e,!0,null,t))}))}(e))}))},rc.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.ha(e.c,null,e.a,e.b),xe()):t.xa(n,r)?function(e,t){var n=e.b,r=e.c;t.xa(r,n)(e.g,e.f,e.h).then((function(e){t.ha(r,e,null,n)})).s((function(e){t.ha(r,null,e,n)}))}(e,t):Ae(new Gr("invalid-auth-event"))}else Ae(new Gr("invalid-auth-event"))},oc.prototype.confirm=function(e){return e=so(this.verificationId,e),this.a(e)},uc.prototype.start=function(){this.a=this.c,function e(t,n){t.stop(),t.b=qt(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then((function(){return function(){var e=u.document,t=null;return xr()||!e?xe():new _e((function(n){t=function(){xr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).s((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return t.h()})).then((function(){e(t,!0)})).s((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},uc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},cc.prototype.w=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},cc.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Ae(new Gr("user-token-expired")):e||!this.b||C()>this.c-3e4?this.a?hc(this,{grant_type:"refresh_token",refresh_token:this.a}):xe(null):xe({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},dc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(mc,ht),I(vc,Mt),vc.prototype.pa=function(e){this.ka=e,xa(this.c,e)},vc.prototype.ea=function(){return this.ka},vc.prototype.ya=function(){return H(this.O)},vc.prototype.Ha=function(){this.A.b&&(this.A.stop(),this.A.start())},Lr(vc.prototype,"providerId","firebase"),(t=vc.prototype).reload=function(){var e=this;return Vc(this,xc(this).then((function(){return Rc(e).then((function(){return Ec(e)})).then(Ic)})))},t.bc=function(e){return this.F(e).then((function(e){return new sc(e)}))},t.F=function(e){var t=this;return Vc(this,xc(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new Gr("internal-error");return e.accessToken!=t.ra&&(Sc(t,e.accessToken),t.dispatchEvent(new mc("tokenChanged"))),Nc(t,"refreshToken",e.refreshToken),e.accessToken})))},t.xc=function(e){if(!(e=e.users)||!e.length)throw new Gr("internal-error");Cc(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?B(e,(function(e){return new pc(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Oc(this,t[n]);Nc(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length))},t.yc=function(e){return Pr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.gb(e)},t.gb=function(e){var t=this,n=null;return Vc(this,e.f(this.c,this.uid).then((function(e){return Lc(t,e),n=jc(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},t.pc=function(e){return Pr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.eb(e)},t.eb=function(e){var t=this,n=null;return Vc(this,Mc(this,e.providerId).then((function(){return t.F()})).then((function(n){return e.b(t.c,n)})).then((function(e){return n=jc(t,e,"link"),Fc(t,e)})).then((function(){return n})))},t.qc=function(e,t){var n=this;return Vc(this,Mc(this,"phone").then((function(){return ac(wc(n),e,t,E(n.eb,n))})))},t.zc=function(e,t){var n=this;return Vc(this,xe().then((function(){return ac(wc(n),e,t,E(n.gb,n))})),!0)},t.rb=function(e){var t=this;return Vc(this,this.F().then((function(n){return t.c.rb(n,e)})).then((function(e){return Lc(t,e),t.reload()})))},t.Pc=function(e){var t=this;return Vc(this,this.F().then((function(n){return e.b(t.c,n)})).then((function(e){return Lc(t,e),t.reload()})))},t.sb=function(e){var t=this;return Vc(this,this.F().then((function(n){return t.c.sb(n,e)})).then((function(e){return Lc(t,e),t.reload()})))},t.tb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return xc(this);var t=this;return Vc(this,this.F().then((function(n){return t.c.tb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Lc(t,e),Nc(t,"displayName",e.displayName||null),Nc(t,"photoURL",e.photoUrl||null),U(t.providerData,(function(e){"password"===e.providerId&&(Lr(e,"displayName",t.displayName),Lr(e,"photoURL",t.photoURL))})),Ec(t)})).then(Ic))},t.Nc=function(e){var t=this;return Vc(this,Rc(this).then((function(n){return V(Ac(t),e)?function(e,t,n){return gs(e,Xa,{idToken:t,deleteProvider:n})}(t.c,n,[e]).then((function(e){var n={};return U(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),U(Ac(t),(function(e){n[e]||Dc(t,e)})),n[ao.PROVIDER_ID]||Lr(t,"phoneNumber",null),Ec(t)})):Ec(t).then((function(){throw new Gr("no-such-provider")}))})))},t.delete=function(){var e=this;return Vc(this,this.F().then((function(t){return gs(e.c,Ya,{idToken:t})})).then((function(){e.dispatchEvent(new mc("userDeleted"))}))).then((function(){for(var t=0;t<e.G.length;t++)e.G[t].cancel("app-deleted");yc(e,null),bc(e,null),e.G=[],e.D=!0,Tc(e),Lr(e,"refreshToken",null),e.a&&e.a.unsubscribe(e)}))},t.xb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.aa||null)==t||"reauthViaRedirect"==e&&(this.aa||null)==t)},t.ha=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},t.xa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?E(this.Bb,this):"reauthViaPopup"==e&&t==(this.g||null)?E(this.Cb,this):"linkViaRedirect"==e&&(this.aa||null)==t?E(this.Bb,this):"reauthViaRedirect"==e&&(this.aa||null)==t?E(this.Cb,this):null},t.rc=function(e){var t=this;return Uc(this,"linkViaPopup",e,(function(){return Mc(t,e.providerId).then((function(){return Ec(t)}))}),!1)},t.Ac=function(e){return Uc(this,"reauthViaPopup",e,(function(){return xe()}),!0)},t.sc=function(e){var t=this;return Bc(this,"linkViaRedirect",e,(function(){return Mc(t,e.providerId)}),!1)},t.Bc=function(e){return Bc(this,"reauthViaRedirect",e,(function(){return xe()}),!0)},t.Bb=function(e,t,n){var r=this;this.b&&(this.b.cancel(),this.b=null);var i=null;return Vc(this,this.F().then((function(i){return Va(r.c,{requestUri:e,postBody:n,sessionId:t,idToken:i})})).then((function(e){return i=jc(r,e,"link"),Fc(r,e)})).then((function(){return i})))},t.Cb=function(e,t,n){var r=this;this.b&&(this.b.cancel(),this.b=null);var i=null;return Vc(this,xe().then((function(){return Ri(za(r.c,{requestUri:e,sessionId:t,postBody:n}),r.uid)})).then((function(e){return i=jc(r,e,"reauthenticate"),Lc(r,e),r.i=null,r.reload()})).then((function(){return i})),!0)},t.jb=function(e){var t=this,n=null;return Vc(this,this.F().then((function(t){return n=t,"undefined"===typeof e||ue(e)?{}:ui(new Jr(e))})).then((function(e){return t.c.jb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},t.toJSON=function(){return this.w()},t.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.o,authDomain:this.u,stsTokenManager:this.h.w(),redirectEventId:this.aa||null};return this.metadata&&de(e,this.metadata.w()),U(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),e};var Kc={name:"redirectUser",B:"session"};function Hc(e){return yu(e.b,Kc,e.a)}function Qc(e){this.a=e,this.b=pu(),this.c=null,this.f=function(e){var t=Xc("local"),n=Xc("session"),r=Xc("none");return function(e,t,n){var r=vu(t,n),i=mu(e,t.B);return e.get(t,n).then((function(o){var a=null;try{a=Sr(u.localStorage.getItem(r))}catch(s){}if(a&&!o)return u.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(Yc,e.a).then((function(e){return e?Xc(e):t}))}))}))})).then((function(t){return e.c=t,Gc(e,t.B)})).s((function(){e.c||(e.c=t)}))}(this),this.b.addListener(Xc("local"),this.a,E(this.g,this))}function Gc(e,t){var n,r=[];for(n in hu)hu[n]!==t&&r.push(yu(e.b,Xc(hu[n]),e.a));return r.push(yu(e.b,Yc,e.a)),function(e){return new _e((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Oe(e[s],k(o,s),a);else t(i)}))}(r)}Qc.prototype.g=function(){var e=this,t=Xc("local");el(this,(function(){return xe().then((function(){return e.c&&"local"!=e.c.B?e.b.get(t,e.a):null})).then((function(n){if(n)return Gc(e,"local").then((function(){e.c=t}))}))}))};var Yc={name:"persistence",B:"session"};function Xc(e){return{name:"authUser",B:e}}function $c(e,t){return el(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function Jc(e){return el(e,(function(){return yu(e.b,e.c,e.a)}))}function Zc(e,t){return el(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),zc(e||{})}))}))}function el(e,t){return e.f=e.f.then(t,t),e.f}function tl(e){if(this.l=!1,Lr(this,"settings",new ic),Lr(this,"app",e),!ul(this).options||!ul(this).options.apiKey)throw new Gr("invalid-api-key");e=r.a.SDK_VERSION?dr(r.a.SDK_VERSION):null,this.c=new _a(ul(this).options&&ul(this).options.apiKey,yi(mi),e),this.N=[],this.o=[],this.I=[],this.Sb=r.a.INTERNAL.createSubscribe(E(this.mc,this)),this.O=void 0,this.Tb=r.a.INTERNAL.createSubscribe(E(this.nc,this)),al(this,null),this.h=new Qc(ul(this).options.apiKey+":"+ul(this).name),this.A=new Wc(ul(this).options.apiKey+":"+ul(this).name),this.V=hl(this,function(e){var t=ul(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Kc,e.a).then((function(e){return e&&t&&(e.authDomain=t),zc(e||{})}))}(e.A,ul(e).options.authDomain).then((function(t){return(e.D=t)&&(t.ba=e.A),Hc(e.A)}));return hl(e,t)}(e).then((function(){return Zc(e.h,t)})).then((function(t){return t?(t.ba=e.A,e.D&&(e.D.aa||null)==(t.aa||null)?t:t.reload().then((function(){return $c(e.h,t).then((function(){return t}))})).s((function(n){return"auth/network-request-failed"==n.code?t:Jc(e.h)}))):null})).then((function(t){al(e,t||null)}));return hl(e,n)}(this)),this.i=hl(this,function(e){return e.V.then((function(){return e.fa()})).s((function(){})).then((function(){if(!e.l)return e.ka()})).s((function(){})).then((function(){if(!e.l){e.X=!0;var t=e.h;t.b.addListener(Xc("local"),t.a,e.ka)}}))}(this)),this.X=!1,this.ka=E(this.Kc,this),this.Ha=E(this.Z,this),this.ra=E(this.$b,this),this.sa=E(this.jc,this),this.ta=E(this.kc,this),function(e){var t=ul(e).options.authDomain,n=ul(e).options.apiKey;t&&yr()&&(e.Rb=e.V.then((function(){if(!e.l){if(e.a=Ju(t,n,ul(e).name),e.a.subscribe(e),cl(e)&&kc(cl(e)),e.D){kc(e.D);var r=e.D;r.pa(e.ea()),yc(r,e),gc(r=e.D,e.G),bc(r,e),e.D=null}return e.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.tc,this),this.u=0,Mt.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.ea()},set:function(e){this.pa(e)},enumerable:!1}),e.W=null}(this),this.G=[]}function nl(e){ht.call(this,"languageCodeChanged"),this.g=e}function rl(e){ht.call(this,"frameworkChanged"),this.c=e}function il(e){return e.Rb||Ae(new Gr("auth-domain-config-required"))}function ol(e,t){var n={};return n.apiKey=ul(e).options.apiKey,n.authDomain=ul(e).options.authDomain,n.appName=ul(e).name,e.V.then((function(){return function(e,t,n,r){var i=new vc(e,t);return n&&(i.ba=n),r&&gc(i,r),i.reload().then((function(){return i}))}(n,t,e.A,e.ya())})).then((function(t){return cl(e)&&t.uid==cl(e).uid?(Pc(cl(e),t),e.Z(t)):(al(e,t),kc(t),e.Z(t))})).then((function(){fl(e)}))}function al(e,t){cl(e)&&(function(e,t){W(e.N,(function(e){return e==t}))}(cl(e),e.Ha),It(cl(e),"tokenChanged",e.ra),It(cl(e),"userDeleted",e.sa),It(cl(e),"userInvalidated",e.ta),Tc(cl(e))),t&&(t.N.push(e.Ha),Et(t,"tokenChanged",e.ra),Et(t,"userDeleted",e.sa),Et(t,"userInvalidated",e.ta),0<e.u&&_c(t)),Lr(e,"currentUser",t),t&&(t.pa(e.ea()),yc(t,e),gc(t,e.G),bc(t,e))}function sl(e,t){var n=null,r=null;return hl(e,t.then((function(t){return n=uo(t),r=Ti(t),ol(e,t)})).then((function(){return jr({user:cl(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function ul(e){return e.app}function cl(e){return e.currentUser}function ll(e){return cl(e)&&cl(e)._lat||null}function fl(e){if(e.X){for(var t=0;t<e.o.length;t++)e.o[t]&&e.o[t](ll(e));if(e.O!==e.getUid()&&e.I.length)for(e.O=e.getUid(),t=0;t<e.I.length;t++)e.I[t]&&e.I[t](ll(e))}}function hl(e,t){return e.N.push(t),t.ia((function(){z(e.N,t)})),t}function dl(){}function pl(){this.a={},this.b=1e12}Qc.prototype.mb=function(e){var t=null,n=this;return function(e){var t=new Gr("invalid-persistence-type"),n=new Gr("unsupported-persistence-type");e:{for(r in hu)if(hu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(sr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!vr()&&"none"!==e)throw n}}(e),el(this,(function(){return e!=n.c.B?n.b.get(n.c,n.a).then((function(r){return t=r,Gc(n,e)})).then((function(){if(n.c=Xc(e),t)return n.b.set(n.c,t,n.a)})):xe()}))},I(tl,Mt),I(nl,ht),I(rl,ht),(t=tl.prototype).mb=function(e){return hl(this,e=this.h.mb(e))},t.pa=function(e){this.W===e||this.l||(this.W=e,xa(this.c,this.W),this.dispatchEvent(new nl(this.ea())))},t.ea=function(){return this.W},t.Qc=function(){var e=u.navigator;this.pa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},t.tc=function(e){this.G.push(e),Aa(this.c,r.a.SDK_VERSION?dr(r.a.SDK_VERSION,this.G):null),this.dispatchEvent(new rl(this.G))},t.ya=function(){return H(this.G)},t.toJSON=function(){return{apiKey:ul(this).options.apiKey,authDomain:ul(this).options.authDomain,appName:ul(this).name,currentUser:cl(this)&&cl(this).w()}},t.xb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},t.ha=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},t.xa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?E(this.Zb,this):null},t.Zb=function(e,t,n){var r=this;e={requestUri:e,postBody:n,sessionId:t},this.b&&(this.b.cancel(),this.b=null);var i=null,o=null,a=qa(r.c,e).then((function(e){return i=uo(e),o=Ti(e),e}));return hl(this,e=r.V.then((function(){return a})).then((function(e){return ol(r,e)})).then((function(){return jr({user:cl(r),credential:i,additionalUserInfo:o,operationType:"signIn"})})))},t.Ic=function(e){if(!yr())return Ae(new Gr("operation-not-supported-in-this-environment"));var t=this,n=_i(e.providerId),i=Er(),o=null;(!wr()||or())&&ul(this).options.authDomain&&e.isOAuthProvider&&(o=Ps(ul(this).options.authDomain,ul(this).options.apiKey,ul(this).name,"signInViaPopup",e,null,i,r.a.SDK_VERSION||null));var a=er(o,n&&n.Ba,n&&n.Aa);return hl(this,n=il(this).then((function(t){return Yu(t,a,"signInViaPopup",e,i,!!o)})).then((function(){return new _e((function(e,n){t.ha("signInViaPopup",null,new Gr("cancelled-popup-request"),t.g),t.f=e,t.v=n,t.g=i,t.b=t.a.Ea(t,"signInViaPopup",a,i)}))})).then((function(e){return a&&Zn(a),e?jr(e):null})).s((function(e){throw a&&Zn(a),e})))},t.Jc=function(e){if(!yr())return Ae(new Gr("operation-not-supported-in-this-environment"));var t=this;return hl(this,il(this).then((function(){return function(e){return el(e,(function(){return e.b.set(Yc,e.c.B,e.a)}))}(t.h)})).then((function(){return t.a.Ca("signInViaRedirect",e)})))},t.fa=function(){if(!yr())return Ae(new Gr("operation-not-supported-in-this-environment"));var e=this;return hl(this,il(this).then((function(){return e.a.fa()})).then((function(e){return e?jr(e):null})))},t.Oc=function(e){if(!e)return Ae(new Gr("null-user"));var t=this,n={};n.apiKey=ul(this).options.apiKey,n.authDomain=ul(this).options.authDomain,n.appName=ul(this).name;var r=function(e,t,n,r){t=t||{apiKey:e.l,authDomain:e.u,appName:e.o};var i=e.h,o={};return o[Sa]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-C())/1e3,t=new vc(t,o),n&&(t.ba=n),r&&gc(t,r),Pc(t,e),t}(e,n,t.A,t.ya());return hl(this,this.i.then((function(){if(ul(t).options.apiKey!=e.l)return r.reload()})).then((function(){return cl(t)&&e.uid==cl(t).uid?(Pc(cl(t),e),t.Z(e)):(al(t,r),kc(r),t.Z(r))})).then((function(){fl(t)})))},t.pb=function(){var e=this;return hl(this,this.i.then((function(){return cl(e)?(al(e,null),Jc(e.h).then((function(){fl(e)}))):xe()})))},t.Kc=function(){var e=this;return Zc(this.h,ul(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=cl(e)&&t){n=cl(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Pc(cl(e),t),cl(e).F();(cl(e)||t)&&(al(e,t),t&&(kc(t),t.ba=e.A),e.a&&e.a.subscribe(e),fl(e))}}))},t.Z=function(e){return $c(this.h,e)},t.$b=function(){fl(this),this.Z(cl(this))},t.jc=function(){this.pb()},t.kc=function(){this.pb()},t.mc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(cl(t))}))},t.nc=function(e){var t=this;!function(e,t){e.I.push(t),hl(e,e.i.then((function(){!e.l&&V(e.I,t)&&e.O!==e.getUid()&&(e.O=e.getUid(),t(ll(e)))})))}(this,(function(){e.next(cl(t))}))},t.vc=function(e,t,n){var r=this;return this.X&&Promise.resolve().then((function(){g(e)?e(cl(r)):g(e.next)&&e.next(cl(r))})),this.Sb(e,t,n)},t.uc=function(e,t,n){var r=this;return this.X&&Promise.resolve().then((function(){r.O=r.getUid(),g(e)?e(cl(r)):g(e.next)&&e.next(cl(r))})),this.Tb(e,t,n)},t.ac=function(e){var t=this;return hl(this,this.i.then((function(){return cl(t)?cl(t).F(e).then((function(e){return{accessToken:e}})):null})))},t.Ec=function(e){var t=this;return this.i.then((function(){return sl(t,gs(t.c,ds,{token:e}))})).then((function(e){var n=e.user;return Nc(n,"isAnonymous",!1),t.Z(n),e}))},t.Fc=function(e,t){var n=this;return this.i.then((function(){return sl(n,gs(n.c,ps,{email:e,password:t}))}))},t.Vb=function(e,t){var n=this;return this.i.then((function(){return sl(n,gs(n.c,Qa,{email:e,password:t}))}))},t.Nb=function(e){var t=this;return this.i.then((function(){return sl(t,e.la(t.c))}))},t.nb=function(e){return Pr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Nb(e)},t.ob=function(){var e=this;return this.i.then((function(){var t=cl(e);if(t&&t.isAnonymous){var n=jr({providerId:null,isNewUser:!1});return jr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return sl(e,e.c.ob()).then((function(t){var n=t.user;return Nc(n,"isAnonymous",!0),e.Z(n),t}))}))},t.getUid=function(){return cl(this)&&cl(this).uid||null},t.Ub=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&cl(this)&&_c(cl(this))},t.Cc=function(e){var t=this;U(this.o,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&cl(this)&&Tc(cl(this)),this.removeAuthTokenListener(e)},t.addAuthTokenListener=function(e){var t=this;this.o.push(e),hl(this,this.i.then((function(){t.l||V(t.o,e)&&e(ll(t))})))},t.removeAuthTokenListener=function(e){W(this.o,(function(t){return t==e}))},t.delete=function(){this.l=!0;for(var e=0;e<this.N.length;e++)this.N[e].cancel("app-deleted");return this.N=[],this.h&&(e=this.h).b.removeListener(Xc("local"),e.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Ya()),Promise.resolve()},t.Yb=function(e){return hl(this,function(e,t){return gs(e,Ga,{identifier:t,continueUri:gr()?Xn():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.c,e))},t.oc=function(e){return!!no(e)},t.lb=function(e,t){var n=this;return hl(this,xe().then((function(){var e=new Jr(t);if(!e.c)throw new Gr("argument-error",ti+" must be true when sending sign in link to email");return ui(e)})).then((function(t){return n.c.lb(e,t)})).then((function(){})))},t.Rc=function(e){return this.Ka(e).then((function(e){return e.data.email}))},t.Za=function(e,t){return hl(this,this.c.Za(e,t).then((function(){})))},t.Ka=function(e){return hl(this,this.c.Ka(e).then((function(e){return new Ur(e)})))},t.Wa=function(e){return hl(this,this.c.Wa(e).then((function(){})))},t.kb=function(e,t){var n=this;return hl(this,xe().then((function(){return"undefined"===typeof t||ue(t)?{}:ui(new Jr(t))})).then((function(t){return n.c.kb(e,t)})).then((function(){})))},t.Hc=function(e,t){return hl(this,ac(this,e,t,E(this.nb,this)))},t.Gc=function(e,t){var n=this;return hl(this,xe().then((function(){var r=to(e,t||Xn());return n.nb(r)})))},dl.prototype.render=function(){},dl.prototype.reset=function(){},dl.prototype.getResponse=function(){},dl.prototype.execute=function(){};var ml=null;function vl(e,t){return(t=yl(t))&&e.a[t]||null}function yl(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function gl(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Un(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():Et(this.f,"click",this.i)}function bl(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function wl(){}pl.prototype.render=function(e,t){return this.a[this.b.toString()]=new gl(e,t),this.b++},pl.prototype.reset=function(e){var t=vl(this,e);e=yl(e),t&&e&&(t.delete(),delete this.a[e])},pl.prototype.getResponse=function(e){return(e=vl(this,e))?e.getResponse():null},pl.prototype.execute=function(e){(e=vl(this,e))&&e.execute()},gl.prototype.getResponse=function(){return bl(this),this.b},gl.prototype.execute=function(){bl(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},gl.prototype.delete=function(){bl(this),this.g=!0,clearTimeout(this.a),this.a=null,It(this.f,"click",this.i)},wl.prototype.g=function(){return ml||(ml=new pl),xe(ml)},wl.prototype.c=function(){};var _l=null;function Tl(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Sl=new wn(Sn,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),El=new Ir(3e4,6e4);Tl.prototype.g=function(e){var t=this;return new _e((function(n,r){var i=setTimeout((function(){r(new Gr("network-request-failed"))}),El.get());!u.grecaptcha||e!==t.f&&!t.b?(u[t.a]=function(){if(u.grecaptcha){t.f=e;var o=u.grecaptcha.render;u.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new Gr("internal-error"));delete u[t.a]},xe(pa(Cn(Sl,{onload:t.a,hl:e||""}))).s((function(){clearTimeout(i),r(new Gr("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Tl.prototype.c=function(){this.b--};var kl=null;function Cl(e,t,n,r,i,o,a){if(Lr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.l=t,this.g=null,a?(_l||(_l=new wl),a=_l):(kl||(kl=new Tl),a=kl),this.o=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Al])throw new Gr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ol],!u.document)throw new Gr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Un(t)||!this.i&&Un(t).hasChildNodes())throw new Gr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new _a(e,o||null,i||null),this.v=r||function(){return null};var s=this;this.m=[];var c=this.a[Il];this.a[Il]=function(e){if(Dl(s,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=mr(c,u);"function"===typeof t&&t(e)}};var l=this.a[xl];this.a[xl]=function(){if(Dl(s,null),"function"===typeof l)l();else if("string"===typeof l){var e=mr(l,u);"function"===typeof e&&e()}}}var Il="callback",xl="expired-callback",Al="sitekey",Ol="size";function Dl(e,t){for(var n=0;n<e.m.length;n++)try{e.m[n](t)}catch(r){}}function Nl(e,t){return e.h.push(t),t.ia((function(){z(e.h,t)})),t}function Pl(e){if(e.D)throw new Gr("internal-error","RecaptchaVerifier instance has been destroyed.")}function Rl(e,t,n){var i=!1;try{this.b=n||r.a.app()}catch(s){throw new Gr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Gr("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().ya()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=r.a.SDK_VERSION?dr(r.a.SDK_VERSION,a):null,Cl.call(this,n,e,t,(function(){try{var e=o.b.auth().ea()}catch(t){e=null}return e}),a,yi(mi),i)}function Ll(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new Gr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Ml.length)throw new Gr("internal-error","Argument validator received an unsupported number of arguments.");n=Ml[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new Gr("argument-error",e+" failed: "+r)}(t=Cl.prototype).za=function(){var e=this;return this.f?this.f:this.f=Nl(this,xe().then((function(){if(gr()&&!ar())return rr();throw new Gr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.o.g(e.v())})).then((function(t){return e.g=t,gs(e.u,is,{})})).then((function(t){e.a[Al]=t.recaptchaSiteKey})).s((function(t){throw e.f=null,t})))},t.render=function(){Pl(this);var e=this;return Nl(this,this.za().then((function(){if(null===e.c){var t=e.l;if(!e.i){var n=Un(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!bn&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',me(a.name),'"'),a.type){o.push(' type="',me(a.type),'"');var s={};de(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=i.createElement(o),a&&(c(a)?o.className=a:v(a)?o.className=a.join(" "):Bn(o,a)),2<r.length&&Vn(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},t.verify=function(){Pl(this);var e=this;return Nl(this,this.render().then((function(t){return new _e((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.m.push((function t(r){r&&(function(e,t){W(e.m,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},t.reset=function(){Pl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Pl(this),this.D=!0,this.o.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=Un(this.l);for(var t;t=e.firstChild;)e.removeChild(t)}},I(Rl,Cl);var Ml="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function jl(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:c}}function Fl(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:l}}function Ul(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:b}}function Bl(e,t){return{name:e||"",K:"a function",optional:!!t,M:g}}function ql(e,t){return{name:e||"",K:"null",optional:!!t,M:m}}function Vl(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.la||!n)}}}function zl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!!(e&&c(e.type)&&g(e.verify))}}}function Wl(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function Kl(e,t){for(var n in t){var r=t[n].name;e[r]=Gl(r,e[n],t[n].j)}}function Hl(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:k((function(e){return this[e]}),n),set:k((function(e,t,n,r){Ll(e,[n],[r],!0),this[t]=r}),r,n,t[n].vb),enumerable:!0})}}function Ql(e,t,n,r){e[t]=Gl(t,n,r)}function Gl(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Ll(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}Kl(tl.prototype,{Wa:{name:"applyActionCode",j:[jl("code")]},Ka:{name:"checkActionCode",j:[jl("code")]},Za:{name:"confirmPasswordReset",j:[jl("code"),jl("newPassword")]},Vb:{name:"createUserWithEmailAndPassword",j:[jl("email"),jl("password")]},Yb:{name:"fetchSignInMethodsForEmail",j:[jl("email")]},fa:{name:"getRedirectResult",j:[]},oc:{name:"isSignInWithEmailLink",j:[jl("emailLink")]},uc:{name:"onAuthStateChanged",j:[Wl(Ul(),Bl(),"nextOrObserver"),Bl("opt_error",!0),Bl("opt_completed",!0)]},vc:{name:"onIdTokenChanged",j:[Wl(Ul(),Bl(),"nextOrObserver"),Bl("opt_error",!0),Bl("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[jl("email"),Wl(Ul("opt_actionCodeSettings",!0),ql(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[jl("email"),Ul("actionCodeSettings")]},mb:{name:"setPersistence",j:[jl("persistence")]},nb:{name:"signInAndRetrieveDataWithCredential",j:[Vl()]},ob:{name:"signInAnonymously",j:[]},Nb:{name:"signInWithCredential",j:[Vl()]},Ec:{name:"signInWithCustomToken",j:[jl("token")]},Fc:{name:"signInWithEmailAndPassword",j:[jl("email"),jl("password")]},Gc:{name:"signInWithEmailLink",j:[jl("email"),jl("emailLink",!0)]},Hc:{name:"signInWithPhoneNumber",j:[jl("phoneNumber"),zl()]},Ic:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"updateCurrentUser",j:[Wl({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof vc)}},ql(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[jl(null,!0)]},Qc:{name:"useDeviceLanguage",j:[]},Rc:{name:"verifyPasswordResetCode",j:[jl("code")]}}),Hl(tl.prototype,{lc:{name:"languageCode",vb:Wl(jl(),ql(),"languageCode")}}),tl.Persistence=hu,tl.Persistence.LOCAL="local",tl.Persistence.SESSION="session",tl.Persistence.NONE="none",Kl(vc.prototype,{delete:{name:"delete",j:[]},bc:{name:"getIdTokenResult",j:[Fl("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[Fl("opt_forceRefresh",!0)]},pc:{name:"linkAndRetrieveDataWithCredential",j:[Vl()]},eb:{name:"linkWithCredential",j:[Vl()]},qc:{name:"linkWithPhoneNumber",j:[jl("phoneNumber"),zl()]},rc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},sc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},yc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Vl()]},gb:{name:"reauthenticateWithCredential",j:[Vl()]},zc:{name:"reauthenticateWithPhoneNumber",j:[jl("phoneNumber"),zl()]},Ac:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Bc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[Wl(Ul("opt_actionCodeSettings",!0),ql(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[jl(null,!0)]},Nc:{name:"unlink",j:[jl("provider")]},rb:{name:"updateEmail",j:[jl("email")]},sb:{name:"updatePassword",j:[jl("password")]},Pc:{name:"updatePhoneNumber",j:[Vl("phone")]},tb:{name:"updateProfile",j:[Ul("profile")]}}),Kl(pl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kl(dl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kl(_e.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Hl(ic.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",vb:Fl("appVerificationDisabledForTesting")}}),Kl(oc.prototype,{confirm:{name:"confirm",j:[jl("verificationCode")]}}),Ql(Pi,"fromJSON",(function(e){e=c(e)?JSON.parse(e):e;for(var t,n=[Bi,Zi,io,ji],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[Wl(jl(),Ul(),"json")]),Ql(eo,"credential",(function(e,t){return new Ji(e,t)}),[jl("email"),jl("password")]),Kl(Ji.prototype,{w:{name:"toJSON",j:[jl(null,!0)]}}),Kl(Wi.prototype,{ua:{name:"addScope",j:[jl("scope")]},Da:{name:"setCustomParameters",j:[Ul("customOAuthParameters")]}}),Ql(Wi,"credential",Ki,[Wl(jl(),Ul(),"token")]),Ql(eo,"credentialWithLink",to,[jl("email"),jl("emailLink")]),Kl(Hi.prototype,{ua:{name:"addScope",j:[jl("scope")]},Da:{name:"setCustomParameters",j:[Ul("customOAuthParameters")]}}),Ql(Hi,"credential",Qi,[Wl(jl(),Ul(),"token")]),Kl(Gi.prototype,{ua:{name:"addScope",j:[jl("scope")]},Da:{name:"setCustomParameters",j:[Ul("customOAuthParameters")]}}),Ql(Gi,"credential",Yi,[Wl(jl(),Wl(Ul(),ql()),"idToken"),Wl(jl(),ql(),"accessToken",!0)]),Kl(Xi.prototype,{Da:{name:"setCustomParameters",j:[Ul("customOAuthParameters")]}}),Ql(Xi,"credential",$i,[Wl(jl(),Ul(),"token"),jl("secret",!0)]),Kl(zi.prototype,{ua:{name:"addScope",j:[jl("scope")]},credential:{name:"credential",j:[Wl(jl(),Wl(Ul(),ql()),"optionsOrIdToken"),Wl(jl(),ql(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[Ul("customOAuthParameters")]}}),Kl(Fi.prototype,{w:{name:"toJSON",j:[jl(null,!0)]}}),Kl(Li.prototype,{w:{name:"toJSON",j:[jl(null,!0)]}}),Ql(ao,"credential",so,[jl("verificationId"),jl("verificationCode")]),Kl(ao.prototype,{Ua:{name:"verifyPhoneNumber",j:[jl("phoneNumber"),zl()]}}),Kl(ro.prototype,{w:{name:"toJSON",j:[jl(null,!0)]}}),Kl(Gr.prototype,{toJSON:{name:"toJSON",j:[jl(null,!0)]}}),Kl(yo.prototype,{toJSON:{name:"toJSON",j:[jl(null,!0)]}}),Kl(vo.prototype,{toJSON:{name:"toJSON",j:[jl(null,!0)]}}),Kl(Rl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if("undefined"===typeof r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={Auth:tl,AuthCredential:Pi,Error:Gr};Ql(e,"EmailAuthProvider",eo,[]),Ql(e,"FacebookAuthProvider",Wi,[]),Ql(e,"GithubAuthProvider",Hi,[]),Ql(e,"GoogleAuthProvider",Gi,[]),Ql(e,"TwitterAuthProvider",Xi,[]),Ql(e,"OAuthProvider",zi,[jl("providerId")]),Ql(e,"SAMLAuthProvider",Vi,[jl("providerId")]),Ql(e,"PhoneAuthProvider",ao,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof tl)}}]),Ql(e,"RecaptchaVerifier",Rl,[Wl(jl(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Ul("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof r.a.app.App)}}]),r.a.INTERNAL.registerService("auth",(function(e,t){return t({INTERNAL:{getUid:E((e=new tl(e)).getUid,e),getToken:E(e.ac,e),addAuthTokenListener:E(e.Ub,e),removeAuthTokenListener:E(e.Cc,e)}}),e}),e,(function(e,t){if("create"===e)try{t.auth()}catch(n){}})),r.a.INTERNAL.extendNamespace({User:vc})}()}).apply("undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(15))},function(e,t,n){"use strict";n(158)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=(r=n(10))&&"object"===typeof r&&"default"in r?r.default:r,a=n(69),s=n(37),u=n(159),c=n(68),l=o.SDK_VERSION,f=new a.Logger("@firebase/firestore");function h(){return f.logLevel===a.LogLevel.DEBUG?i.DEBUG:f.logLevel===a.LogLevel.SILENT?i.SILENT:i.ERROR}function d(e){switch(e){case i.DEBUG:f.logLevel=a.LogLevel.DEBUG;break;case i.ERROR:f.logLevel=a.LogLevel.ERROR;break;case i.SILENT:f.logLevel=a.LogLevel.SILENT;break;default:f.error("Firestore ("+l+"): Invalid value passed to `setLogLevel`")}}function p(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(f.logLevel<=a.LogLevel.DEBUG){var i=n.map(v);f.debug.apply(f,["Firestore ("+l+") ["+e+"]: "+t].concat(i))}}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(f.logLevel<=a.LogLevel.ERROR){var r=t.map(v);f.error.apply(f,["Firestore ("+l+"): "+e].concat(r))}}function v(e){if("string"===typeof e)return e;var t=b.getPlatform();try{return t.formatJSON(e)}catch(n){return e}}function y(e){var t="FIRESTORE ("+l+") INTERNAL ASSERTION FAILED: "+e;throw m(t),new Error(t)}function g(e,t){e||y(t)}!function(e){e[e.DEBUG=0]="DEBUG",e[e.ERROR=1]="ERROR",e[e.SILENT=2]="SILENT"}(i||(i={}));var b=function(){function e(){}return e.setPlatform=function(t){e.platform&&y("Platform already defined"),e.platform=t},e.getPlatform=function(){return e.platform||y("Platform not set"),e.platform},e}();function w(){return b.getPlatform().emptyByteString}var _="ok",T="cancelled",S="unknown",E="invalid-argument",k="deadline-exceeded",C="not-found",I="already-exists",x="permission-denied",A="unauthenticated",O="resource-exhausted",D="failed-precondition",N="aborted",P="out-of-range",R="unimplemented",L="internal",M="unavailable",j="data-loss",F=function(e){function t(t,n){var r=e.call(this,n)||this;return r.code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return s.__extends(t,e),t}(Error);function U(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new F(E,e)}for(var r in n.prototype=e.prototype,e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function B(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function q(e,t){return void 0!==e?e:t}function V(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Number(n);isNaN(r)||t(r,e[n])}}function z(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function W(e){for(var t in g(null!=e&&"object"===typeof e,"isEmpty() expects object parameter."),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function K(e,t){if(0!==t.length)throw new F(E,"Function "+e+"() does not support arguments, but was called with "+le(t.length,"argument")+".")}function H(e,t,n){if(t.length!==n)throw new F(E,"Function "+e+"() requires "+le(n,"argument")+", but was called with "+le(t.length,"argument")+".")}function Q(e,t,n){if(t.length<n)throw new F(E,"Function "+e+"() requires at least "+le(n,"argument")+", but was called with "+le(t.length,"argument")+".")}function G(e,t,n,r){if(t.length<n||t.length>r)throw new F(E,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+le(t.length,"argument")+".")}function Y(e,t,n,r){if(!(t instanceof Array)||t.length<r)throw new F(E,"Function "+e+"() requires its "+n+" argument to be an array with at least "+le(r,"element")+".")}function X(e,t,n,r){re(e,t,ce(n)+" argument",r)}function $(e,t,n,r){void 0!==r&&X(e,t,n,r)}function J(e,t,n,r){re(e,t,n+" option",r)}function Z(e,t,n,r){void 0!==r&&J(e,t,n,r)}function ee(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){if(!(r instanceof Array))throw new F(E,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+oe(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new F(E,"Function "+e+"() requires all "+t+" elements to be "+n+", but the value at index "+o+" was: "+oe(r[o]))}(e,t,n,r,i)}function te(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(oe(u))}var c=oe(r);throw new F(E,"Invalid value "+c+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,r,i)}function ne(e,t,n,r){if(!t.some((function(e){return e===r})))throw new F(E,"Invalid value "+oe(r)+" provided to function "+e+"() for its "+ce(n)+" argument. Acceptable values: "+t.join(", "))}function re(e,t,n,r){if(!("object"===t?ie(r):"non-empty string"===t?"string"===typeof r&&""!==r:typeof r===t)){var i=oe(r);throw new F(E,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function ie(e){return"object"===typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function oe(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"===typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"===typeof e||"boolean"===typeof e)return""+e;if("object"===typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"===typeof e?"a function":y("Unknown wrong type: "+typeof e)}function ae(e,t,n){if(void 0===n)throw new F(E,"Function "+e+"() requires a valid "+ce(t)+" argument, but it was undefined.")}function se(e,t,n){z(t,(function(t,r){if(n.indexOf(t)<0)throw new F(E,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function ue(e,t,n,r){var i=oe(r);return new F(E,"Function "+e+"() requires its "+ce(n)+" argument to be a "+t+", but it was: "+i)}function ce(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function le(e,t){return e+" "+t+(1===e?"":"s")}var fe=function(){function e(){}return e.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return g(20===t.length,"Invalid auto ID: "+t),t},e}();function he(e,t){return e<t?-1:e>t?1:0}function de(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}function pe(e){return e+"\0"}function me(){if("undefined"===typeof Uint8Array)throw new F(R,"Uint8Arrays are not available in this environment.")}function ve(){if(!b.getPlatform().base64Available)throw new F(R,"Blobs are unavailable in Firestore in this environment.")}var ye,ge,be=function(){function e(e){ve(),this._binaryString=e}return e.fromBase64String=function(t){H("Blob.fromBase64String",arguments,1),X("Blob.fromBase64String","string",1,t),ve();try{var n=b.getPlatform().atob(t);return new e(n)}catch(r){throw new F(E,"Failed to construct Blob from Base64 string: "+r)}},e.fromUint8Array=function(t){if(H("Blob.fromUint8Array",arguments,1),me(),!(t instanceof Uint8Array))throw ue("Blob.fromUint8Array","Uint8Array",1,t);var n=Array.prototype.map.call(t,(function(e){return String.fromCharCode(e)})).join("");return new e(n)},e.prototype.toBase64=function(){return H("Blob.toBase64",arguments,0),ve(),b.getPlatform().btoa(this._binaryString)},e.prototype.toUint8Array=function(){H("Blob.toUint8Array",arguments,0),me();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._binaryString===e._binaryString},e.prototype._compareTo=function(e){return he(this._binaryString,e._binaryString)},e}(),we=U(be,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),_e=function(){function e(e,t){if(H("GeoPoint",arguments,2),X("GeoPoint","number",1,e),X("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new F(E,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new F(E,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype._compareTo=function(e){return he(this._lat,e._lat)||he(this._long,e._long)},e}(),Te=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new F(E,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new F(E,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new F(E,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(E,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e}(),Se=function(e,t,n,r,i){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i},Ee=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.compareTo=function(e){return he(this.projectId,e.projectId)||he(this.database,e.database)},e}(),ke=function(){function e(e,t,n){this.init(e,t,n)}return e.prototype.init=function(e,t,n){void 0===t?t=0:t>e.length&&y("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&y("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n},e.prototype.construct=function(e,t,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(e,t,n),r},Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):"string"===typeof t?n.push(t):y("Unknown parameter type for Path.child(): "+t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,g(this.length>=e,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return g(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return g(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return g(e<this.length,"Index out of range"),this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(e){if(e.indexOf("//")>=0)throw new F(E,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter((function(e){return e.length>0})))},t.EMPTY_PATH=new t([]),t}(ke),Ie=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.isValidIdentifier=function(e){return Ie.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new F(E,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new F(E,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new F(E,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new F(E,"Unterminated ` in path: "+e);return new t(n)},t.EMPTY_PATH=new t([]),t}(ke),Ae=function(){function e(t){this.path=t,g(e.isDocumentKey(t),"Invalid DocumentKey with an odd number of segments: "+t.toArray().join("/"))}return e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Ce.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Ce.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2===0},e.fromSegments=function(t){return new e(new Ce(t.slice()))},e.fromPathString=function(t){return new e(Ce.fromString(t))},e.EMPTY=new e(new Ce([])),e}(),Oe=function(){function e(e,t){this.key=e,this.version=t}return e.compareByKey=function(e,t){return Ae.comparator(e.key,t.key)},e}(),De=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n)||this;return a.data=r,a.proto=o,a.hasLocalMutations=!!i.hasLocalMutations,a.hasCommittedMutations=!!i.hasCommittedMutations,a}return s.__extends(t,e),t.prototype.field=function(e){return this.data.field(e)},t.prototype.fieldValue=function(e){var t=this.field(e);return t?t.value():void 0},t.prototype.value=function(){return this.data.value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.data.isEqual(e.data)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.compareByField=function(e,t,n){var r=t.field(e),i=n.field(e);return void 0!==r&&void 0!==i?r.compareTo(i):y("Trying to compare documents on fields that don't exist")},t}(Oe),Ne=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return s.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Oe),Pe=function(e){function t(t,n){return e.call(this,t,n)||this}return s.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Oe),Re=function(){function e(e,t){this.comparator=e,this.root=t||Me.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Me.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Me.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Le(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Le(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Le(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Le(this.root,e,this.comparator,!0)},e}(),Le=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){g(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Me=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw y("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw y("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw y("Black depths differ");return e+(this.isRed()?0:1)},e.EMPTY=null,e.RED=!0,e.BLACK=!1,e}(),je=function(){function e(){this.size=0}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Me(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}();Me.EMPTY=new je,function(e){e[e.NullValue=0]="NullValue",e[e.BooleanValue=1]="BooleanValue",e[e.NumberValue=2]="NumberValue",e[e.TimestampValue=3]="TimestampValue",e[e.StringValue=4]="StringValue",e[e.BlobValue=5]="BlobValue",e[e.RefValue=6]="RefValue",e[e.GeoPointValue=7]="GeoPointValue",e[e.ArrayValue=8]="ArrayValue",e[e.ObjectValue=9]="ObjectValue"}(ye||(ye={})),function(e){e[e.Default=0]="Default",e[e.Estimate=1]="Estimate",e[e.Previous=2]="Previous"}(ge||(ge={}));var Fe=function(){function e(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}return e.fromSnapshotOptions=function(t,n){switch(t.serverTimestamps){case"estimate":return new e(ge.Estimate,n);case"previous":return new e(ge.Previous,n);case"none":case void 0:return new e(ge.Default,n);default:return y("fromSnapshotOptions() called with invalid options.")}},e}(),Ue=function(){function e(){}return e.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},e.prototype.defaultCompareTo=function(e){return g(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),he(this.typeOrder,e.typeOrder)},e}(),Be=function(e){function t(){var t=e.call(this)||this;return t.typeOrder=ye.NullValue,t.internalValue=null,t}return s.__extends(t,e),t.prototype.value=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t},t.prototype.compareTo=function(e){return e instanceof t?0:this.defaultCompareTo(e)},t.INSTANCE=new t,t}(Ue),qe=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=ye.BooleanValue,n}return s.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?he(this,e):this.defaultCompareTo(e)},t.of=function(e){return e?t.TRUE:t.FALSE},t.TRUE=new t(!0),t.FALSE=new t(!1),t}(Ue),Ve=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=ye.NumberValue,n}return s.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.compareTo=function(e){return e instanceof t?(n=this.internalValue,r=e.internalValue,n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1):this.defaultCompareTo(e);var n,r},t}(Ue);function ze(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}var We=function(e){function t(t){return e.call(this,t)||this}return s.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&ze(this.internalValue,e.internalValue)},t}(Ve),Ke=function(e){function t(t){var n=e.call(this,t)||this;return n.internalValue=t,n}return s.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&ze(this.internalValue,e.internalValue)},t.NAN=new t(NaN),t.POSITIVE_INFINITY=new t(1/0),t.NEGATIVE_INFINITY=new t(-1/0),t}(Ve),He=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=ye.StringValue,n}return s.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?he(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t}(Ue),Qe=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=ye.TimestampValue,n}return s.__extends(t,e),t.prototype.value=function(e){return!e||e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):e instanceof Ge?-1:this.defaultCompareTo(e)},t}(Ue),Ge=function(e){function t(t,n){var r=e.call(this)||this;return r.localWriteTime=t,r.previousValue=n,r.typeOrder=ye.TimestampValue,r}return s.__extends(t,e),t.prototype.value=function(e){return e&&e.serverTimestampBehavior===ge.Estimate?new Qe(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===ge.Previous&&this.previousValue?this.previousValue.value(e):null},t.prototype.isEqual=function(e){return e instanceof t&&this.localWriteTime.isEqual(e.localWriteTime)},t.prototype.compareTo=function(e){return e instanceof t?this.localWriteTime._compareTo(e.localWriteTime):e instanceof Qe?1:this.defaultCompareTo(e)},t.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},t}(Ue),Ye=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=ye.BlobValue,n}return s.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(Ue),Xe=function(e){function t(t,n){var r=e.call(this)||this;return r.databaseId=t,r.key=n,r.typeOrder=ye.RefValue,r}return s.__extends(t,e),t.prototype.value=function(e){return this.key},t.prototype.isEqual=function(e){return e instanceof t&&(this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId))},t.prototype.compareTo=function(e){if(e instanceof t){var n=this.databaseId.compareTo(e.databaseId);return 0!==n?n:Ae.comparator(this.key,e.key)}return this.defaultCompareTo(e)},t}(Ue),$e=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=ye.GeoPointValue,n}return s.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(Ue),Je=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=ye.ObjectValue,n}return s.__extends(t,e),t.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal((function(n,r){t[n]=r.value(e)})),t},t.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},t.prototype.isEqual=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=he(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return he(n.hasNext(),r.hasNext())}return this.defaultCompareTo(e)},t.prototype.set=function(e,n){if(g(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),n);var r=this.child(e.firstSegment());r instanceof t||(r=t.EMPTY);var i=r.set(e.popFirst(),n);return this.setChild(e.firstSegment(),i)},t.prototype.delete=function(e){if(g(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new t(this.internalValue.remove(e.firstSegment()));var n=this.child(e.firstSegment());if(n instanceof t){var r=n.delete(e.popFirst());return new t(this.internalValue.insert(e.firstSegment(),r))}return this},t.prototype.contains=function(e){return void 0!==this.field(e)},t.prototype.field=function(e){g(!e.isEmpty(),"Can't get field of empty path");var n=this;return e.forEach((function(e){n=n instanceof t&&n.internalValue.get(e)||void 0})),n},t.prototype.toString=function(){return this.internalValue.toString()},t.prototype.child=function(e){return this.internalValue.get(e)||void 0},t.prototype.setChild=function(e,n){return new t(this.internalValue.insert(e,n))},t.EMPTY=new t(new Re(he)),t}(Ue),Ze=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=ye.ArrayValue,n}return s.__extends(t,e),t.prototype.value=function(e){return this.internalValue.map((function(t){return t.value(e)}))},t.prototype.forEach=function(e){this.internalValue.forEach(e)},t.prototype.isEqual=function(e){if(e instanceof t){if(this.internalValue.length!==e.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(e.internalValue[n]))return!1;return!0}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=Math.min(this.internalValue.length,e.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(e.internalValue[r]);if(i)return i}return he(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},t.prototype.toString=function(){return"["+this.internalValue.map((function(e){return e.toString()})).join(",")+"]"},t}(Ue),et=Number,tt=et.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),nt=et.MAX_SAFE_INTEGER||Math.pow(2,53)-1,rt=et.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e};function it(e){return null===e||void 0===e}function ot(e){return rt(e)&&e<=nt&&e>=tt}var at,st=function(){function e(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return e.atPath=function(t){return new e(t)},Object.defineProperty(e.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)e.isKeyField()?this.memoizedOrderBy=[vt]:this.memoizedOrderBy=[new mt(e),vt];else{g(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:dt.ASCENDING;this.memoizedOrderBy.push(a===dt.ASCENDING?vt:yt)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),e.prototype.addFilter=function(t){g(null==this.getInequalityFilterField()||!(t instanceof lt)||!t.isInequality()||t.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),g(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([t]);return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},e.prototype.addOrderBy=function(t){g(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([t]);return new e(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},e.prototype.withLimit=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,this.startAt,this.endAt)},e.prototype.withStartAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,t,this.endAt)},e.prototype.withEndAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,t)},e.prototype.asCollectionQueryAtPath=function(t){return new e(t,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},e.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();this.isCollectionGroupQuery()&&(e+="|cg:"+this.collectionGroup),e+="|f:";for(var t=0,n=this.filters;t<n.length;t++){e+=n[t].canonicalId(),e+=","}e+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++){e+=i[r].canonicalId(),e+=","}it(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},e.prototype.toString=function(){var e="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(e+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(e+=", filters: ["+this.filters.join(", ")+"]"),it(this.limit)||(e+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(e+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),e+")"},e.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(t=0;t<this.filters.length;t++)if(!this.filters[t].isEqual(e.filters[t]))return!1;return this.collectionGroup===e.collectionGroup&&(!!this.path.isEqual(e.path)&&(!(null!==this.startAt?!this.startAt.isEqual(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt)))},e.prototype.docComparator=function(e,t){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(e,t);if(0!==a)return a;n=n||o.field.isKeyField()}return g(n,"orderBy used that doesn't compare on key field"),0},e.prototype.matches=function(e){return this.matchesPathAndCollectionGroup(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},e.prototype.hasLimit=function(){return!it(this.limit)},e.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},e.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof lt&&n.isInequality())return n.field}return null},e.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find((function(e){return e instanceof lt&&e.op===ct.ARRAY_CONTAINS}))},e.prototype.isDocumentQuery=function(){return Ae.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},e.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},e.prototype.matchesPathAndCollectionGroup=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(t):Ae.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isImmediateParentOf(t)},e.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var r=n[t];if(!r.field.isKeyField()&&void 0===e.field(r.field))return!1}return!0},e.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++){if(!n[t].matches(e))return!1}return!0},e.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,e))},e.prototype.assertValidBound=function(e){g(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},e}(),ut=function(){function e(){}return e.create=function(e,t,n){if(n.isEqual(Be.INSTANCE)){if(t!==ct.EQUAL)throw new F(E,"Invalid query. You can only perform equals comparisons on null.");return new ft(e)}if(n.isEqual(Ke.NAN)){if(t!==ct.EQUAL)throw new F(E,"Invalid query. You can only perform equals comparisons on NaN.");return new ht(e)}return new lt(e,t,n)},e}(),ct=function(){function e(e){this.name=e}return e.fromString=function(t){switch(t){case"<":return e.LESS_THAN;case"<=":return e.LESS_THAN_OR_EQUAL;case"==":return e.EQUAL;case">=":return e.GREATER_THAN_OR_EQUAL;case">":return e.GREATER_THAN;case"array-contains":return e.ARRAY_CONTAINS;default:return y("Unknown relation: "+t)}},e.prototype.toString=function(){return this.name},e.prototype.isEqual=function(e){return this.name===e.name},e.LESS_THAN=new e("<"),e.LESS_THAN_OR_EQUAL=new e("<="),e.EQUAL=new e("=="),e.GREATER_THAN=new e(">"),e.GREATER_THAN_OR_EQUAL=new e(">="),e.ARRAY_CONTAINS=new e("array-contains"),e}(),lt=function(e){function t(t,n,r){var i=e.call(this)||this;return i.field=t,i.op=n,i.value=r,i}return s.__extends(t,e),t.prototype.matches=function(e){if(this.field.isKeyField()){g(this.value instanceof Xe,"Comparing on key, but filter value not a RefValue"),g(this.op!==ct.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var t=this.value,n=Ae.comparator(e.key,t.key);return this.matchesComparison(n)}var r=e.field(this.field);return void 0!==r&&this.matchesValue(r)},t.prototype.matchesValue=function(e){var t=this;return this.op===ct.ARRAY_CONTAINS?e instanceof Ze&&void 0!==e.internalValue.find((function(e){return e.isEqual(t.value)})):this.value.typeOrder===e.typeOrder&&this.matchesComparison(e.compareTo(this.value))},t.prototype.matchesComparison=function(e){switch(this.op){case ct.LESS_THAN:return e<0;case ct.LESS_THAN_OR_EQUAL:return e<=0;case ct.EQUAL:return 0===e;case ct.GREATER_THAN:return e>0;case ct.GREATER_THAN_OR_EQUAL:return e>=0;default:return y("Unknown relation op"+this.op)}},t.prototype.isInequality=function(){return this.op!==ct.EQUAL&&this.op!==ct.ARRAY_CONTAINS},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.isEqual=function(e){return e instanceof t&&(this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value))},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}(ut),ft=function(e){function t(t){var n=e.call(this)||this;return n.field=t,n}return s.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return void 0!==t&&null===t.value()},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},t.prototype.toString=function(){return this.field.canonicalString()+" IS null"},t.prototype.isEqual=function(e){return e instanceof t&&this.field.isEqual(e.field)},t}(ut),ht=function(e){function t(t){var n=e.call(this)||this;return n.field=t,n}return s.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field),n=t&&t.value();return"number"===typeof n&&isNaN(n)},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.isEqual=function(e){return e instanceof t&&this.field.isEqual(e.field)},t}(ut),dt=function(){function e(e){this.name=e}return e.prototype.toString=function(){return this.name},e.ASCENDING=new e("asc"),e.DESCENDING=new e("desc"),e}(),pt=function(){function e(e,t){this.position=e,this.before=t}return e.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++){e+=n[t].toString()}return e},e.prototype.sortsBeforeDocument=function(e,t){g(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=e[r],o=this.position[r];if(i.field.isKeyField())g(o instanceof Xe,"Bound has a non-key value where the key path is being used."),n=Ae.comparator(o.key,t.key);else{var a=t.field(i.field);g(void 0!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===dt.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},e.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++){var n=this.position[t],r=e.position[t];return n.isEqual(r)}return!0},e}(),mt=function(){function e(e,t){this.field=e,void 0===t&&(t=dt.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}return e.prototype.compare=function(e,t){var n=this.isKeyOrderBy?De.compareByKey(e,t):De.compareByField(this.field,e,t);switch(this.dir){case dt.ASCENDING:return n;case dt.DESCENDING:return-1*n;default:return y("Unknown direction: "+this.dir)}},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},e.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},e.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},e}(),vt=new mt(xe.keyField(),dt.ASCENDING),yt=new mt(xe.keyField(),dt.DESCENDING),gt=function(){function e(e){this.timestamp=e}return e.fromMicroseconds=function(t){var n=Math.floor(t/1e6);return new e(new Te(n,t%1e6*1e3))},e.fromTimestamp=function(t){return new e(t)},e.forDeletedDoc=function(){return e.MIN},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e.MIN=new e(new Te(0,0)),e}();!function(e){e[e.Listen=0]="Listen",e[e.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",e[e.LimboResolution=2]="LimboResolution"}(at||(at={}));var bt,wt=function(){function e(e,t,n,r,i,o){void 0===i&&(i=gt.MIN),void 0===o&&(o=w()),this.query=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}return e.prototype.copy=function(t){return new e(this.query,this.targetId,this.purpose,void 0===t.sequenceNumber?this.sequenceNumber:t.sequenceNumber,void 0===t.snapshotVersion?this.snapshotVersion:t.snapshotVersion,void 0===t.resumeToken?this.resumeToken:t.resumeToken)},e.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.sequenceNumber===e.sequenceNumber&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.resumeToken===e.resumeToken&&this.query.isEqual(e.query)},e}(),_t=function(){function e(e){this.comparator=e,this.data=new Re(this.comparator)}return e.fromMapKeys=function(t){var n=new e(t.comparator);return t.forEach((function(e){n=n.add(e)})),n},e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();){if(!e(n.getNext().key))return}},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Tt(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Tt(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Tt=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),St=function(){function e(e){this.fields=e}return e.fromSet=function(t){return new e(t)},e.fromArray=function(t){var n=new _t(xe.comparator);return t.forEach((function(e){return n=n.add(e)})),new e(n)},e.prototype.covers=function(e){var t=!1;return this.fields.forEach((function(n){n.isPrefixOf(e)&&(t=!0)})),t},e.prototype.applyTo=function(e){var t=Je.EMPTY;return this.fields.forEach((function(n){if(n.isEmpty())return e;var r=e.field(n);void 0!==r&&(t=t.set(n,r))})),t},e.prototype.isEqual=function(e){return this.fields.isEqual(e.fields)},e}(),Et=function(){function e(e,t){this.field=e,this.transform=t}return Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return this.transform.isIdempotent},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},e}(),kt=function(e,t){this.version=e,this.transformResults=t};!function(e){e[e.Set=0]="Set",e[e.Patch=1]="Patch",e[e.Transform=2]="Transform",e[e.Delete=3]="Delete"}(bt||(bt={}));var Ct=function(){function e(e,t){this.updateTime=e,this.exists=t,g(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}return e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),e.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof De&&e.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===e instanceof De:(g(this.isNone,"Precondition should be empty"),!0)},e.prototype.isEqual=function(e){return t=this.updateTime,n=e.updateTime,(null!==t&&void 0!==t?!(!n||!t.isEqual(n)):t===n)&&this.exists===e.exists;var t,n},e.NONE=new e,e}(),It=function(){function e(){}return e.prototype.verifyKeyMatches=function(e){null!=e&&g(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},e.getPostMutationVersion=function(e){return e instanceof De?e.version:gt.MIN},e}(),xt=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.value=n,i.precondition=r,i.type=bt.Set,i}return s.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),g(null==t.transformResults,"Transform results received by SetMutation.");var n=t.version;return new De(this.key,n,this.value,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=It.getPostMutationVersion(e);return new De(this.key,r,this.value,{hasLocalMutations:!0})},Object.defineProperty(t.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},t}(It),At=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.key=t,o.data=n,o.fieldMask=r,o.precondition=i,o.type=bt.Patch,o}return s.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),g(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return new Pe(this.key,t.version);var n=this.patchDocument(e);return new De(this.key,t.version,n,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=It.getPostMutationVersion(e),i=this.patchDocument(e);return new De(this.key,r,i,{hasLocalMutations:!0})},Object.defineProperty(t.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},t.prototype.patchDocument=function(e){var t;return t=e instanceof De?e.data:Je.EMPTY,this.patchObject(t)},t.prototype.patchObject=function(e){var t=this;return this.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e=void 0!==r?e.set(n,r):e.delete(n)}})),e},t}(It),Ot=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.fieldTransforms=n,r.type=bt.Transform,r.precondition=Ct.exists(!0),r}return s.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),g(null!=t.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(e))return new Pe(this.key,t.version);var n=this.requireDocument(e),r=this.serverTransformResults(e,t.transformResults),i=t.version,o=this.transformObject(n.data,r);return new De(this.key,i,o,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=this.requireDocument(e),i=this.localTransformResults(n,t),o=this.transformObject(r.data,i);return new De(this.key,r.version,o,{hasLocalMutations:!0})},Object.defineProperty(t.prototype,"isIdempotent",{get:function(){for(var e=0,t=this.fieldTransforms;e<t.length;e++){if(!t[e].isIdempotent)return!1}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fieldMask",{get:function(){var e=new _t(xe.comparator);return this.fieldTransforms.forEach((function(t){return e=e.add(t.field)})),new St(e)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&de(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},t.prototype.requireDocument=function(e){g(e instanceof De,"Unknown MaybeDocument type "+e);var t=e;return g(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},t.prototype.serverTransformResults=function(e,t){var n=[];g(this.fieldTransforms.length===t.length,"server transform result count ("+t.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<t.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;e instanceof De&&(a=e.field(i.field)||null),n.push(o.applyToRemoteDocument(a,t[r]))}return n},t.prototype.localTransformResults=function(e,t){for(var n=[],r=0,i=this.fieldTransforms;r<i.length;r++){var o=i[r],a=o.transform,s=null;t instanceof De&&(s=t.field(o.field)||null),n.push(a.applyToLocalView(s,e))}return n},t.prototype.transformObject=function(e,t){g(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;e=e.set(r,t[n])}return e},t}(It),Dt=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.precondition=n,r.type=bt.Delete,r}return s.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),g(null==t.transformResults,"Transform results received by DeleteMutation."),new Ne(this.key,t.version,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&g(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new Ne(this.key,gt.forDeletedDoc())):e},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},Object.defineProperty(t.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),t}(It),Nt=function(){function e(){this.isIdempotent=!0}return e.prototype.applyToLocalView=function(e,t){return new Ge(t,e)},e.prototype.applyToRemoteDocument=function(e,t){return t},e.prototype.isEqual=function(t){return t instanceof e},e.instance=new e,e}(),Pt=function(){function e(e){this.elements=e,this.isIdempotent=!0}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=Mt(e),n=function(e){t.find((function(t){return t.isEqual(e)}))||t.push(e)},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new Ze(t)},e.prototype.isEqual=function(t){return t instanceof e&&de(t.elements,this.elements)},e}(),Rt=function(){function e(e){this.elements=e,this.isIdempotent=!0}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=Mt(e),n=function(e){t=t.filter((function(t){return!t.isEqual(e)}))},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new Ze(t)},e.prototype.isEqual=function(t){return t instanceof e&&de(t.elements,this.elements)},e}(),Lt=function(){function e(e){this.operand=e,this.isIdempotent=!1}return e.prototype.applyToLocalView=function(e,t){if(e instanceof We&&this.operand instanceof We){var n=e.internalValue+this.operand.internalValue;return new We(n)}if(e instanceof Ve){n=e.internalValue+this.operand.internalValue;return new Ke(n)}return this.operand},e.prototype.applyToRemoteDocument=function(e,t){return g(null!==t,"Didn't receive transformResult for NUMERIC_ADD transform"),t},e.prototype.isEqual=function(t){return t instanceof e&&this.operand.isEqual(t.operand)},e}();function Mt(e){return e instanceof Ze?e.internalValue.slice():[]}var jt,Ft=function(){function e(e){this.count=e}return e.prototype.isEqual=function(e){return e&&e.count===this.count},e}();function Ut(e){switch(e){case _:return y("Treated status OK as error");case T:case S:case k:case O:case L:case M:case A:return!1;case E:case C:case I:case x:case D:case N:case P:case R:case j:return!0;default:return y("Unknown status code: "+e)}}function Bt(e){if(void 0===e)return m("GRPC error has no .code"),S;switch(e){case jt.OK:return _;case jt.CANCELLED:return T;case jt.UNKNOWN:return S;case jt.DEADLINE_EXCEEDED:return k;case jt.RESOURCE_EXHAUSTED:return O;case jt.INTERNAL:return L;case jt.UNAVAILABLE:return M;case jt.UNAUTHENTICATED:return A;case jt.INVALID_ARGUMENT:return E;case jt.NOT_FOUND:return C;case jt.ALREADY_EXISTS:return I;case jt.PERMISSION_DENIED:return x;case jt.FAILED_PRECONDITION:return D;case jt.ABORTED:return N;case jt.OUT_OF_RANGE:return P;case jt.UNIMPLEMENTED:return R;case jt.DATA_LOSS:return j;default:return y("Unknown status code: "+e)}}function qt(e){if(void 0===e)return jt.OK;switch(e){case _:return jt.OK;case T:return jt.CANCELLED;case S:return jt.UNKNOWN;case k:return jt.DEADLINE_EXCEEDED;case O:return jt.RESOURCE_EXHAUSTED;case L:return jt.INTERNAL;case M:return jt.UNAVAILABLE;case A:return jt.UNAUTHENTICATED;case E:return jt.INVALID_ARGUMENT;case C:return jt.NOT_FOUND;case I:return jt.ALREADY_EXISTS;case x:return jt.PERMISSION_DENIED;case D:return jt.FAILED_PRECONDITION;case N:return jt.ABORTED;case P:return jt.OUT_OF_RANGE;case R:return jt.UNIMPLEMENTED;case j:return jt.DATA_LOSS;default:return y("Unknown status code: "+e)}}!function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS"}(jt||(jt={}));var Vt=new Re(Ae.comparator);function zt(){return Vt}function Wt(){return zt()}var Kt=new Re(Ae.comparator);function Ht(){return Kt}var Qt=new Re(Ae.comparator);function Gt(){return Qt}var Yt=new _t(Ae.comparator);function Xt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Yt,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var $t=new _t(he);function Jt(){return $t}var Zt,en,tn=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Ae.comparator(t.key,n.key)}:function(e,t){return Ae.comparator(e.key,t.key)},this.keyedMap=Ht(),this.sortedSet=new Re(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}();!function(e){e[e.Added=0]="Added",e[e.Removed=1]="Removed",e[e.Modified=2]="Modified",e[e.Metadata=3]="Metadata"}(Zt||(Zt={})),function(e){e[e.Local=0]="Local",e[e.Synced=1]="Synced"}(en||(en={}));var nn,rn=function(){function e(){this.changeMap=new Re(Ae.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);n?e.type!==Zt.Added&&n.type===Zt.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===Zt.Metadata&&n.type!==Zt.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===Zt.Modified&&n.type===Zt.Modified?this.changeMap=this.changeMap.insert(t,{type:Zt.Modified,doc:e.doc}):e.type===Zt.Modified&&n.type===Zt.Added?this.changeMap=this.changeMap.insert(t,{type:Zt.Added,doc:e.doc}):e.type===Zt.Removed&&n.type===Zt.Added?this.changeMap=this.changeMap.remove(t):e.type===Zt.Removed&&n.type===Zt.Modified?this.changeMap=this.changeMap.insert(t,{type:Zt.Removed,doc:n.doc}):e.type===Zt.Added&&n.type===Zt.Removed?this.changeMap=this.changeMap.insert(t,{type:Zt.Modified,doc:e.doc}):y("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(t,e)},e.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal((function(t,n){e.push(n)})),e},e}(),on=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:Zt.Added,doc:e})})),new e(t,n,tn.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){if(this.fromCache!==e.fromCache||this.syncStateChanged!==e.syncStateChanged||!this.mutatedKeys.isEqual(e.mutatedKeys)||!this.query.isEqual(e.query)||!this.docs.isEqual(e.docs)||!this.oldDocs.isEqual(e.oldDocs))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),an=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r,i=((r={})[t]=sn.createSynthesizedTargetChangeForCurrentChange(t,n),r);return new e(gt.MIN,i,Jt(),zt(),Xt())},e}(),sn=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(w(),n,Xt(),Xt(),Xt())},e}(),un=function(e,t,n,r){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=r},cn=function(e,t){this.targetId=e,this.existenceFilter=t};!function(e){e[e.NoChange=0]="NoChange",e[e.Added=1]="Added",e[e.Removed=2]="Removed",e[e.Current=3]="Current",e[e.Reset=4]="Reset"}(nn||(nn={}));var ln=function(e,t,n,r){void 0===n&&(n=w()),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},fn=function(){function e(){this.pendingResponses=0,this.documentChanges=pn(),this._resumeToken=w(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),e.prototype.updateResumeToken=function(e){e.length>0&&(this._hasPendingChanges=!0,this._resumeToken=e)},e.prototype.toTargetChange=function(){var e=Xt(),t=Xt(),n=Xt();return this.documentChanges.forEach((function(r,i){switch(i){case Zt.Added:e=e.add(r);break;case Zt.Modified:t=t.add(r);break;case Zt.Removed:n=n.add(r);break;default:y("Encountered invalid change type: "+i)}})),new sn(this._resumeToken,this._current,e,t,n)},e.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=pn()},e.prototype.addDocumentChange=function(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)},e.prototype.removeDocumentChange=function(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)},e.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},e.prototype.recordTargetResponse=function(){this.pendingResponses-=1},e.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},e}(),hn=function(){function e(e){this.metadataProvider=e,this.targetStates={},this.pendingDocumentUpdates=zt(),this.pendingDocumentTargetMapping=dn(),this.pendingTargetResets=new _t(he)}return e.prototype.handleDocumentChange=function(e){for(var t=0,n=e.updatedTargetIds;t<n.length;t++){var r=n[t];e.newDoc instanceof De?this.addDocumentToTarget(r,e.newDoc):e.newDoc instanceof Ne&&this.removeDocumentFromTarget(r,e.key,e.newDoc)}for(var i=0,o=e.removedTargetIds;i<o.length;i++){r=o[i];this.removeDocumentFromTarget(r,e.key,e.newDoc)}},e.prototype.handleTargetChange=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ensureTargetState(n);switch(e.state){case nn.NoChange:t.isActiveTarget(n)&&r.updateResumeToken(e.resumeToken);break;case nn.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case nn.Removed:r.recordTargetResponse(),r.isPending||t.removeTarget(n),g(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case nn.Current:t.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case nn.Reset:t.isActiveTarget(n)&&(t.resetTarget(n),r.updateResumeToken(e.resumeToken));break;default:y("Unknown target watch change state: "+e.state)}}))},e.prototype.forEachTarget=function(e,t){e.targetIds.length>0?e.targetIds.forEach(t):V(this.targetStates,t)},e.prototype.handleExistenceFilter=function(e){var t=e.targetId,n=e.existenceFilter.count,r=this.queryDataForActiveTarget(t);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new Ae(i.path);this.removeDocumentFromTarget(t,o,new Ne(o,gt.forDeletedDoc()))}else g(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(t)!==n&&(this.resetTarget(t),this.pendingTargetResets=this.pendingTargetResets.add(t))}},e.prototype.createRemoteEvent=function(e){var t=this,n={};V(this.targetStates,(function(r,i){var o=t.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new Ae(o.query.path);null!==t.pendingDocumentUpdates.get(a)||t.targetContainsDocument(r,a)||t.removeDocumentFromTarget(r,a,new Ne(a,e))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}}));var r=Xt();this.pendingDocumentTargetMapping.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.queryDataForActiveTarget(e);return!n||n.purpose===at.LimboResolution||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new an(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=zt(),this.pendingDocumentTargetMapping=dn(),this.pendingTargetResets=new _t(he),i},e.prototype.addDocumentToTarget=function(e,t){if(this.isActiveTarget(e)){var n=this.targetContainsDocument(e,t.key)?Zt.Modified:Zt.Added;this.ensureTargetState(e).addDocumentChange(t.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}},e.prototype.removeDocumentFromTarget=function(e,t,n){if(this.isActiveTarget(e)){var r=this.ensureTargetState(e);this.targetContainsDocument(e,t)?r.addDocumentChange(t,Zt.Removed):r.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n))}},e.prototype.removeTarget=function(e){delete this.targetStates[e]},e.prototype.getCurrentDocumentCountForTarget=function(e){var t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.recordPendingTargetRequest=function(e){this.ensureTargetState(e).recordPendingTargetRequest()},e.prototype.ensureTargetState=function(e){return this.targetStates[e]||(this.targetStates[e]=new fn),this.targetStates[e]},e.prototype.ensureDocumentTargetMapping=function(e){var t=this.pendingDocumentTargetMapping.get(e);return t||(t=new _t(he),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t},e.prototype.isActiveTarget=function(e){return null!==this.queryDataForActiveTarget(e)},e.prototype.queryDataForActiveTarget=function(e){var t=this.targetStates[e];return t&&t.isPending?null:this.metadataProvider.getQueryDataForTarget(e)},e.prototype.resetTarget=function(e){var t=this;g(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new fn,this.metadataProvider.getRemoteKeysForTarget(e).forEach((function(n){t.removeDocumentFromTarget(e,n,null)}))},e.prototype.targetContainsDocument=function(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)},e}();function dn(){return new Re(Ae.comparator)}function pn(){return new Re(Ae.comparator)}var mn=function(){var e={};return e[dt.ASCENDING.name]="ASCENDING",e[dt.DESCENDING.name]="DESCENDING",e}(),vn=function(){var e={};return e[ct.LESS_THAN.name]="LESS_THAN",e[ct.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",e[ct.GREATER_THAN.name]="GREATER_THAN",e[ct.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",e[ct.EQUAL.name]="EQUAL",e[ct.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",e}(),yn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gn(e,t){g(!it(e),t+" is missing")}function bn(e){return"number"===typeof e?e:"string"===typeof e?Number(e):y("can't parse "+e)}var wn=function(){function e(e,t){this.databaseId=e,this.options=t}return e.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},e.prototype.unsafeCastProtoByteString=function(e){return e},e.prototype.fromRpcStatus=function(e){var t=void 0===e.code?S:Bt(e.code);return new F(t,e.message||"")},e.prototype.toInt32Value=function(e){return it(e)?void 0:{value:e}},e.prototype.fromInt32Value=function(e){var t;return it(t="object"===typeof e?e.value:e)?null:t},e.prototype.toTimestamp=function(e){return{seconds:""+e.seconds,nanos:e.nanoseconds}},e.prototype.fromTimestamp=function(e){if("string"===typeof e)return this.fromIso8601String(e);g(!!e,"Cannot deserialize null or undefined timestamp.");var t=bn(e.seconds||"0"),n=e.nanos||0;return new Te(t,n)},e.prototype.fromIso8601String=function(e){var t=0,n=yn.exec(e);if(g(!!n,"invalid timestamp: "+e),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e),o=Math.floor(i.getTime()/1e3);return new Te(o,t)},e.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},e.prototype.fromBlob=function(e){return"string"===typeof e?(g(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),be.fromBase64String(e)):(g(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),be.fromUint8Array(e))},e.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},e.prototype.fromVersion=function(e){return g(!!e,"Trying to deserialize version that isn't set"),gt.fromTimestamp(this.fromTimestamp(e))},e.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},e.prototype.fromResourceName=function(e){var t=Ce.fromString(e);return g(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},e.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},e.prototype.fromName=function(e){var t=this.fromResourceName(e);return g(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),g(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new Ae(this.extractLocalPathFromResourceName(t))},e.prototype.toQueryPath=function(e){return this.toResourceName(this.databaseId,e)},e.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?Ce.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(e.prototype,"encodedDatabaseId",{get:function(){return new Ce(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),e.prototype.fullyQualifiedPrefixPath=function(e){return new Ce(["projects",e.projectId,"databases",e.database])},e.prototype.extractLocalPathFromResourceName=function(e){return g(e.length>4&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},e.prototype.isValidResourceName=function(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)},e.prototype.toValue=function(e){if(e instanceof Be)return{nullValue:"NULL_VALUE"};if(e instanceof qe)return{booleanValue:e.value()};if(e instanceof We)return{integerValue:""+e.value()};if(e instanceof Ke){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof He?{stringValue:e.value()}:e instanceof Je?{mapValue:this.toMapValue(e)}:e instanceof Ze?{arrayValue:this.toArrayValue(e)}:e instanceof Qe?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof $e?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof Ye?{bytesValue:this.toBytes(e.value())}:e instanceof Xe?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:y("Unknown FieldValue "+JSON.stringify(e))},e.prototype.fromValue=function(e){var t=this;if("nullValue"in e)return Be.INSTANCE;if("booleanValue"in e)return qe.of(e.booleanValue);if("integerValue"in e)return new We(bn(e.integerValue));if("doubleValue"in e){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return Ke.NAN;if("Infinity"===e.doubleValue)return Ke.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return Ke.NEGATIVE_INFINITY}return new Ke(e.doubleValue)}if("stringValue"in e)return new He(e.stringValue);if("mapValue"in e)return this.fromFields(e.mapValue.fields||{});if("arrayValue"in e){gn(e.arrayValue,"arrayValue");var n=e.arrayValue.values||[];return new Ze(n.map((function(e){return t.fromValue(e)})))}if("timestampValue"in e)return gn(e.timestampValue,"timestampValue"),new Qe(this.fromTimestamp(e.timestampValue));if("geoPointValue"in e){gn(e.geoPointValue,"geoPointValue");var r=e.geoPointValue.latitude||0,i=e.geoPointValue.longitude||0;return new $e(new _e(r,i))}if("bytesValue"in e){gn(e.bytesValue,"bytesValue");var o=this.fromBlob(e.bytesValue);return new Ye(o)}if("referenceValue"in e){gn(e.referenceValue,"referenceValue");var a=this.fromResourceName(e.referenceValue),s=new Ee(a.get(1),a.get(3)),u=new Ae(this.extractLocalPathFromResourceName(a));return new Xe(s,u)}return y("Unknown Value proto "+JSON.stringify(e))},e.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},e.prototype.toDocument=function(e){return g(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data),updateTime:this.toTimestamp(e.version.toTimestamp())}},e.prototype.fromDocument=function(e,t){return new De(this.fromName(e.name),this.fromVersion(e.updateTime),this.fromFields(e.fields||{}),{hasCommittedMutations:!!t})},e.prototype.toFields=function(e){var t=this,n={};return e.forEach((function(e,r){n[e]=t.toValue(r)})),n},e.prototype.fromFields=function(e){var t=this,n=e,r=Je.EMPTY;return z(n,(function(e,n){r=r.set(new xe([e]),t.fromValue(n))})),r},e.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},e.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.toValue(e))})),{values:n}},e.prototype.fromFound=function(e){g(!!e.found,"Tried to deserialize a found document from a missing document."),gn(e.found.name,"doc.found.name"),gn(e.found.updateTime,"doc.found.updateTime");var t=this.fromName(e.found.name),n=this.fromVersion(e.found.updateTime),r=this.fromFields(e.found.fields||{});return new De(t,n,r,{},e.found)},e.prototype.fromMissing=function(e){g(!!e.missing,"Tried to deserialize a missing document from a found document."),g(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new Ne(t,n)},e.prototype.fromMaybeDocument=function(e){return"found"in e?this.fromFound(e):"missing"in e?this.fromMissing(e):y("invalid batch get response: "+JSON.stringify(e))},e.prototype.toWatchTargetChangeState=function(e){switch(e){case nn.Added:return"ADD";case nn.Current:return"CURRENT";case nn.NoChange:return"NO_CHANGE";case nn.Removed:return"REMOVE";case nn.Reset:return"RESET";default:return y("Unknown WatchTargetChangeState: "+e)}},e.prototype.toTestWatchChange=function(e){if(e instanceof cn)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof un){if(e.newDoc instanceof De){var t=e.newDoc;return{documentChange:{document:{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}}}if(e.newDoc instanceof Ne){t=e.newDoc;return{documentDelete:{document:this.toName(t.key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}}}if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof ln){var n=void 0;return e.cause&&(n={code:qt(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return y("Unrecognized watch change: "+JSON.stringify(e))},e.prototype.fromWatchChange=function(e){var t;if("targetChange"in e){gn(e.targetChange,"targetChange");var n=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=e.targetChange.resumeToken||this.emptyByteString(),o=e.targetChange.cause,a=o&&this.fromRpcStatus(o);t=new ln(n,r,i,a||null)}else if("documentChange"in e){gn(e.documentChange,"documentChange"),gn(e.documentChange.document,"documentChange.name"),gn(e.documentChange.document.name,"documentChange.document.name"),gn(e.documentChange.document.updateTime,"documentChange.document.updateTime");var s=e.documentChange,u=this.fromName(s.document.name),c=this.fromVersion(s.document.updateTime),l=this.fromFields(s.document.fields||{}),f=new De(u,c,l,{},s.document),h=s.targetIds||[],d=s.removedTargetIds||[];t=new un(h,d,f.key,f)}else if("documentDelete"in e){gn(e.documentDelete,"documentDelete"),gn(e.documentDelete.document,"documentDelete.document");var p=e.documentDelete;u=this.fromName(p.document),c=p.readTime?this.fromVersion(p.readTime):gt.forDeletedDoc(),f=new Ne(u,c),d=p.removedTargetIds||[];t=new un([],d,f.key,f)}else if("documentRemove"in e){gn(e.documentRemove,"documentRemove"),gn(e.documentRemove.document,"documentRemove");var m=e.documentRemove;u=this.fromName(m.document),d=m.removedTargetIds||[];t=new un([],d,u,null)}else{if(!("filter"in e))return y("Unknown change type "+JSON.stringify(e));gn(e.filter,"filter"),gn(e.filter.targetId,"filter.targetId");var v=e.filter,g=v.count||0,b=new Ft(g),w=v.targetId;t=new cn(w,b)}return t},e.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?nn.NoChange:"ADD"===e?nn.Added:"REMOVE"===e?nn.Removed:"CURRENT"===e?nn.Current:"RESET"===e?nn.Reset:y("Got unexpected TargetChange.state: "+e)},e.prototype.versionFromListenResponse=function(e){if(!("targetChange"in e))return gt.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?gt.MIN:t.readTime?this.fromVersion(t.readTime):gt.MIN},e.prototype.toMutation=function(e){var t,n=this;if(e instanceof xt)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof Dt)t={delete:this.toName(e.key)};else if(e instanceof At)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else{if(!(e instanceof Ot))return y("Unknown mutation type "+e.type);t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map((function(e){return n.toFieldTransform(e)}))}}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},e.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):Ct.NONE;if(e.update){gn(e.update.name,"name");var r=this.fromName(e.update.name),i=this.fromFields(e.update.fields||{});if(e.updateMask){var o=this.fromDocumentMask(e.updateMask);return new At(r,i,o,n)}return new xt(r,i,n)}if(e.delete){r=this.fromName(e.delete);return new Dt(r,n)}if(e.transform){r=this.fromName(e.transform.document);var a=e.transform.fieldTransforms.map((function(e){return t.fromFieldTransform(e)}));return g(!0===n.exists,'Transforms only support precondition "exists == true"'),new Ot(r,a)}return y("unknown mutation proto: "+JSON.stringify(e))},e.prototype.toPrecondition=function(e){return g(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:y("Unknown precondition")},e.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?Ct.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?Ct.exists(e.exists):Ct.NONE},e.prototype.fromWriteResult=function(e,t){var n=this,r=e.updateTime?this.fromVersion(e.updateTime):this.fromVersion(t),i=null;return e.transformResults&&e.transformResults.length>0&&(i=e.transformResults.map((function(e){return n.fromValue(e)}))),new kt(r,i)},e.prototype.fromWriteResults=function(e,t){var n=this;return e&&e.length>0?(g(void 0!==t,"Received a write result without a commit time"),e.map((function(e){return n.fromWriteResult(e,t)}))):[]},e.prototype.toFieldTransform=function(e){var t=this,n=e.transform;if(n instanceof Nt)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Pt)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof Rt)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof Lt)return{fieldPath:e.field.canonicalString(),increment:this.toValue(n.operand)};throw y("Unknown transform: "+e.transform)},e.prototype.fromFieldTransform=function(e){var t=this,n=null;if("setToServerValue"in e)g("REQUEST_TIME"===e.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(e)),n=Nt.instance;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Pt(r.map((function(e){return t.fromValue(e)})))}else if("removeAllFromArray"in e){r=e.removeAllFromArray.values||[];n=new Rt(r.map((function(e){return t.fromValue(e)})))}else if("increment"in e){var i=this.fromValue(e.increment);g(i instanceof Ve,"NUMERIC_ADD transform requires a NumberValue"),n=new Lt(i)}else y("Unknown transform proto: "+JSON.stringify(e));var o=xe.fromServerFormat(e.fieldPath);return new Et(o,n)},e.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},e.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;g(1===t,"DocumentsTarget contained other than 1 document: "+t);var n=e.documents[0];return st.atPath(this.fromQueryPath(n))},e.prototype.toQueryTarget=function(e){var t={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(g(n.length%2===0,"Collection Group queries should be within a document path or root."),t.parent=this.toQueryPath(n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(g(n.length%2!==0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(e.filters);r&&(t.structuredQuery.where=r);var i=this.toOrder(e.orderBy);i&&(t.structuredQuery.orderBy=i);var o=this.toInt32Value(e.limit);return void 0!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},e.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){g(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var c=null;n.startAt&&(c=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new st(t,i,s,a,u,c,l)},e.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},e.prototype.toLabel=function(e){switch(e){case at.Listen:return null;case at.ExistenceFilterMismatch:return"existence-filter-mismatch";case at.LimboResolution:return"limbo-document";default:return y("Unrecognized query purpose: "+e)}},e.prototype.toTarget=function(e){var t,n=e.query;return(t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=e.targetId,e.resumeToken.length>0&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},e.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map((function(e){return e instanceof lt?t.toRelationFilter(e):t.toUnaryFilter(e)}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},e.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromRelationFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t.fromFilter(e)})).reduce((function(e,t){return e.concat(t)})):y("Unknown filter: "+JSON.stringify(e)):[]},e.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map((function(e){return t.toPropertyOrder(e)}))},e.prototype.fromOrder=function(e){var t=this;return e.map((function(e){return t.fromPropertyOrder(e)}))},e.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map((function(e){return t.toValue(e)}))}},e.prototype.fromCursor=function(e){var t=this,n=!!e.before,r=e.values.map((function(e){return t.fromValue(e)}));return new pt(r,n)},e.prototype.toDirection=function(e){return mn[e.name]},e.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return dt.ASCENDING;case"DESCENDING":return dt.DESCENDING;default:return}},e.prototype.toOperatorName=function(e){return vn[e.name]},e.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return ct.EQUAL;case"GREATER_THAN":return ct.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return ct.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return ct.LESS_THAN;case"LESS_THAN_OR_EQUAL":return ct.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return ct.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return y("Unspecified relation");default:return y("Unknown relation")}},e.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},e.prototype.fromFieldPathReference=function(e){return xe.fromServerFormat(e.fieldPath)},e.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},e.prototype.fromPropertyOrder=function(e){return new mt(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},e.prototype.toRelationFilter=function(e){return e instanceof lt?{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}:y("Unrecognized filter: "+JSON.stringify(e))},e.prototype.fromRelationFilter=function(e){return new lt(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},e.prototype.toUnaryFilter=function(e){return e instanceof ht?{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}}:e instanceof ft?{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}:y("Unrecognized filter: "+JSON.stringify(e))},e.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return new ht(t);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return new ft(n);case"OPERATOR_UNSPECIFIED":return y("Unspecified filter");default:return y("Unknown filter")}},e.prototype.toDocumentMask=function(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}},e.prototype.fromDocumentMask=function(e){var t=(e.fieldPaths||[]).map((function(e){return xe.fromServerFormat(e)}));return St.fromArray(t)},e}(),_n=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.shutdown=function(){},e}(),Tn=function(){function e(){var e=this;this.networkAvailableListener=function(){return e.onNetworkAvailable()},this.networkUnavailableListener=function(){return e.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return e.prototype.addCallback=function(e){this.callbacks.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},e.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},e.prototype.onNetworkAvailable=function(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++){(0,t[e])(0)}},e.prototype.onNetworkUnavailable=function(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++){(0,t[e])(1)}},e}(),Sn=function(){function e(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}return e.prototype.onOpen=function(e){g(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},e.prototype.onClose=function(e){g(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},e.prototype.onMessage=function(e){g(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},e.prototype.close=function(){this.closeFn()},e.prototype.send=function(e){this.sendFn(e)},e.prototype.callOnOpen=function(){g(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},e.prototype.callOnClose=function(e){g(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},e.prototype.callOnMessage=function(e){g(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},e}(),En="Connection",kn={BatchGetDocuments:"batchGet",Commit:"commit"},Cn="gl-js/ fire/"+l,In=function(){function e(e){this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.baseUrl=t+"://"+e.host,this.forceLongPolling=e.forceLongPolling}return e.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=Cn},e.prototype.invokeRPC=function(e,t,n){var r=this,i=this.makeUrl(e);return new Promise((function(o,a){var s=new u.XhrIo;s.listenOnce(u.EventType.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var t=s.getResponseJson();p(En,"XHR received:",JSON.stringify(t)),o(t);break;case u.ErrorCode.TIMEOUT:p(En,'RPC "'+e+'" timed out'),a(new F(k,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=s.getStatus();p(En,'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0?a(new F(function(e){switch(e){case 200:return _;case 400:return E;case 401:return A;case 403:return x;case 404:return C;case 409:return N;case 416:return P;case 429:return O;case 499:return T;case 500:return S;case 501:return R;case 503:return M;case 504:return k;default:return e>=200&&e<300?_:e>=400&&e<500?D:e>=500&&e<600?L:S}}(n),"Server responded with status "+s.getStatusText())):(p(En,'RPC "'+e+'" failed'),a(new F(M,"Connection failed.")));break;default:y('RPC "'+e+'" failed with unanticipated webchannel error '+s.getLastErrorCode()+": "+s.getLastError()+", giving up.")}}finally{p(En,'RPC "'+e+'" completed.')}}));var c=JSON.stringify(t);p(En,"XHR sending: ",i+" "+c);var l={"Content-Type":"text/plain"};r.modifyHeadersForRequest(l,n),s.send(i,"POST",c,l,15)}))},e.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},e.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=u.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,t),c.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");p(En,"Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),s=!1,l=!1,f=new Sn({sendFn:function(e){l?p(En,"Not sending because WebChannel is closed:",e):(s||(p(En,"Opening WebChannel transport."),a.open(),s=!0),p(En,"WebChannel sending:",e),a.send(e))},closeFn:function(){return a.close()}}),h=function(e,t){a.listen(e,(function(e){try{t(e)}catch(n){setTimeout((function(){throw n}),0)}}))};return h(u.WebChannel.EventType.OPEN,(function(){l||p(En,"WebChannel transport opened.")})),h(u.WebChannel.EventType.CLOSE,(function(){l||(l=!0,p(En,"WebChannel transport closed"),f.callOnClose())})),h(u.WebChannel.EventType.ERROR,(function(e){l||(l=!0,p(En,"WebChannel transport errored:",e),f.callOnClose(new F(M,"The operation could not be completed")))})),h(u.WebChannel.EventType.MESSAGE,(function(e){if(!l){var t=e.data[0];g(!!t,"Got a webchannel message without data.");var n=t.error||t[0]&&t[0].error;if(n){p(En,"WebChannel received error:",n);var r=n.status,i=function(e){var t=jt[e];if(void 0!==t)return Bt(t)}(r),o=n.message;void 0===i&&(i=L,o="Unknown error status: "+r+" with message "+n.message),l=!0,f.callOnClose(new F(i,o)),a.close()}else p(En,"WebChannel received:",t),f.callOnMessage(t)}})),setTimeout((function(){f.callOnOpen()}),0),f},e.prototype.makeUrl=function(e){var t=kn[e];g(void 0!==t,"Unknown REST mapping for: "+e);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(t),n.join("")},e}(),xn=function(){function e(){this.emptyByteString="",this.base64Available="undefined"!==typeof atob}return Object.defineProperty(e.prototype,"document",{get:function(){return"undefined"!==typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return"undefined"!==typeof window?window:null},enumerable:!0,configurable:!0}),e.prototype.loadConnection=function(e){return Promise.resolve(new In(e))},e.prototype.newConnectivityMonitor=function(){return this.window?new Tn:new _n},e.prototype.newSerializer=function(e){return new wn(e,{useProto3Json:!0})},e.prototype.formatJSON=function(e){return JSON.stringify(e)},e.prototype.atob=function(e){return atob(e)},e.prototype.btoa=function(e){return btoa(e)},e}();b.setPlatform(new xn);var An,On=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.setPreviousValue(e)},this.writeNewSequenceNumber=function(e){return t.writeSequenceNumber(e)})}return e.prototype.setPreviousValue=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e},e.INVALID=-1,e}(),Dn=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))};!function(e){e.All="all",e.ListenStreamIdle="listen_stream_idle",e.ListenStreamConnectionBackoff="listen_stream_connection_backoff",e.WriteStreamIdle="write_stream_idle",e.WriteStreamConnectionBackoff="write_stream_connection_backoff",e.OnlineStateTimeout="online_state_timeout",e.ClientMetadataRefresh="client_metadata_refresh",e.LruGarbageCollection="lru_garbage_collection"}(An||(An={}));var Nn=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new F(T,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}(),Pn=function(){function e(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueue=function(e){var t=this;this.verifyNotFailed();var n=this.tail.then((function(){return t.operationInProgress=!0,e().catch((function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw m("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw e}),0),e})).then((function(e){return t.operationInProgress=!1,e}))}));return this.tail=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.verifyNotFailed(),g(t>=0,"Attempted to schedule an operation with a negative delay of "+t),g(!this.containsDelayedOperation(e),"Attempted to schedule multiple operations with timer id "+e+".");var i=Nn.createAndSchedule(this,e,t,n,(function(e){return r.removeDelayedOperation(e)}));return this.delayedOperations.push(i),i},e.prototype.verifyNotFailed=function(){this.failure&&y("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},e.prototype.verifyOperationInProgress=function(){g(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},e.prototype.drain=function(){return this.enqueue((function(){return Promise.resolve()}))},e.prototype.containsDelayedOperation=function(e){for(var t=0,n=this.delayedOperations;t<n.length;t++){if(n[t].timerId===e)return!0}return!1},e.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then((function(){g(e===An.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),e!==An.All&&i.timerId===e)break}return t.drain()}))},e.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);g(t>=0,"Delayed operation not found."),this.delayedOperations.splice(t,1)},e}();function Rn(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Mn(t)),t=Ln(e.get(n),t);return Mn(t)}function Ln(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Mn(e){return e+"\x01\x01"}function jn(e){var t=e.length;if(g(t>=2,"Invalid path "+e),2===t)return g("\x01"===e.charAt(0)&&"\x01"===e.charAt(1),"Non-empty path "+e+" had length 2"),Ce.EMPTY_PATH;for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&y('Invalid encoded resource path: "'+e+'"'),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:y('Invalid encoded resource path: "'+e+'"')}o=a+2}return new Ce(r)}var Fn=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r,g(r.length>0,"Cannot create an empty mutation batch")}return e.prototype.applyToRemoteDocument=function(e,t,n){t&&g(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var r=n.mutationResults;g(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(e)){var a=r[i];t=o.applyToRemoteDocument(t,a)}}return t},e.prototype.applyToLocalView=function(e,t){t&&g(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=0,r=this.baseMutations;n<r.length;n++){(s=r[n]).key.isEqual(e)&&(t=s.applyToLocalView(t,t,this.localWriteTime))}for(var i=t,o=0,a=this.mutations;o<a.length;o++){var s;(s=a[o]).key.isEqual(e)&&(t=s.applyToLocalView(t,i,this.localWriteTime))}return t},e.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.applyToLocalView(r.key,e.get(r.key));i&&(n=n.insert(r.key,i))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Xt())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&de(this.mutations,e.mutations)&&de(this.baseMutations,e.baseMutations)},e}(),Un=function(){function e(e,t,n,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return e.from=function(t,n,r,i){g(t.mutations.length===r.length,"Mutations sent "+t.mutations.length+" must equal results received "+r.length);for(var o=Gt(),a=t.mutations,s=0;s<a.length;s++)o=o.insert(a[s].key,r[s].version);return new e(t,n,r,i,o)},e}(),Bn=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&y("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++){r(o[i])}return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),qn=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return e.forUser=function(t,n,r,i){return g(""!==t.uid,"UserID must not be an empty string."),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kn(e).iterate({index:Sr.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next((function(t){return t.lastStreamToken=Wn(n),Qn(e).put(t)}))},e.prototype.getLastStreamToken=function(e){return this.getMutationQueueMetadata(e).next((function(e){return e.lastStreamToken}))},e.prototype.setLastStreamToken=function(e,t){return this.getMutationQueueMetadata(e).next((function(n){return n.lastStreamToken=Wn(t),Qn(e).put(n)}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Hn(e),a=Kn(e);return a.add({}).next((function(s){g("number"===typeof s,"Auto-generated key is not a number");var u=new Fn(s,t,n,r),c=i.serializer.toDbMutationBatch(i.userId,u);i.documentKeysByBatchId[s]=u.keys();for(var l=[],f=0,h=r;f<h.length;f++){var d=h[f],p=Er.key(i.userId,d.key.path,s);l.push(a.put(c)),l.push(o.put(p,Er.PLACEHOLDER)),l.push(i.indexManager.addToCollectionParentIndex(e,d.key.path.popLast()))}return Bn.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Kn(e).get(t).next((function(e){return e?(g(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),n.serializer.fromDbMutationBatch(e)):null}))},e.prototype.lookupMutationKeys=function(e,t){var n=this;return this.documentKeysByBatchId[t]?Bn.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.documentKeysByBatchId[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this;return this.getMutationQueueMetadata(e).next((function(r){var i=t+1,o=IDBKeyRange.lowerBound([n.userId,i]),a=null;return Kn(e).iterate({index:Sr.userMutationsIndex,range:o},(function(e,t,r){t.userId===n.userId&&(g(t.batchId>=i,"Should have found mutation after "+i),a=n.serializer.fromDbMutationBatch(t)),r.done()})).next((function(){return a}))}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kn(e).loadAll(Sr.userMutationsIndex,n).next((function(e){return e.map((function(e){return t.serializer.fromDbMutationBatch(e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Er.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Hn(e).iterate({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=jn(u);if(s===n.userId&&t.path.isEqual(l))return Kn(e).get(c).next((function(e){if(!e)throw y("Dangling document-mutation reference found: "+r+" which points to "+c);g(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+c),o.push(n.serializer.fromDbMutationBatch(e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new _t(he),i=[];return t.forEach((function(t){var o=Er.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Hn(e).iterate({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=jn(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Bn.waitFor(i).next((function(){return n.lookupMutationBatches(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;g(!t.isDocumentQuery(),"Document queries shouldn't go down this path"),g(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=t.path,i=r.length+1,o=Er.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new _t(he);return Hn(e).iterate({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=jn(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.lookupMutationBatches(e,s)}))},e.prototype.lookupMutationBatches=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Kn(e).get(t).next((function(e){if(null===e)throw y("Dangling document-mutation reference found, which points to "+t);g(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),r.push(n.serializer.fromDbMutationBatch(e))})))})),Bn.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return zn(e.simpleDbTransaction,this.userId,t).next((function(r){return n.removeCachedMutationKeys(t.batchId),Bn.forEach(r,(function(t){return n.referenceDelegate.removeMutationReference(e,t)}))}))},e.prototype.removeCachedMutationKeys=function(e){delete this.documentKeysByBatchId[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Bn.resolve();var r=IDBKeyRange.lowerBound(Er.prefixForUser(t.userId)),i=[];return Hn(e).iterate({range:r},(function(e,n,r){if(e[0]===t.userId){var o=jn(e[1]);i.push(o)}else r.done()})).next((function(){g(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(e){return e.canonicalString()})))}))}))},e.prototype.containsKey=function(e,t){return Vn(e,this.userId,t)},e.prototype.getMutationQueueMetadata=function(e){var t=this;return Qn(e).get(this.userId).next((function(e){return e||new Tr(t.userId,-1,"")}))},e}();function Vn(e,t,n){var r=Er.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Hn(e).iterate({range:o,keysOnly:!0},(function(e,n,r){var o=e[0],s=e[1];e[2];o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function zn(e,t,n){var r=e.store(Sr.store),i=e.store(Er.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){g(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=Er.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return Bn.waitFor(o).next((function(){return c}))}function Wn(e){return e instanceof Uint8Array?(g("YES"===Object({NODE_ENV:"production",PUBLIC_URL:"/SteelDivisionDB",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function Kn(e){return Xr.getStore(e,Sr.store)}function Hn(e){return Xr.getStore(e,Er.store)}function Qn(e){return Xr.getStore(e,Tr.store)}var Gn;!function(e){e[e.QueryCache=0]="QueryCache",e[e.SyncEngine=1]="SyncEngine"}(Gn||(Gn={}));var Yn=function(){function e(e,t){this.generatorId=e,g((1&e)===e,"Generator ID "+e+" contains more than 1 reserved bits"),this.seek(void 0!==t?t:this.generatorId)}return e.prototype.next=function(){var e=this.nextId;return this.nextId+=2,e},e.prototype.after=function(e){return this.seek(e+2),this.next()},e.prototype.seek=function(e){g((1&e)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=e},e.forQueryCache=function(){return new e(Gn.QueryCache,2)},e.forSyncEngine=function(){return new e(Gn.SyncEngine)},e}(),Xn=function(){function e(e){this.db=e}return e.openOrCreate=function(t,n,r){return g(e.isAvailable(),"IndexedDB not supported in current environment."),p("SimpleDb","Opening database:",t),new Bn((function(i,o){var a=window.indexedDB.open(t,n);a.onsuccess=function(t){var n=t.target.result;i(new e(n))},a.onblocked=function(){o(new F(D,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(e){var t=e.target.error;"VersionError"===t.name?o(new F(D,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o(t)},a.onupgradeneeded=function(e){p("SimpleDb",'Database "'+t+'" requires upgrade from version:',e.oldVersion);var n=e.target.result,i=new Jn(a.transaction);r.createOrUpgrade(n,i,e.oldVersion,gr).next((function(){p("SimpleDb","Database upgrade to version "+gr+" complete")}))}})).toPromise()},e.delete=function(e){return p("SimpleDb","Removing database:",e),er(window.indexedDB.deleteDatabase(e)).toPromise()},e.isAvailable=function(){if("undefined"===typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===Object({NODE_ENV:"production",PUBLIC_URL:"/SteelDivisionDB",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).USE_MOCK_PERSISTENCE;var t=window.navigator.userAgent,n=e.getIOSVersion(t),r=0<n&&n<10,i=e.getAndroidVersion(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.getStore=function(e,t){return e.store(t)},e.getIOSVersion=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_")[0]:"-1";return Number(n)},e.getAndroidVersion=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.setVersionChangeListener=function(e){this.db.onversionchange=function(t){return e(t)}},e.prototype.runTransaction=function(e,t,n){var r=Jn.open(this.db,e,t),i=n(r).catch((function(e){return r.abort(e),Bn.reject(e)})).toPromise();return i.catch((function(){})),r.completionPromise.then((function(){return i}))},e.prototype.close=function(){this.db.close()},e}(),$n=function(){function e(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),e.prototype.done=function(){this.shouldStop=!0},e.prototype.skip=function(e){this.nextKey=e},e.prototype.delete=function(){return er(this.dbCursor.delete())},e}(),Jn=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.completionDeferred=new Dn,this.transaction.oncomplete=function(){t.completionDeferred.resolve()},this.transaction.onabort=function(){e.error?t.completionDeferred.reject(e.error):t.completionDeferred.resolve()},this.transaction.onerror=function(e){t.completionDeferred.reject(e.target.error)}}return e.open=function(t,n,r){return new e(t.transaction(r,n))},Object.defineProperty(e.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){e&&this.completionDeferred.reject(e),this.aborted||(p("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return g(!!t,"Object store not part of transaction: "+e),new Zn(t)},e}(),Zn=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(p("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),er(n)},e.prototype.add=function(e){return p("SimpleDb","ADD",this.store.name,e,e),er(this.store.add(e))},e.prototype.get=function(e){var t=this;return er(this.store.get(e)).next((function(n){return void 0===n&&(n=null),p("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return p("SimpleDb","DELETE",this.store.name,e),er(this.store.delete(e))},e.prototype.count=function(){return p("SimpleDb","COUNT",this.store.name),er(this.store.count())},e.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.iterateCursor(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.deleteAll=function(e,t){p("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,(function(e,t,n){return n.delete()}))},e.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.iterateCursor(r,t)},e.prototype.iterateSerial=function(e){var t=this.cursor({});return new Bn((function(n,r){t.onerror=function(e){r(e.target.error)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.iterateCursor=function(e,t){var n=[];return new Bn((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new $n(i),a=t(i.primaryKey,i.value,o);if(a instanceof Bn){var s=a.catch((function(e){return o.done(),Bn.reject(e)}));n.push(s)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}})).next((function(){return Bn.waitFor(n)}))},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"===typeof e?n=e:(g(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function er(e){return new Bn((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){n(e.target.error)}}))}var tr=function(){function e(e,t){this.referenceDelegate=e,this.serializer=t,this.targetIdGenerator=Yn.forQueryCache()}return e.prototype.allocateTargetId=function(e){var t=this;return this.retrieveMetadata(e).next((function(n){return n.highestTargetId=t.targetIdGenerator.after(n.highestTargetId),t.saveMetadata(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.retrieveMetadata(e).next((function(e){return gt.fromTimestamp(new Te(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return ir(e.simpleDbTransaction)},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.retrieveMetadata(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.saveMetadata(e,i)}))},e.prototype.addQueryData=function(e,t){var n=this;return this.saveQueryData(e,t).next((function(){return n.retrieveMetadata(e).next((function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(t,r),n.saveMetadata(e,r)}))}))},e.prototype.updateQueryData=function(e,t){return this.saveQueryData(e,t)},e.prototype.removeQueryData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return nr(e).delete(t.targetId)})).next((function(){return n.retrieveMetadata(e)})).next((function(t){return g(t.targetCount>0,"Removing from an empty query cache"),t.targetCount-=1,n.saveMetadata(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return nr(e).iterate((function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=t&&void 0===n[u.targetId]&&(i++,o.push(r.removeQueryData(e,u)))})).next((function(){return Bn.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){var n=this;return nr(e).iterate((function(e,r){var i=n.serializer.fromDbTarget(r);t(i)}))},e.prototype.retrieveMetadata=function(e){return rr(e.simpleDbTransaction)},e.prototype.saveMetadata=function(e,t){return(n=e,Xr.getStore(n,Dr.store)).put(Dr.key,t);var n},e.prototype.saveQueryData=function(e,t){return nr(e).put(this.serializer.toDbTarget(t))},e.prototype.updateMetadataFromQueryData=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getQueryCount=function(e){return this.retrieveMetadata(e).next((function(e){return e.targetCount}))},e.prototype.getQueryData=function(e,t){var n=this,r=t.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return nr(e).iterate({range:i,index:Ar.queryTargetsIndexName},(function(e,r,i){var a=n.serializer.fromDbTarget(r);t.isEqual(a.query)&&(o=a,i.done())})).next((function(){return o}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=or(e);return t.forEach((function(t){var a=Rn(t.path);i.push(o.put(new Or(n,a))),i.push(r.referenceDelegate.addReference(e,t))})),Bn.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=or(e);return Bn.forEach(t,(function(t){var o=Rn(t.path);return Bn.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=or(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=or(e),i=Xt();return r.iterate({range:n,keysOnly:!0},(function(e,t,n){var r=jn(e[1]),o=new Ae(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Rn(t.path),r=IDBKeyRange.bound([n],[pe(n)],!1,!0),i=0;return or(e).iterate({index:Or.documentTargetsIndex,keysOnly:!0,range:r},(function(e,t,n){var r=e[0];e[1];0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.getQueryDataForTarget=function(e,t){var n=this;return nr(e).get(t).next((function(e){return e?n.serializer.fromDbTarget(e):null}))},e}();function nr(e){return Xr.getStore(e,Ar.store)}function rr(e){return Xn.getStore(e,Dr.store).get(Dr.key).next((function(e){return g(null!==e,"Missing metadata row."),e}))}function ir(e){return rr(e).next((function(e){return e.highestListenSequenceNumber}))}function or(e){return Xr.getStore(e,Or.store)}var ar=function(){function e(e){this.mapKeyFn=e,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.isEqual(e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){z(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return W(this.inner)},e}(),sr=function(){function e(){this.changes=zt(),this.documentSizes=new ar((function(e){return e.toString()}))}return e.prototype.addEntry=function(e){var t=this.assertChanges();this.changes=t.insert(e.key,e)},e.prototype.getEntry=function(e,t){var n=this,r=this.assertChanges().get(t);return r?Bn.resolve(r):this.getFromCache(e,t).next((function(e){return null===e?(n.documentSizes.set(t,0),null):(n.documentSizes.set(t,e.size),e.maybeDocument)}))},e.prototype.getEntries=function(e,t){var n=this;return this.getAllFromCache(e,t).next((function(e){var t=e.maybeDocuments;return e.sizeMap.forEach((function(e,t){n.documentSizes.set(e,t)})),t}))},e.prototype.apply=function(e){var t=this.applyChanges(e);return this.changes=null,t},e.prototype.assertChanges=function(){return g(null!==this.changes,"Changes have already been applied."),this.changes},e}(),ur="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",cr=function(){function e(e,t,n){this.serializer=e,this.indexManager=t,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(e.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),e.prototype.start=function(e){var t=Xn.getStore(e,Rr.store);return this.synchronizeLastDocumentChangeId(t)},e.prototype.addEntries=function(e,t,n){var r=[];if(t.length>0){for(var i=hr(e),o=Xt(),a=0,s=t;a<s.length;a++){var u=s[a],c=u.key,l=u.doc;r.push(i.put(pr(c),l)),o=o.add(c),r.push(this.indexManager.addToCollectionParentIndex(e,c.path.popLast()))}this.keepDocumentChangeLog&&r.push(dr(e).put({changes:this.serializer.toDbResourcePaths(o)})),r.push(this.updateSize(e,n))}return Bn.waitFor(r)},e.prototype.removeEntry=function(e,t){var n=hr(e),r=pr(t);return n.get(r).next((function(e){return e?n.delete(r).next((function(){return mr(e)})):Bn.resolve(0)}))},e.prototype.getEntry=function(e,t){var n=this;return hr(e).get(pr(t)).next((function(e){return e?n.serializer.fromDbRemoteDocument(e):null}))},e.prototype.getSizedEntry=function(e,t){var n=this;return hr(e).get(pr(t)).next((function(e){return e?{maybeDocument:n.serializer.fromDbRemoteDocument(e),size:mr(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=Wt();return this.forEachDbEntry(e,t,(function(e,t){r=t?r.insert(e,n.serializer.fromDbRemoteDocument(t)):r.insert(e,null)})).next((function(){return r}))},e.prototype.getSizedEntries=function(e,t){var n=this,r=Wt(),i=new Re(Ae.comparator);return this.forEachDbEntry(e,t,(function(e,t){t?(r=r.insert(e,n.serializer.fromDbRemoteDocument(t)),i=i.insert(e,mr(t))):(r=r.insert(e,null),i=i.insert(e,0))})).next((function(){return{maybeDocuments:r,sizeMap:i}}))},e.prototype.forEachDbEntry=function(e,t,n){if(t.isEmpty())return Bn.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return hr(e).iterate({range:r},(function(e,t,r){for(var a=Ae.fromSegments(e);o&&Ae.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t){var n=this;g(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Ht(),i=t.path.length+1,o=t.path.toArray(),a=IDBKeyRange.lowerBound(o);return hr(e).iterate({range:a},(function(e,o,a){if(e.length===i){var s=n.serializer.fromDbRemoteDocument(o);t.path.isPrefixOf(s.key.path)?s instanceof De&&t.matches(s)&&(r=r.insert(s.key,s)):a.done()}})).next((function(){return r}))},e.prototype.getNewDocumentChanges=function(e){var t=this;g(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Xt(),r=zt(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,a=dr(e);return a.iterate({range:i},(function(e,r){if(o&&(o=!1,t._lastProcessedDocumentChangeId+1!==r.id))return t.synchronizeLastDocumentChangeId(a).next((function(){return Bn.reject(new F(j,ur))}));n=n.unionWith(t.serializer.fromDbResourcePaths(r.changes)),t._lastProcessedDocumentChangeId=r.id})).next((function(){var i=[];return n.forEach((function(n){i.push(t.getEntry(e,n).next((function(e){var t=e||new Ne(n,gt.forDeletedDoc());r=r.insert(n,t)})))})),Bn.waitFor(i)})).next((function(){return r}))},e.prototype.removeDocumentChangesThroughChangeId=function(e,t){var n=IDBKeyRange.upperBound(t);return dr(e).delete(n)},e.prototype.synchronizeLastDocumentChangeId=function(e){var t=this;return this._lastProcessedDocumentChangeId=0,e.iterate({keysOnly:!0,reverse:!0},(function(e,n,r){t._lastProcessedDocumentChangeId=e,r.done()}))},e.prototype.newChangeBuffer=function(){return new fr(this)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return lr(e).get(xr.key).next((function(e){return g(!!e,"Missing document cache metadata"),e}))},e.prototype.setMetadata=function(e,t){return lr(e).put(xr.key,t)},e.prototype.updateSize=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.setMetadata(e,r)}))},e}();function lr(e){return Xr.getStore(e,xr.store)}var fr=function(e){function t(t){var n=e.call(this)||this;return n.documentCache=t,n}return s.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=this.assertChanges(),r=0,i=[];return n.forEach((function(e,n){var o=t.documentCache.serializer.toDbRemoteDocument(n),a=t.documentSizes.get(e);g(void 0!==a,"Attempting to change document "+e.toString()+" without having read it first");var s=mr(o);r+=s-a,i.push({key:e,doc:o})})),this.documentCache.addEntries(e,i,r)},t.prototype.getFromCache=function(e,t){return this.documentCache.getSizedEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.documentCache.getSizedEntries(e,t)},t}(sr);function hr(e){return Xr.getStore(e,Ir.store)}function dr(e){return Xr.getStore(e,Rr.store)}function pr(e){return e.path.toArray()}function mr(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw y("Unknown remote document type");t=e.noDocument}return JSON.stringify(t).length}var vr=function(){function e(){this.collectionParentIndex=new yr}return e.prototype.addToCollectionParentIndex=function(e,t){return this.collectionParentIndex.add(t),Bn.resolve()},e.prototype.getCollectionParents=function(e,t){return Bn.resolve(this.collectionParentIndex.getEntries(t))},e}(),yr=function(){function e(){this.index={}}return e.prototype.add=function(e){g(e.length%2===1,"Expected a collection path.");var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new _t(Ce.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.getEntries=function(e){return(this.index[e]||new _t(Ce.comparator)).toArray()},e}(),gr=8,br=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i=this;g(n<r&&n>=0&&r<=gr,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(function(e){e.createObjectStore(_r.store)}(e),function(e){e.createObjectStore(Tr.store,{keyPath:Tr.keyPath}),e.createObjectStore(Sr.store,{keyPath:Sr.keyPath,autoIncrement:!0}).createIndex(Sr.userMutationsIndex,Sr.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Er.store)}(e),Pr(e),function(e){e.createObjectStore(Ir.store)}(e));var o=Bn.resolve();return n<3&&r>=3&&(0!==n&&(!function(e){e.deleteObjectStore(Or.store),e.deleteObjectStore(Ar.store),e.deleteObjectStore(Dr.store)}(e),Pr(e)),o=o.next((function(){return function(e){var t=e.store(Dr.store),n=new Dr(0,0,gt.MIN.toTimestamp(),0);return t.put(Dr.key,n)}(t)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(Sr.store).loadAll().next((function(n){e.deleteObjectStore(Sr.store),e.createObjectStore(Sr.store,{keyPath:Sr.keyPath,autoIncrement:!0}).createIndex(Sr.userMutationsIndex,Sr.userMutationsKeyPath,{unique:!0});var r=t.store(Sr.store),i=n.map((function(e){return r.put(e)}));return Bn.waitFor(i)}))}(e,t)}))),o=o.next((function(){!function(e){e.createObjectStore(Lr.store,{keyPath:Lr.keyPath})}(e),function(e){e.createObjectStore(Rr.store,{keyPath:"id",autoIncrement:!0})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(t)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(xr.store)}(e),i.addDocumentGlobal(t)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(t)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(e,t)}))),o},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(Ir.store).iterate((function(e,n){t+=mr(n)})).next((function(){var n=new xr(t);return e.store(xr.store).put(xr.key,n)}))},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(Tr.store),r=e.store(Sr.store);return n.loadAll().next((function(n){return Bn.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(Sr.userMutationsIndex,i).next((function(r){return Bn.forEach(r,(function(r){g(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=t.serializer.fromDbMutationBatch(r);return zn(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(Or.store),n=e.store(Ir.store);return ir(e).next((function(e){var r=[];return n.iterate((function(n,i){var o=new Ce(n),a=function(e){return[0,Rn(e)]}(o);r.push(t.get(a).next((function(n){return n?Bn.resolve():function(n){return t.put(new Or(0,Rn(n),e))}(o)})))})).next((function(){return Bn.waitFor(r)}))}))},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(Nr.store,{keyPath:Nr.keyPath});var n=t.store(Nr.store),r=new yr,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Rn(i)})}};return t.store(Ir.store).iterate({keysOnly:!0},(function(e,t){var n=new Ce(e);return i(n.popLast())})).next((function(){return t.store(Er.store).iterate({keysOnly:!0},(function(e,t){e[0];var n=e[1],r=(e[2],jn(n));return i(r.popLast())}))}))},e}();var wr=function(e,t){this.seconds=e,this.nanoseconds=t},_r=function(){function e(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}return e.store="owner",e.key="owner",e}();var Tr=function(){function e(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}return e.store="mutationQueues",e.keyPath="userId",e}(),Sr=function(){function e(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return e.store="mutations",e.keyPath="batchId",e.userMutationsIndex="userMutationsIndex",e.userMutationsKeyPath=["userId","batchId"],e}();var Er=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Rn(t)]},e.key=function(e,t,n){return[e,Rn(t),n]},e.store="documentMutations",e.PLACEHOLDER=new e,e}();var kr=function(e,t){this.path=e,this.readTime=t},Cr=function(e,t){this.path=e,this.version=t},Ir=function(){function e(e,t,n,r){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r}return e.store="remoteDocuments",e}(),xr=function(){function e(e){this.byteSize=e}return e.store="remoteDocumentGlobal",e.key="remoteDocumentGlobalKey",e}();var Ar=function(){function e(e,t,n,r,i,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return e.store="targets",e.keyPath="targetId",e.queryTargetsIndexName="queryTargetsIndex",e.queryTargetsKeyPath=["canonicalId","targetId"],e}(),Or=function(){function e(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n,g(0===e===(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return e.store="targetDocuments",e.keyPath=["targetId","path"],e.documentTargetsIndex="documentTargetsIndex",e.documentTargetsKeyPath=["path","targetId"],e}(),Dr=function(){function e(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return e.key="targetGlobalKey",e.store="targetGlobal",e}(),Nr=function(){function e(e,t){this.collectionId=e,this.parent=t}return e.store="collectionParents",e.keyPath=["collectionId","parent"],e}();function Pr(e){e.createObjectStore(Or.store,{keyPath:Or.keyPath}).createIndex(Or.documentTargetsIndex,Or.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Ar.store,{keyPath:Ar.keyPath}).createIndex(Ar.queryTargetsIndexName,Ar.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Dr.store)}var Rr=function(){function e(e){this.changes=e}return e.store="remoteDocumentChanges",e.keyPath="id",e}();var Lr=function(){function e(e,t,n,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return e.store="clientMetadata",e.keyPath="clientId",e}();var Mr=[Tr.store,Sr.store,Er.store,Ir.store,Ar.store,_r.store,Dr.store,Or.store].concat([Lr.store,Rr.store]).concat([xr.store]).concat([Nr.store]),jr=function(){function e(){this.collectionParentsCache=new yr}return e.prototype.addToCollectionParentIndex=function(e,t){if(g(t.length%2===1,"Expected a collection path."),this.collectionParentsCache.add(t)){g(t.length>=1,"Invalid collection path.");var n=t.lastSegment(),r=t.popLast();return Fr(e).put({collectionId:n,parent:Rn(r)})}return Bn.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[pe(t),""],!1,!0);return Fr(e).loadAll(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(jn(o.parent))}return n}))},e}();function Fr(e){return Xr.getStore(e,Nr.store)}var Ur=function(){function e(e){this.remoteSerializer=e}return e.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=Ae.fromSegments(e.noDocument.path),n=this.fromDbTimestamp(e.noDocument.readTime);return new Ne(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){t=Ae.fromSegments(e.unknownDocument.path),n=this.fromDbTimestamp(e.unknownDocument.version);return new Pe(t,n)}return y("Unexpected DbRemoteDocument")},e.prototype.toDbRemoteDocument=function(e){if(e instanceof De){var t=e.proto?e.proto:this.remoteSerializer.toDocument(e),n=e.hasCommittedMutations;return new Ir(null,null,t,n)}if(e instanceof Ne){var r=e.key.path.toArray(),i=this.toDbTimestamp(e.version);n=e.hasCommittedMutations;return new Ir(null,new kr(r,i),null,n)}if(e instanceof Pe){r=e.key.path.toArray(),i=this.toDbTimestamp(e.version);return new Ir(new Cr(r,i),null,null,!0)}return y("Unexpected MaybeDocumment")},e.prototype.toDbTimestamp=function(e){var t=e.toTimestamp();return new wr(t.seconds,t.nanoseconds)},e.prototype.fromDbTimestamp=function(e){var t=new Te(e.seconds,e.nanoseconds);return gt.fromTimestamp(t)},e.prototype.toDbMutationBatch=function(e,t){var n=this,r=t.baseMutations.map((function(e){return n.remoteSerializer.toMutation(e)})),i=t.mutations.map((function(e){return n.remoteSerializer.toMutation(e)}));return new Sr(e,t.batchId,t.localWriteTime.toMillis(),r,i)},e.prototype.fromDbMutationBatch=function(e){var t=this,n=(e.baseMutations||[]).map((function(e){return t.remoteSerializer.fromMutation(e)})),r=e.mutations.map((function(e){return t.remoteSerializer.fromMutation(e)})),i=Te.fromMillis(e.localWriteTimeMs);return new Fn(e.batchId,i,n,r)},e.prototype.toDbResourcePaths=function(e){var t=[];return e.forEach((function(e){t.push(Rn(e.path))})),t},e.prototype.fromDbResourcePaths=function(e){for(var t=Xt(),n=0,r=e;n<r.length;n++){var i=r[n];t=t.add(new Ae(jn(i)))}return t},e.prototype.fromDbTarget=function(e){var t,n=this.fromDbTimestamp(e.readTime);return t=void 0!==e.query.documents?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new wt(t,e.targetId,at.Listen,e.lastListenSequenceNumber,n,e.resumeToken)},e.prototype.toDbTarget=function(e){g(at.Listen===e.purpose,"Only queries with purpose "+at.Listen+" may be stored, got "+e.purpose);var t,n,r=this.toDbTimestamp(e.snapshotVersion);return t=e.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.query):this.remoteSerializer.toQueryTarget(e.query),e.resumeToken instanceof Uint8Array?(g("YES"===Object({NODE_ENV:"production",PUBLIC_URL:"/SteelDivisionDB",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=e.resumeToken.toString()):n=e.resumeToken,new Ar(e.targetId,e.query.canonicalId(),r,n,e.sequenceNumber,t)},e}();function Br(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=he(n,i);return 0===a?he(r,o):a}var qr=function(){function e(e){this.maxElements=e,this.buffer=new _t(Br),this.previousIndex=0}return e.prototype.nextIndex=function(){return++this.previousIndex},e.prototype.addElement=function(e){var t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Br(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),e}(),Vr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zr=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e.COLLECTION_DISABLED=-1,e.MINIMUM_CACHE_SIZE_BYTES=1048576,e.DEFAULT_CACHE_SIZE_BYTES=41943040,e.DEFAULT_COLLECTION_PERCENTILE=10,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,e.DEFAULT=new e(e.DEFAULT_CACHE_SIZE_BYTES,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),e.DISABLED=new e(e.COLLECTION_DISABLED,0,0),e}(),Wr=function(){function e(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.gcTask=null}return e.prototype.start=function(){g(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==zr.COLLECTION_DISABLED&&this.scheduleGC()},e.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),e.prototype.scheduleGC=function(){var e=this;g(null===this.gcTask,"Cannot schedule GC while a task is pending");var t=this.hasRun?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+t+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(An.LruGarbageCollection,t,(function(){return e.gcTask=null,e.hasRun=!0,e.localStore.collectGarbage(e.garbageCollector).then((function(){return e.scheduleGC()})).catch($r)}))},e}(),Kr=function(){function e(e,t){this.delegate=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.delegate.getSequenceNumberCount(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Bn.resolve(On.INVALID);var r=new qr(t);return this.delegate.forEachTarget(e,(function(e){return r.addElement(e.sequenceNumber)})).next((function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(e,(function(e){return r.addElement(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.delegate.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.delegate.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return this.params.cacheSizeCollectionThreshold===zr.COLLECTION_DISABLED?(p("LruGarbageCollector","Garbage collection skipped; disabled"),Bn.resolve(Vr)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Vr):n.runGarbageCollection(e,t)}))},e.prototype.getCacheSize=function(e){return this.delegate.getCacheSize(e)},e.prototype.runGarbageCollection=function(e,t){var n,r,o,a,s,u,c,l,f=this;return a=Date.now(),this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>f.params.maximumSequenceNumbersToCollect?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+f.params.maximumSequenceNumbersToCollect+" from "+t),r=f.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),f.nthSequenceNumber(e,r)})).next((function(r){return n=r,u=Date.now(),f.removeTargets(e,n,t)})).next((function(t){return o=t,c=Date.now(),f.removeOrphanedDocuments(e,n)})).next((function(e){(l=Date.now(),h()<=i.DEBUG)&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-a)+"ms\n\tDetermined least recently used "+r+" in "+(u-s)+"ms\n\tRemoved "+o+" targets in "+(c-u)+"ms\n\tRemoved "+e+" documents in "+(l-c)+"ms\nTotal Duration: "+(l-a)+"ms");return Bn.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})}))},e}(),Hr="IndexedDbPersistence",Qr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Gr="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Yr=function(e){function t(t,n){var r=e.call(this)||this;return r.simpleDbTransaction=t,r.currentSequenceNumber=n,r}return s.__extends(t,e),t}((function(){})),Xr=function(){function e(t,n,r,i,o,a,s){if(this.persistenceKey=t,this.clientId=n,this.queue=i,this.multiClientParams=s,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(e){return Promise.resolve()},!e.isAvailable())throw new F(R,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");if(this.referenceDelegate=new ei(this,a),this.dbName=t+e.MAIN_DATABASE,this.serializer=new Ur(o),this.document=r.document,this.allowTabSynchronization=void 0!==s,this.queryCache=new tr(this.referenceDelegate,this.serializer),this.indexManager=new jr,this.remoteDocumentCache=new cr(this.serializer,this.indexManager,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new F(R,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return e.getStore=function(e,t){if(e instanceof Yr)return Xn.getStore(e.simpleDbTransaction,t);throw y("IndexedDbPersistence must use instances of IndexedDbTransaction")},e.createIndexedDbPersistence=function(t,n,r,i,o,a){return s.__awaiter(this,void 0,void 0,(function(){var u;return s.__generator(this,(function(s){switch(s.label){case 0:return[4,(u=new e(t,n,r,i,o,a)).start()];case 1:return s.sent(),[2,u]}}))}))},e.createMultiClientIndexedDbPersistence=function(t,n,r,i,o,a,u){return s.__awaiter(this,void 0,void 0,(function(){var c;return s.__generator(this,(function(s){switch(s.label){case 0:return[4,(c=new e(t,n,r,i,o,a,u)).start()];case 1:return s.sent(),[2,c]}}))}))},e.prototype.start=function(){var e=this;return g(!this.started,"IndexedDbPersistence double-started!"),g(null!==this.window,"Expected 'window' to be defined"),Xn.openOrCreate(this.dbName,gr,new br(this.serializer)).then((function(t){return e.simpleDb=t,e.updateClientMetadataAndTryBecomePrimary()})).then((function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.scheduleClientMetadataAndPrimaryLeaseRefreshes(),e.startRemoteDocumentCache()})).then((function(){return e.simpleDb.runTransaction("readonly",[Dr.store],(function(t){return ir(t).next((function(t){var n=e.multiClientParams?e.multiClientParams.sequenceNumberSyncer:void 0;e.listenSequence=new On(t,n)}))}))})).then((function(){e._started=!0})).catch((function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)}))},e.prototype.startRemoteDocumentCache=function(){var e=this;return this.simpleDb.runTransaction("readonly",Mr,(function(t){return e.remoteDocumentCache.start(t)}))},e.prototype.setPrimaryStateListener=function(e){var t=this;return this.primaryStateListener=function(n){return s.__awaiter(t,void 0,void 0,(function(){return s.__generator(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.simpleDb.setVersionChangeListener((function(n){return s.__awaiter(t,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return null!==n.newVersion?[3,2]:[4,e()];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget((function(){return s.__awaiter(t,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.updateClientMetadataAndTryBecomePrimary=function(){var e=this;return this.simpleDb.runTransaction("readwrite",Mr,(function(t){return Zr(t).put(new Lr(e.clientId,Date.now(),e.networkEnabled,e.inForeground,e.remoteDocumentCache.lastProcessedDocumentChangeId)).next((function(){if(e.isPrimary)return e.verifyPrimaryLease(t).next((function(t){t||(e.isPrimary=!1,e.queue.enqueueAndForget((function(){return e.primaryStateListener(!1)})))}))})).next((function(){return e.canActAsPrimary(t)})).next((function(n){var r=e.isPrimary;return e.isPrimary=n,r!==e.isPrimary&&e.queue.enqueueAndForget((function(){return e.primaryStateListener(e.isPrimary)})),r&&!e.isPrimary?e.releasePrimaryLeaseIfHeld(t):e.isPrimary?e.acquireOrExtendPrimaryLease(t):void 0}))}))},e.prototype.verifyPrimaryLease=function(e){var t=this;return Jr(e).get(_r.key).next((function(e){return Bn.resolve(t.isLocalClient(e))}))},e.prototype.removeClientMetadata=function(e){return Zr(e).delete(this.clientId)},e.prototype.maybeGarbageCollectMultiClientState=function(){return s.__awaiter(this,void 0,void 0,(function(){var t,n,r=this;return s.__generator(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(i){var o=e.getStore(i,Lr.store);return o.loadAll().next((function(e){t=r.filterActiveClients(e,18e5),n=e.filter((function(e){return-1===t.indexOf(e)}))})).next((function(){return Bn.forEach(n,(function(e){return o.delete(e.clientId)}))})).next((function(){if((t=t.filter((function(e){return e.clientId!==r.clientId}))).length>0){var e=t.map((function(e){return e.lastProcessedDocumentChangeId||0})),n=Math.min.apply(Math,e);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}}))}))]);case 1:i.sent(),n.forEach((function(e){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(e.clientId))})),i.label=2;case 2:return[2]}}))}))},e.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var e=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(An.ClientMetadataRefresh,4e3,(function(){return e.updateClientMetadataAndTryBecomePrimary().then((function(){return e.maybeGarbageCollectMultiClientState()})).then((function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()}))}))},e.prototype.isLocalClient=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.canActAsPrimary=function(e){var t=this;return Jr(e).get(_r.key).next((function(n){if(null!==n&&t.isWithinAge(n.leaseTimestampMs,5e3)&&!t.isClientZombied(n.ownerId)){if(t.isLocalClient(n)&&t.networkEnabled)return!0;if(!t.isLocalClient(n)){if(!n.allowTabSynchronization)throw new F(D,Gr);return!1}}return!(!t.networkEnabled||!t.inForeground)||Zr(e).loadAll().next((function(e){return void 0===t.filterActiveClients(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&p(Hr,"Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return s.__awaiter(this,void 0,void 0,(function(){var e=this;return s.__generator(this,(function(t){switch(t.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[_r.store,Lr.store],(function(t){return e.releasePrimaryLeaseIfHeld(t).next((function(){return e.removeClientMetadata(t)}))}))];case 1:return t.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}}))}))},e.prototype.filterActiveClients=function(e,t){var n=this;return e.filter((function(e){return n.isWithinAge(e.updateTimeMs,t)&&!n.isClientZombied(e.clientId)}))},e.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly",[Lr.store],(function(t){return Zr(t).loadAll().next((function(t){return e.filterActiveClients(t,18e5).map((function(e){return e.clientId}))}))}))},e.clearPersistence=function(t){return s.__awaiter(this,void 0,void 0,(function(){var n;return s.__generator(this,(function(r){switch(r.label){case 0:return e.isAvailable()?(n=t+e.MAIN_DATABASE,[4,Xn.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getMutationQueue=function(e){return g(this.started,"Cannot initialize MutationQueue before persistence is started."),qn.forUser(e,this.serializer,this.indexManager,this.referenceDelegate)},e.prototype.getQueryCache=function(){return g(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},e.prototype.getRemoteDocumentCache=function(){return g(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},e.prototype.getIndexManager=function(){return g(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},e.prototype.runTransaction=function(e,t,n){var r=this;return p(Hr,"Starting transaction:",e),this.simpleDb.runTransaction("readonly"===t?"readonly":"readwrite",Mr,(function(i){return"readwrite-primary"===t?r.verifyPrimaryLease(i).next((function(t){if(!t)throw m("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.queue.enqueueAndForget((function(){return r.primaryStateListener(!1)})),new F(D,Qr);return n(new Yr(i,r.listenSequence.next()))})).next((function(e){return r.acquireOrExtendPrimaryLease(i).next((function(){return e}))})):r.verifyAllowTabSynchronization(i).next((function(){return n(new Yr(i,r.listenSequence.next()))}))}))},e.prototype.verifyAllowTabSynchronization=function(e){var t=this;return Jr(e).get(_r.key).next((function(e){if(null!==e&&t.isWithinAge(e.leaseTimestampMs,5e3)&&!t.isClientZombied(e.ownerId)&&!t.isLocalClient(e)&&!e.allowTabSynchronization)throw new F(D,Gr)}))},e.prototype.acquireOrExtendPrimaryLease=function(e){var t=new _r(this.clientId,this.allowTabSynchronization,Date.now());return Jr(e).put(_r.key,t)},e.isAvailable=function(){return Xn.isAvailable()},e.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},e.prototype.releasePrimaryLeaseIfHeld=function(e){var t=this,n=Jr(e);return n.get(_r.key).next((function(e){return t.isLocalClient(e)?(p(Hr,"Releasing primary lease."),n.delete(_r.key)):Bn.resolve()}))},e.prototype.isWithinAge=function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(m("Detected an update time that is in the future: "+e+" > "+n),!1))},e.prototype.attachVisibilityHandler=function(){var e=this;null!==this.document&&"function"===typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){e.queue.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.updateClientMetadataAndTryBecomePrimary()}))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},e.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(g(null!==this.document&&"function"===typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},e.prototype.attachWindowUnloadHook=function(){var e=this;"function"===typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){e.markClientZombied(),e.queue.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.windowUnloadHandler))},e.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(g("function"===typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},e.prototype.isClientZombied=function(e){try{var t=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(e));return p(Hr,"Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(n){return m(Hr,"Failed to get zombied client id.",n),!1}},e.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){m("Failed to set zombie client id.",e)}},e.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(e){}},e.prototype.zombiedClientLocalStorageKey=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e.MAIN_DATABASE="main",e}();function $r(e){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){if(!function(e){return e.code===D&&e.message===Qr}(e))throw e;return p(Hr,"Unexpectedly lost primary lease"),[2]}))}))}function Jr(e){return e.store(_r.store)}function Zr(e){return e.store(Lr.store)}var ei=function(){function e(e,t){this.db=e,this.garbageCollector=new Kr(this,t)}return e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocmentCount(e);return this.db.getQueryCache().getQueryCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.orphanedDocmentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getQueryCache().forEachTarget(e,t)},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){return this.forEachOrphanedDocument(e,(function(e,n){return t(n)}))},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return ti(e,t)},e.prototype.removeReference=function(e,t){return ti(e,t)},e.prototype.removeTargets=function(e,t,n){return this.db.getQueryCache().removeTargets(e,t,n)},e.prototype.removeMutationReference=function(e,t){return ti(e,t)},e.prototype.isPinned=function(e,t){return this.inMemoryPins.containsKey(t)?Bn.resolve(!0):function(e,t){var n=!1;return Qn(e).iterateSerial((function(r){return Vn(e,r,t).next((function(e){return e&&(n=!0),Bn.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,i=0,o=[];return this.forEachOrphanedDocument(e,(function(a,s){if(s<=t){var u=n.isPinned(e,a).next((function(t){if(!t)return r++,n.removeOrphanedDocument(e,a).next((function(e){i+=e}))}));o.push(u)}})).next((function(){return Bn.waitFor(o)})).next((function(){return n.db.getRemoteDocumentCache().updateSize(e,-i)})).next((function(){return r}))},e.prototype.removeOrphanedDocument=function(e,t){var n,r=0,i=this.db.getRemoteDocumentCache();return Bn.waitFor([or(e).delete((n=t,[0,Rn(n.path)])),i.removeEntry(e,t).next((function(e){r+=e}))]).next((function(){return r}))},e.prototype.removeTarget=function(e,t){var n=t.copy({sequenceNumber:e.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(e,n)},e.prototype.updateLimboDocument=function(e,t){return ti(e,t)},e.prototype.forEachOrphanedDocument=function(e,t){var n,r=or(e),i=On.INVALID;return r.iterate({index:Or.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==On.INVALID&&t(new Ae(jn(n)),i),i=s,n=a):i=On.INVALID})).next((function(){i!==On.INVALID&&t(new Ae(jn(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function ti(e,t){return or(e).put(function(e,t){return new Or(0,Rn(e.path),t)}(t,e.currentSequenceNumber))}var ni=function(){function e(e,t,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.indexManager=n}return e.prototype.getDocument=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.getDocumentInternal(e,t,r)}))},e.prototype.getDocumentInternal=function(e,t,n){return this.remoteDocumentCache.getEntry(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++){e=i[r].applyToLocalView(t,e)}return e}))},e.prototype.applyLocalMutationsToDocuments=function(e,t,n){var r=Wt();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++){t=o[i].applyToLocalView(e,t)}r=r.insert(e,t)})),r},e.prototype.getDocuments=function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t)}))},e.prototype.getLocalViewOfDocuments=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(r){var i=n.applyLocalMutationsToDocuments(e,t,r),o=zt();return i.forEach((function(e,t){t||(t=new Ne(e,gt.forDeletedDoc())),o=o.insert(e,t)})),o}))},e.prototype.getDocumentsMatchingQuery=function(e,t){return t.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(e,t.path):t.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(e,t):this.getDocumentsMatchingCollectionQuery(e,t)},e.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new Ae(t)).next((function(e){var t=Ht();return e instanceof De&&(t=t.insert(e.key,e)),t}))},e.prototype.getDocumentsMatchingCollectionGroupQuery=function(e,t){var n=this;g(t.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=t.collectionGroup,i=Ht();return this.indexManager.getCollectionParents(e,r).next((function(o){return Bn.forEach(o,(function(o){var a=t.asCollectionQueryAtPath(o.child(r));return n.getDocumentsMatchingCollectionQuery(e,a).next((function(e){e.forEach((function(e,t){i=i.insert(e,t)}))}))})).next((function(){return i}))}))},e.prototype.getDocumentsMatchingCollectionQuery=function(e,t){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t).next((function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){for(var r=0,i=e;r<i.length;r++)for(var o=i[r],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key;if(t.path.isImmediateParentOf(c.path)){var l=n.get(c),f=u.applyToLocalView(l,l,o.localWriteTime);n=f instanceof De?n.insert(c,f):n.remove(c)}}})).next((function(){return n.forEach((function(e,r){t.matches(r)||(n=n.remove(e))})),n}))},e}(),ri=function(){function e(){this.refsByKey=new _t(ii.compareByKey),this.refsByTarget=new _t(ii.compareByTargetId)}return e.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},e.prototype.addReference=function(e,t){var n=new ii(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},e.prototype.addReferences=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.removeRef(new ii(e,t))},e.prototype.removeReferences=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.removeReferencesForId=function(e){var t=this,n=Ae.EMPTY,r=new ii(n,e),i=new ii(n,e+1),o=[];return this.refsByTarget.forEachInRange([r,i],(function(e){t.removeRef(e),o.push(e.key)})),o},e.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach((function(t){return e.removeRef(t)}))},e.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)},e.prototype.referencesForId=function(e){var t=Ae.EMPTY,n=new ii(t,e),r=new ii(t,e+1),i=Xt();return this.refsByTarget.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new ii(e,0),n=this.refsByKey.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),ii=function(){function e(e,t){this.key=e,this.targetOrBatchId=t}return e.compareByKey=function(e,t){return Ae.comparator(e.key,t.key)||he(e.targetOrBatchId,t.targetOrBatchId)},e.compareByTargetId=function(e,t){return he(e.targetOrBatchId,t.targetOrBatchId)||Ae.comparator(e.key,t.key)},e}(),oi=function(){function e(e,t){this.persistence=e,this.localViewReferences=new ri,this.queryDataByTarget={},g(e.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=e.getMutationQueue(t),this.remoteDocuments=e.getRemoteDocumentCache(),this.queryCache=e.getQueryCache(),this.localDocuments=new ni(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return e.prototype.handleUserChange=function(e){var t=this;return this.persistence.runTransaction("Handle user change","readonly",(function(n){var r;return t.mutationQueue.getAllMutationBatches(n).next((function(i){return r=i,t.mutationQueue=t.persistence.getMutationQueue(e),t.localDocuments=new ni(t.remoteDocuments,t.mutationQueue,t.persistence.getIndexManager()),t.mutationQueue.getAllMutationBatches(n)})).next((function(e){for(var i=[],o=[],a=Xt(),s=0,u=r;s<u.length;s++){var c=u[s];i.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=e;d<p.length;d++){c=p[d];o.push(c.batchId);for(var m=0,v=c.mutations;m<v.length;m++){h=v[m];a=a.add(h.key)}}return t.localDocuments.getDocuments(n,a).next((function(e){return{affectedDocuments:e,removedBatchIds:i,addedBatchIds:o}}))}))}))},e.prototype.localWrite=function(e){var t=this,n=Te.now(),r=e.reduce((function(e,t){return e.add(t.key)}),Xt());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(i){return t.localDocuments.getDocuments(i,r).next((function(r){for(var o=[],a=0,s=e;a<s.length;a++){var u=s[a],c=r.get(u.key);if(!u.isIdempotent){var l=u.fieldMask;if(l){var f=c instanceof De?l.applyTo(c.data):Je.EMPTY;o.push(new At(u.key,f,l,Ct.exists(!0)))}}}return t.mutationQueue.addMutationBatch(i,n,o,e).next((function(e){var t=e.applyToLocalDocumentSet(r);return{batchId:e.batchId,changes:t}}))}))}))},e.prototype.lookupMutationDocuments=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return t.mutationQueue.lookupMutationKeys(n,e).next((function(e){return e?t.localDocuments.getDocuments(n,e):Bn.resolve(null)}))}))},e.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=e.batch.keys(),i=t.remoteDocuments.newChangeBuffer();return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next((function(){return t.applyWriteToRemoteDocuments(n,e,i)})).next((function(){return i.apply(n)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},e.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return t.mutationQueue.lookupMutationBatch(n,e).next((function(e){return g(null!==e,"Attempt to reject nonexistent batch!"),r=e.keys(),t.mutationQueue.removeMutationBatch(n,e)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},e.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(t){return e.mutationQueue.getLastStreamToken(t)}))},e.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return t.mutationQueue.setLastStreamToken(n,e)}))},e.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.queryCache.getLastRemoteSnapshotVersion(t)}))},e.prototype.applyRemoteEvent=function(t){var n=this,r=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(i){var o=[],a=Xt();V(t.targetChanges,(function(r,s){var u=n.queryDataByTarget[r];if(u){s.addedDocuments.forEach((function(e){a=a.add(e)})),s.modifiedDocuments.forEach((function(e){a=a.add(e)})),o.push(n.queryCache.removeMatchingKeys(i,s.removedDocuments,r).next((function(){return n.queryCache.addMatchingKeys(i,s.addedDocuments,r)})));var c=s.resumeToken;if(c.length>0){var l=u;u=u.copy({resumeToken:c,snapshotVersion:t.snapshotVersion}),n.queryDataByTarget[r]=u,e.shouldPersistQueryData(l,u,s)&&o.push(n.queryCache.updateQueryData(i,u))}}}));var s=zt(),u=Xt();t.documentUpdates.forEach((function(e,t){u=u.add(e)})),o.push(r.getEntries(i,u).next((function(e){t.documentUpdates.forEach((function(u,c){var l=e.get(u);null==l||c.version.isEqual(gt.MIN)||a.has(c.key)&&!l.hasPendingWrites||c.version.compareTo(l.version)>=0?(r.addEntry(c),s=s.insert(u,c)):p("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),t.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}))})));var c=t.snapshotVersion;if(!c.isEqual(gt.MIN)){var l=n.queryCache.getLastRemoteSnapshotVersion(i).next((function(e){return g(c.compareTo(e)>=0,"Watch stream reverted to previous snapshot?? "+c+" < "+e),n.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,c)}));o.push(l)}return Bn.waitFor(o).next((function(){return r.apply(i)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(i,s)}))}))},e.shouldPersistQueryData=function(e,t,n){return 0!==t.resumeToken.length&&(0===e.resumeToken.length||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0))},e.prototype.notifyLocalViewChanges=function(e){var t=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return Bn.forEach(e,(function(e){return t.localViewReferences.addReferences(e.addedKeys,e.targetId),t.localViewReferences.removeReferences(e.removedKeys,e.targetId),Bn.forEach(e.removedKeys,(function(e){return t.persistence.referenceDelegate.removeReference(n,e)}))}))}))},e.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)}))},e.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document","readonly",(function(n){return t.localDocuments.getDocument(n,e)}))},e.prototype.allocateQuery=function(e){var t=this;return this.persistence.runTransaction("Allocate query","readwrite",(function(n){var r;return t.queryCache.getQueryData(n,e).next((function(i){return i?(r=i,Bn.resolve()):t.queryCache.allocateTargetId(n).next((function(i){return r=new wt(e,i,at.Listen,n.currentSequenceNumber),t.queryCache.addQueryData(n,r)}))})).next((function(){return g(!t.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+e),t.queryDataByTarget[r.targetId]=r,r}))}))},e.prototype.releaseQuery=function(e,t){var n=this,r=t?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",r,(function(r){return n.queryCache.getQueryData(r,e).next((function(i){g(null!=i,"Tried to release nonexistent query: "+e);var o=i.targetId,a=n.queryDataByTarget[o],s=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],t?Bn.resolve():Bn.forEach(s,(function(e){return n.persistence.referenceDelegate.removeReference(r,e)})).next((function(){return n.persistence.referenceDelegate.removeTarget(r,a)}))}))}))},e.prototype.executeQuery=function(e){var t=this;return this.persistence.runTransaction("Execute query","readonly",(function(n){return t.localDocuments.getDocumentsMatchingQuery(n,e)}))},e.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly",(function(n){return t.queryCache.getMatchingKeysForTargetId(n,e)}))},e.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},e.prototype.removeCachedMutationBatchMetadata=function(e){this.mutationQueue.removeCachedMutationKeys(e)},e.prototype.setNetworkEnabled=function(e){this.persistence.setNetworkEnabled(e)},e.prototype.applyWriteToRemoteDocuments=function(e,t,n){var r=this,i=t.batch,o=i.keys(),a=Bn.resolve();return o.forEach((function(r){a=a.next((function(){return n.getEntry(e,r)})).next((function(e){var o=e,a=t.docVersions.get(r);g(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(r,o,t))?n.addEntry(o):g(!e,"Mutation batch "+i+" applied to document "+e+" resulted in null"))}))})),a.next((function(){return r.mutationQueue.removeMutationBatch(e,i)}))},e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.queryDataByTarget)}))},e.prototype.getQueryForTarget=function(e){var t=this;return this.queryDataByTarget[e]?Promise.resolve(this.queryDataByTarget[e].query):this.persistence.runTransaction("Get query data","readonly",(function(n){return t.queryCache.getQueryDataForTarget(n,e).next((function(e){return e?e.query:null}))}))},e.prototype.getNewDocumentChanges=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(t){return e.remoteDocuments.getNewDocumentChanges(t)}))},e.RESUME_TOKEN_MAX_AGE_MICROS=3e8,e}(),ai=function(){function e(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=w(),this.batchesByDocumentKey=new _t(ii.compareByKey)}return e.prototype.checkEmpty=function(e){return Bn.resolve(0===this.mutationQueue.length)},e.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");g(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return g(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,Bn.resolve()},e.prototype.getLastStreamToken=function(e){return Bn.resolve(this.lastStreamToken)},e.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,Bn.resolve()},e.prototype.addMutationBatch=function(e,t,n,r){g(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;(this.nextBatchId++,this.mutationQueue.length>0)&&g(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new Fn(i,t,n,r);this.mutationQueue.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new ii(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}return Bn.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Bn.resolve(this.findMutationBatch(t))},e.prototype.lookupMutationKeys=function(e,t){var n=this.findMutationBatch(t);return g(null!=n,"Failed to find local mutation batch."),Bn.resolve(n.keys())},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.indexOfBatchId(n),i=r<0?0:r;return Bn.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},e.prototype.getAllMutationBatches=function(e){return Bn.resolve(this.mutationQueue.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new ii(t,0),i=new ii(t,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],(function(e){g(t.isEqual(e.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(e.targetOrBatchId);g(null!==r,"Batches in the index must exist in the main table"),o.push(r)})),Bn.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new _t(he);return t.forEach((function(e){var t=new ii(e,0),i=new ii(e,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([t,i],(function(t){g(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),r=r.add(t.targetOrBatchId)}))})),Bn.resolve(this.findMutationBatches(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){g(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=t.path,r=n.length+1,i=n;Ae.isDocumentKey(i)||(i=i.child(""));var o=new ii(new Ae(i),0),a=new _t(he);return this.batchesByDocumentKey.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.targetOrBatchId)),!0)}),o),Bn.resolve(this.findMutationBatches(a))},e.prototype.findMutationBatches=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.findMutationBatch(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;g(0===this.indexOfExistingBatchId(t.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return Bn.forEach(t.mutations,(function(i){var o=new ii(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(e,i.key)})).next((function(){n.batchesByDocumentKey=r}))},e.prototype.removeCachedMutationKeys=function(e){},e.prototype.containsKey=function(e,t){var n=new ii(t,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Bn.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&g(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Bn.resolve()},e.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return g(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},e.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},e.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return g(n.batchId===e,"If found batch must match"),n},e}(),si=function(){function e(e){this.persistence=e,this.queries=new ar((function(e){return e.canonicalId()})),this.lastRemoteSnapshotVersion=gt.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new ri,this.targetCount=0,this.targetIdGenerator=Yn.forQueryCache()}return e.prototype.getTargetCount=function(e){return Bn.resolve(this.targetCount)},e.prototype.forEachTarget=function(e,t){return this.queries.forEach((function(e,n){return t(n)})),Bn.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Bn.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Bn.resolve(this.highestSequenceNumber)},e.prototype.allocateTargetId=function(e){var t=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=t,Bn.resolve(t)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),Bn.resolve()},e.prototype.saveQueryData=function(e){this.queries.set(e.query,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)},e.prototype.addQueryData=function(e,t){return g(!this.queries.has(t.query),"Adding a query that already exists"),this.saveQueryData(t),this.targetCount+=1,Bn.resolve()},e.prototype.updateQueryData=function(e,t){return g(this.queries.has(t.query),"Updating a non-existent query"),this.saveQueryData(t),Bn.resolve()},e.prototype.removeQueryData=function(e,t){return g(this.targetCount>0,"Removing a target from an empty cache"),g(this.queries.has(t.query),"Removing a non-existent target from the cache"),this.queries.delete(t.query),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,Bn.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.queries.forEach((function(a,s){s.sequenceNumber<=t&&!n[s.targetId]&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Bn.waitFor(o).next((function(){return i}))},e.prototype.getQueryCount=function(e){return Bn.resolve(this.targetCount)},e.prototype.getQueryData=function(e,t){var n=this.queries.get(t)||null;return Bn.resolve(n)},e.prototype.getQueryDataForTarget=function(e,t){return y("Not yet implemented.")},e.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.addReference(e,t))})),Bn.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.removeReference(e,t))})),Bn.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),Bn.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return Bn.resolve(n)},e.prototype.containsKey=function(e,t){return Bn.resolve(this.references.containsKey(t))},e}();var ui,ci=function(){function e(e,t){this.indexManager=e,this.sizer=t,this.docs=new Re(Ae.comparator),this.newDocumentChanges=Xt(),this.size=0}return e.prototype.addEntries=function(e,t,n){for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i],s=a.maybeDocument.key;this.docs=this.docs.insert(s,a),this.newDocumentChanges=this.newDocumentChanges.add(s),r.push(this.indexManager.addToCollectionParentIndex(e,s.path.popLast()))}return this.size+=n,Bn.waitFor(r)},e.prototype.removeEntry=function(e,t){var n=this.docs.get(t);return n?(this.docs=this.docs.remove(t),this.size-=n.size,Bn.resolve(n.size)):Bn.resolve(0)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Bn.resolve(n?n.maybeDocument:null)},e.prototype.getSizedEntry=function(e,t){return Bn.resolve(this.docs.get(t))},e.prototype.getEntries=function(e,t){var n=this,r=Wt();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)})),Bn.resolve(r)},e.prototype.getSizedEntries=function(e,t){var n=this,r=Wt(),i=new Re(Ae.comparator);return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null),i=i.insert(e,t?t.size:0)})),Bn.resolve({maybeDocuments:r,sizeMap:i})},e.prototype.getDocumentsMatchingQuery=function(e,t){g(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=Ht(),r=new Ae(t.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.key,s=o.value.maybeDocument;if(!t.path.isPrefixOf(a.path))break;s instanceof De&&t.matches(s)&&(n=n.insert(s.key,s))}return Bn.resolve(n)},e.prototype.forEachDocumentKey=function(e,t){return Bn.forEach(this.docs,(function(e){return t(e)}))},e.prototype.getNewDocumentChanges=function(e){var t=this,n=zt();return this.newDocumentChanges.forEach((function(e){var r=t.docs.get(e),i=r?r.maybeDocument:new Ne(e,gt.forDeletedDoc());n=n.insert(e,i)})),this.newDocumentChanges=Xt(),Bn.resolve(n)},e.prototype.newChangeBuffer=function(){return new li(this.sizer,this)},e.prototype.getSize=function(e){return Bn.resolve(this.size)},e}(),li=function(e){function t(t,n){var r=e.call(this)||this;return r.sizer=t,r.documentCache=n,r}return s.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=this.assertChanges(),r=0,i=[];return n.forEach((function(e,n){var o=t.documentSizes.get(e);g(void 0!==o,"Attempting to change document "+e.toString()+" without having read it first");var a=t.sizer(n);r+=a-o,i.push({maybeDocument:n,size:a})})),this.documentCache.addEntries(e,i,r)},t.prototype.getFromCache=function(e,t){return this.documentCache.getSizedEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.documentCache.getSizedEntries(e,t)},t}(sr),fi=function(){function e(e,t){var n=this;this.clientId=e,this.mutationQueues={},this.listenSequence=new On(0),this._started=!1,this._started=!0,this.referenceDelegate=t(this),this.queryCache=new si(this);this.indexManager=new vr,this.remoteDocumentCache=new ci(this.indexManager,(function(e){return n.referenceDelegate.documentSize(e)}))}return e.createLruPersistence=function(t,n,r){return new e(t,(function(e){return new pi(e,new Ur(n),r)}))},e.createEagerPersistence=function(t){return new e(t,(function(e){return new di(e)}))},e.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getActiveClients=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){return[2,[this.clientId]]}))}))},e.prototype.setPrimaryStateListener=function(e){return e(!0)},e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(e){},e.prototype.getIndexManager=function(){return this.indexManager},e.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new ai(this.indexManager,this.referenceDelegate),this.mutationQueues[e.toKey()]=t),t},e.prototype.getQueryCache=function(){return this.queryCache},e.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},e.prototype.runTransaction=function(e,t,n){var r=this;p("MemoryPersistence","Starting transaction:",e);var i=new hi(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next((function(e){return r.referenceDelegate.onTransactionCommitted(i).next((function(){return e}))})).toPromise()},e.prototype.mutationQueuesContainKey=function(e,t){return Bn.or(function(e){var t=[];return z(e,(function(e,n){return t.push(n)})),t}(this.mutationQueues).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),hi=function(e){this.currentSequenceNumber=e},di=function(){function e(e){this.persistence=e}return e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return this.orphanedDocuments.delete(t),Bn.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedDocuments.add(t),Bn.resolve()},e.prototype.removeMutationReference=function(e,t){return this.orphanedDocuments.add(t),Bn.resolve()},e.prototype.removeTarget=function(e,t){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.orphanedDocuments.add(e)}))})).next((function(){return r.removeQueryData(e,t)}))},e.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},e.prototype.onTransactionCommitted=function(e){var t=this,n=this.persistence.getRemoteDocumentCache();return Bn.forEach(this.orphanedDocuments,(function(r){return t.isReferenced(e,r).next((function(t){return t?Bn.resolve():n.removeEntry(e,r).next((function(){}))}))}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.isReferenced(e,t).next((function(e){e?n.orphanedDocuments.delete(t):n.orphanedDocuments.add(t)}))},e.prototype.documentSize=function(e){return 0},e.prototype.isReferenced=function(e,t){var n=this;return Bn.or([function(){return n.persistence.getQueryCache().containsKey(e,t)},function(){return n.persistence.mutationQueuesContainKey(e,t)},function(){return Bn.resolve(n.inMemoryPins.containsKey(t))}])},e}(),pi=function(){function e(e,t,n){this.persistence=e,this.serializer=t,this.orphanedSequenceNumbers=new ar((function(e){return Rn(e.path)})),this.garbageCollector=new Kr(this,n)}return e.prototype.onTransactionStarted=function(){},e.prototype.onTransactionCommitted=function(e){return Bn.resolve()},e.prototype.forEachTarget=function(e,t){return this.persistence.getQueryCache().forEachTarget(e,t)},e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocumentCount(e);return this.persistence.getQueryCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.orphanedDocumentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){var n=this;return Bn.forEach(this.orphanedSequenceNumbers,(function(r,i){return n.isPinned(e,r,i).next((function(e){return e?Bn.resolve():t(i)}))}))},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.removeTargets=function(e,t,n){return this.persistence.getQueryCache().removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,i=this.persistence.getRemoteDocumentCache();return i.forEachDocumentKey(e,(function(o){return n.isPinned(e,o,t).next((function(t){return t?Bn.resolve():(r++,i.removeEntry(e,o).next())}))})).next((function(){return r}))},e.prototype.removeMutationReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Bn.resolve()},e.prototype.removeTarget=function(e,t){var n=t.copy({sequenceNumber:e.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(e,n)},e.prototype.addReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Bn.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Bn.resolve()},e.prototype.updateLimboDocument=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Bn.resolve()},e.prototype.documentSize=function(e){var t,n=this.serializer.toDbRemoteDocument(e);if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw y("Unknown remote document type");t=n.noDocument}return JSON.stringify(t).length},e.prototype.isPinned=function(e,t,n){var r=this;return Bn.or([function(){return r.persistence.mutationQueuesContainKey(e,t)},function(){return Bn.resolve(r.inMemoryPins.containsKey(t))},function(){return r.persistence.getQueryCache().containsKey(e,t)},function(){var e=r.orphanedSequenceNumbers.get(t);return Bn.resolve(void 0!==e&&e>n)}])},e.prototype.getCacheSize=function(e){return this.persistence.getRemoteDocumentCache().getSize(e)},e}(),mi=function(){function e(e,t,n,r,i){this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return e.prototype.reset=function(){this.currentBaseMs=0},e.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},e.prototype.backoffAndRun=function(e){var t=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,(function(){return t.lastAttemptTime=Date.now(),e()})),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},e.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},e.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},e}();!function(e){e[e.Initial=0]="Initial",e[e.Starting=1]="Starting",e[e.Open=2]="Open",e[e.Error=3]="Error",e[e.Backoff=4]="Backoff"}(ui||(ui={}));var vi,yi,gi=function(){function e(e,t,n,r,i,o){this.queue=e,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=ui.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new mi(e,t,1e3,1.5,6e4)}return e.prototype.isStarted=function(){return this.state===ui.Starting||this.state===ui.Open||this.state===ui.Backoff},e.prototype.isOpen=function(){return this.state===ui.Open},e.prototype.start=function(){this.state!==ui.Error?(g(this.state===ui.Initial,"Already started"),this.auth()):this.performBackoff()},e.prototype.stop=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return this.isStarted()?[4,this.close(ui.Initial)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.inhibitBackoff=function(){g(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=ui.Initial,this.backoff.reset()},e.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,(function(){return e.handleIdleCloseTimer()})))},e.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},e.prototype.handleIdleCloseTimer=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){return this.isOpen()?[2,this.close(ui.Initial)]:[2]}))}))},e.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},e.prototype.close=function(e,t){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(n){switch(n.label){case 0:return g(this.isStarted(),"Only started streams should be closed."),g(e===ui.Error||it(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==ui.Error?this.backoff.reset():t&&t.code===O?(m(t.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===A&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.tearDown=function(){},e.prototype.auth=function(){var e=this;g(this.state===ui.Initial,"Must be in initial state to auth"),this.state=ui.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then((function(t){e.closeCount===n&&e.startStream(t)}),(function(n){t((function(){var t=new F(S,"Fetching auth token failed: "+n.message);return e.handleStreamClose(t)}))}))},e.prototype.startStream=function(e){var t=this;g(this.state===ui.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e),this.stream.onOpen((function(){n((function(){return g(t.state===ui.Starting,"Expected stream to be in state Starting, but was "+t.state),t.state=ui.Open,t.listener.onOpen()}))})),this.stream.onClose((function(e){n((function(){return t.handleStreamClose(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.performBackoff=function(){var e=this;g(this.state===ui.Error,"Should only perform backoff when in Error state"),this.state=ui.Backoff,this.backoff.backoffAndRun((function(){return s.__awaiter(e,void 0,void 0,(function(){return s.__generator(this,(function(e){return g(this.state===ui.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=ui.Initial,this.start(),g(this.isStarted(),"PersistentStream should have started"),[2]}))}))}))},e.prototype.handleStreamClose=function(e){return g(this.isStarted(),"Can't handle server close on non-started stream"),p("PersistentStream","close with error: "+e),this.stream=null,this.close(ui.Error,e)},e.prototype.getCloseGuardedDispatcher=function(e){var t=this;return function(n){t.queue.enqueueAndForget((function(){return t.closeCount===e?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),bi=function(e){function t(t,n,r,i,o){var a=e.call(this,t,An.ListenStreamConnectionBackoff,An.ListenStreamIdle,n,r,o)||this;return a.serializer=i,a}return s.__extends(t,e),t.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},t.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},t.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},t.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},t}(gi),wi=function(e){function t(t,n,r,i,o){var a=e.call(this,t,An.WriteStreamConnectionBackoff,An.WriteStreamIdle,n,r,o)||this;return a.serializer=i,a.handshakeComplete_=!1,a}return s.__extends(t,e),Object.defineProperty(t.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.handshakeComplete_=!1,e.prototype.start.call(this)},t.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},t.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},t.prototype.onMessage=function(e){if(g(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return g(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},t.prototype.writeHandshake=function(){g(this.isOpen(),"Writing handshake requires an opened stream"),g(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},t.prototype.writeMutations=function(e){var t=this;g(this.isOpen(),"Writing mutations requires an opened stream"),g(this.handshakeComplete_,"Handshake must be complete before writing mutations"),g(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map((function(e){return t.serializer.toMutation(e)}))};this.sendRequest(n)},t}(gi),_i=function(){function e(e,t,n,r){this.queue=e,this.connection=t,this.credentials=n,this.serializer=r}return e.prototype.newPersistentWriteStream=function(e){return new wi(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.newPersistentWatchStream=function(e){return new bi(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map((function(e){return t.serializer.toMutation(e)}))};return this.invokeRPC("Commit",n).then((function(e){return t.serializer.fromWriteResults(e.writeResults,e.commitTime)}))},e.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map((function(e){return t.serializer.toName(e)}))};return this.invokeStreamingRPC("BatchGetDocuments",n).then((function(n){var r=zt();n.forEach((function(e){var n=t.serializer.fromMaybeDocument(e);r=r.insert(n.key,n)}));var i=[];return e.forEach((function(e){var t=r.get(e);g(!!t,"Missing entity in write response for "+e),i.push(t)})),i}))},e.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeRPC(e,t,r)})).catch((function(e){throw e.code===A&&n.credentials.invalidateToken(),e}))},e.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeStreamingRPC(e,t,r)})).catch((function(e){throw e.code===A&&n.credentials.invalidateToken(),e}))},e}(),Ti=function(){function e(e){this.datastore=e,this.readVersions=Gt(),this.mutations=[],this.committed=!1}return e.prototype.recordVersion=function(e){var t;if(e instanceof De)t=e.version;else{if(!(e instanceof Ne))throw y("Document in a transaction was a "+e.constructor.name);t=gt.forDeletedDoc()}var n=this.readVersions.get(e.key);if(null!==n){if(!t.isEqual(n))throw new F(N,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},e.prototype.lookup=function(e){var t=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(e).then((function(e){return e.forEach((function(e){e instanceof Ne||e instanceof De?t.recordVersion(e):y("Document in a transaction was a "+e.constructor.name)})),e}))},e.prototype.write=function(e){if(this.committed)throw new F(D,"Transaction has already completed.");this.mutations=this.mutations.concat(e)},e.prototype.precondition=function(e){var t=this.readVersions.get(e);return t?Ct.updateTime(t):Ct.NONE},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(t&&t.isEqual(gt.forDeletedDoc()))throw new F(D,"Can't update a document that doesn't exist.");return t?Ct.updateTime(t):Ct.exists(!0)},e.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e)))},e.prototype.update=function(e,t){this.write(t.toMutations(e,this.preconditionForUpdate(e)))},e.prototype.delete=function(e){this.write([new Dt(e,this.precondition(e))]),this.readVersions=this.readVersions.insert(e,gt.forDeletedDoc())},e.prototype.commit=function(){var e=this,t=this.readVersions;return this.mutations.forEach((function(e){t=t.remove(e.key)})),t.isEmpty()?this.datastore.commit(this.mutations).then((function(){e.committed=!0})):Promise.reject(Error("Every document read in a transaction must also be written."))},e}();!function(e){e[e.Unknown=0]="Unknown",e[e.Online=1]="Online",e[e.Offline=2]="Offline"}(vi||(vi={})),function(e){e[e.RemoteStore=0]="RemoteStore",e[e.SharedClientState=1]="SharedClientState"}(yi||(yi={}));var Si=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=vi.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return e.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(vi.Unknown),g(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(An.OnlineStateTimeout,1e4,(function(){return e.onlineStateTimer=null,g(e.state===vi.Unknown,"Timer should be canceled if we transitioned to a different state."),e.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),e.setAndBroadcast(vi.Offline),Promise.resolve()})))},e.prototype.handleWatchStreamFailure=function(e){this.state===vi.Online?(this.setAndBroadcast(vi.Unknown),g(0===this.watchStreamFailures,"watchStreamFailures must be 0"),g(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+e.toString()),this.setAndBroadcast(vi.Offline)))},e.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===vi.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},e.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.logClientOfflineWarningIfNecessary=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(m(t),this.shouldWarnClientIsOffline=!1):p("OnlineStateTracker",t)},e.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},e}(),Ei=function(){function e(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback((function(e){n.enqueueAndForget((function(){return s.__awaiter(o,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(p("RemoteStore","Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.onlineStateTracker=new Si(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.enableNetwork=function(){return s.__awaiter(this,void 0,void 0,(function(){var e;return s.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(vi.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},e.prototype.disableNetwork=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(vi.Offline),[2]}}))}))},e.prototype.disableNetworkInternal=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return[4,this.writeStream.stop()];case 1:return e.sent(),[4,this.watchStream.stop()];case 2:return e.sent(),this.writePipeline.length>0&&(p("RemoteStore","Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}}))}))},e.prototype.shutdown=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return p("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(vi.Unknown),[2]}}))}))},e.prototype.listen=function(e){g(!B(this.listenTargets,e.targetId),"listen called with duplicate targetId!"),this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(e)},e.prototype.unlisten=function(e){g(B(this.listenTargets,e),"unlisten called without assigned target ID!"),delete this.listenTargets[e],this.watchStream.isOpen()&&this.sendUnwatchRequest(e),W(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(vi.Unknown))},e.prototype.getQueryDataForTarget=function(e){return this.listenTargets[e]||null},e.prototype.getRemoteKeysForTarget=function(e){return this.syncEngine.getRemoteKeysForTarget(e)},e.prototype.sendWatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},e.prototype.sendUnwatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},e.prototype.startWatchStream=function(){g(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new hn(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},e.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!W(this.listenTargets)},e.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},e.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},e.prototype.onWatchStreamOpen=function(){return s.__awaiter(this,void 0,void 0,(function(){var e=this;return s.__generator(this,(function(t){return V(this.listenTargets,(function(t,n){e.sendWatchRequest(n)})),[2]}))}))},e.prototype.onWatchStreamClose=function(e){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return void 0===e&&g(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(vi.Unknown),[2]}))}))},e.prototype.onWatchStreamChange=function(e,t){return s.__awaiter(this,void 0,void 0,(function(){var n;return s.__generator(this,(function(r){switch(r.label){case 0:return this.onlineStateTracker.set(vi.Online),e instanceof ln&&e.state===nn.Removed&&e.cause?[2,this.handleTargetError(e)]:(e instanceof un?this.watchChangeAggregator.handleDocumentChange(e):e instanceof cn?this.watchChangeAggregator.handleExistenceFilter(e):(g(e instanceof ln,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(e)),t.isEqual(gt.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),t.compareTo(n)>=0?[4,this.raiseWatchSnapshot(t)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},e.prototype.raiseWatchSnapshot=function(e){var t=this;g(!e.isEqual(gt.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(e);return V(n.targetChanges,(function(n,r){if(r.resumeToken.length>0){var i=t.listenTargets[n];i&&(t.listenTargets[n]=i.copy({resumeToken:r.resumeToken,snapshotVersion:e}))}})),n.targetMismatches.forEach((function(e){var n=t.listenTargets[e];if(n){t.listenTargets[e]=n.copy({resumeToken:w()}),t.sendUnwatchRequest(e);var r=new wt(n.query,e,at.ExistenceFilterMismatch,n.sequenceNumber);t.sendWatchRequest(r)}})),this.syncEngine.applyRemoteEvent(n)},e.prototype.handleTargetError=function(e){var t=this;g(!!e.cause,"Handling target error without a cause");var n=e.cause,r=Promise.resolve();return e.targetIds.forEach((function(e){r=r.then((function(){return s.__awaiter(t,void 0,void 0,(function(){return s.__generator(this,(function(t){return B(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,n)]):[2]}))}))}))})),r},e.prototype.fillWritePipeline=function(){return s.__awaiter(this,void 0,void 0,(function(){var e,t;return s.__generator(this,(function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(e=this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(e)]):[3,4];case 1:return null!==(t=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}}))}))},e.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},e.prototype.outstandingWrites=function(){return this.writePipeline.length},e.prototype.addToWritePipeline=function(e){g(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(e),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},e.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},e.prototype.startWriteStream=function(){g(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},e.prototype.onWriteStreamOpen=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){return this.writeStream.writeHandshake(),[2]}))}))},e.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then((function(){for(var t=0,n=e.writePipeline;t<n.length;t++){var r=n[t];e.writeStream.writeMutations(r.mutations)}})).catch($r)},e.prototype.onMutationResult=function(e,t){var n=this;g(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=Un.from(r,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then((function(){return n.fillWritePipeline()}))},e.prototype.onWriteStreamClose=function(e){return s.__awaiter(this,void 0,void 0,(function(){var t=this;return s.__generator(this,(function(n){return void 0===e&&g(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),e&&this.writePipeline.length>0?(void 0,[2,(this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e)).then((function(){t.shouldStartWriteStream()&&t.startWriteStream()}))]):[2]}))}))},e.prototype.handleHandshakeError=function(e){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return Ut(e.code)?(p("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=w(),[2,this.localStore.setLastStreamToken(w()).catch($r)]):[2]}))}))},e.prototype.handleWriteError=function(e){return s.__awaiter(this,void 0,void 0,(function(){var t,n=this;return s.__generator(this,(function(r){return Ut(i=e.code)&&i!==N?(t=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(t.batchId,e).then((function(){return n.fillWritePipeline()}))]):[2];var i}))}))},e.prototype.createTransaction=function(){return new Ti(this.datastore)},e.prototype.restartNetwork=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(vi.Unknown),[4,this.enableNetwork()];case 2:return e.sent(),[2]}}))}))},e.prototype.handleCredentialChange=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(p("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.applyPrimaryState=function(e){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.isPrimary=e,e&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(vi.Unknown),t.label=4;case 4:return[2]}}))}))},e}(),ki=function(){this.listeners=[]},Ci=function(){function e(e){this.syncEngine=e,this.queries=new ar((function(e){return e.canonicalId()})),this.onlineState=vi.Unknown,this.syncEngine.subscribe(this)}return e.prototype.listen=function(e){var t=e.query,n=!1,r=this.queries.get(t);return r||(n=!0,r=new ki,this.queries.set(t,r)),r.listeners.push(e),e.applyOnlineStateChange(this.onlineState),r.viewSnap&&e.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(t).then((function(e){return r.targetId=e,e})):Promise.resolve(r.targetId)},e.prototype.unlisten=function(e){return s.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return s.__generator(this,(function(o){return t=e.query,n=!1,(r=this.queries.get(t))&&(i=r.listeners.indexOf(e))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]}))}))},e.prototype.onWatchChange=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t],i=r.query,o=this.queries.get(i);if(o){for(var a=0,s=o.listeners;a<s.length;a++){s[a].onViewSnapshot(r)}o.viewSnap=r}}},e.prototype.onWatchError=function(e,t){var n=this.queries.get(e);if(n)for(var r=0,i=n.listeners;r<i.length;r++){i[r].onError(t)}this.queries.delete(e)},e.prototype.onOnlineStateChange=function(e){this.onlineState=e,this.queries.forEach((function(t,n){for(var r=0,i=n.listeners;r<i.length;r++){i[r].applyOnlineStateChange(e)}}))},e}(),Ii=function(){function e(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.onlineState=vi.Unknown,this.options=n||{}}return e.prototype.onViewSnapshot=function(e){if(g(e.docChanges.length>0||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];i.type!==Zt.Metadata&&t.push(i)}e=new on(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(e)&&this.queryObserver.next(e):this.shouldRaiseInitialEvent(e,this.onlineState)&&this.raiseInitialEvent(e),this.snap=e},e.prototype.onError=function(e){this.queryObserver.error(e)},e.prototype.applyOnlineStateChange=function(e){this.onlineState=e,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&this.raiseInitialEvent(this.snap)},e.prototype.shouldRaiseInitialEvent=function(e,t){if(g(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache)return!0;var n=t!==vi.Offline;return this.options.waitForSyncWhenOnline&&n?(g(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===vi.Offline},e.prototype.shouldRaiseEvent=function(e){if(e.docChanges.length>0)return!0;var t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.raiseInitialEvent=function(e){g(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=on.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(e)},e}(),xi=function(){function e(e,t,n){this.targetId=e,this.addedKeys=t,this.removedKeys=n}return e.fromSnapshot=function(t,n){for(var r=Xt(),i=Xt(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case Zt.Added:r=r.add(s.doc.key);break;case Zt.Removed:i=i.add(s.doc.key)}}return new e(t,r,i)},e}(),Ai=function(e){this.key=e},Oi=function(e){this.key=e},Di=function(){function e(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=Xt(),this.mutatedKeys=Xt(),this.documentSet=new tn(e.docComparator.bind(e))}return Object.defineProperty(e.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),e.prototype.computeDocChanges=function(e,t){var n=this,r=t?t.changeSet:new rn,i=t?t.documentSet:this.documentSet,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),l=t instanceof De?t:null;l&&(g(e.isEqual(l.key),"Mismatching keys found in document changes: "+e+" != "+l.key),l=n.query.matches(l)?l:null);var f=!!c&&n.mutatedKeys.has(c.key),h=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),d=!1;c&&l?c.data.isEqual(l.data)?f!==h&&(r.track({type:Zt.Metadata,doc:l}),d=!0):n.shouldWaitForSyncedDocument(c,l)||(r.track({type:Zt.Modified,doc:l}),d=!0,u&&n.query.docComparator(l,u)>0&&(s=!0)):!c&&l?(r.track({type:Zt.Added,doc:l}),d=!0):c&&!l&&(r.track({type:Zt.Removed,doc:c}),d=!0,u&&(s=!0));d&&(l?(a=a.add(l),o=h?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),o=o.delete(c.key),r.track({type:Zt.Removed,doc:c})}return g(!s||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},e.prototype.shouldWaitForSyncedDocument=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this;g(!e.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var o=e.changeSet.getChanges();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case Zt.Added:return 1;case Zt.Modified:case Zt.Metadata:return 2;case Zt.Removed:return 0;default:return y("Unknown ChangeType: "+e)}};return n(e)-n(t)}(e.type,t.type)||r.query.docComparator(e.doc,t.doc)})),this.applyTargetChange(n);var a=t?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?en.Synced:en.Local,u=s!==this.syncState;return this.syncState=s,0!==o.length||u?{snapshot:new on(this.query,e.documentSet,i,o,e.mutatedKeys,s===en.Local,u,!1),limboChanges:a}:{limboChanges:a}},e.prototype.applyOnlineStateChange=function(e){return this.current&&e===vi.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new rn,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},e.prototype.shouldBeInLimbo=function(e){return!this._syncedDocuments.has(e)&&(!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations)},e.prototype.applyTargetChange=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.add(e)})),e.modifiedDocuments.forEach((function(e){return g(t._syncedDocuments.has(e),"Modified document "+e+" not found in view.")})),e.removedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.delete(e)})),this.current=e.current)},e.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=Xt(),this.documentSet.forEach((function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))}));var n=[];return t.forEach((function(t){e.limboDocuments.has(t)||n.push(new Oi(t))})),this.limboDocuments.forEach((function(e){t.has(e)||n.push(new Ai(e))})),n},e.prototype.synchronizeWithPersistedState=function(e,t){this._syncedDocuments=t,this.limboDocuments=Xt();var n=this.computeDocChanges(e);return this.applyChanges(n,!0)},e.prototype.computeInitialSnapshot=function(){return on.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===en.Local)},e}();var Ni=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Pi=function(e){this.key=e},Ri=function(){function e(e,t,n,r){this.localStore=e,this.remoteStore=t,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new ar((function(e){return e.canonicalId()})),this.queryViewsByTarget={},this.limboTargetsByKey=new Re(Ae.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new ri,this.mutationUserCallbacks={},this.limboTargetIdGenerator=Yn.forSyncEngine(),this.isPrimary=void 0,this.onlineState=vi.Unknown}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){g(null!==e,"SyncEngine listener cannot be null"),g(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=e},e.prototype.listen=function(e){return s.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,o;return s.__generator(this,(function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(e))?(t=r.targetId,this.sharedClientState.addLocalQueryTarget(t),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(e)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),t=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,t]}}))}))},e.prototype.initializeViewAndComputeSnapshot=function(e,t){var n=this,r=e.query;return this.localStore.executeQuery(r).then((function(i){return n.localStore.remoteDocumentKeys(e.targetId).then((function(o){var a=new Di(r,o),s=a.computeDocChanges(i),u=sn.createSynthesizedTargetChangeForCurrentChange(e.targetId,t&&n.onlineState!==vi.Offline),c=a.applyChanges(s,!0===n.isPrimary,u);g(0===c.limboChanges.length,"View returned limbo docs before target ack from the server."),g(!!c.snapshot,"applyChanges for new view should always return a snapshot");var l=new Ni(r,e.targetId,a);return n.queryViewsByQuery.set(r,l),n.queryViewsByTarget[e.targetId]=l,c.snapshot}))}))},e.prototype.synchronizeViewAndComputeSnapshot=function(e){var t=this;return this.localStore.executeQuery(e.query).then((function(n){return t.localStore.remoteDocumentKeys(e.targetId).then((function(r){return s.__awaiter(t,void 0,void 0,(function(){var t;return s.__generator(this,(function(i){return t=e.view.synchronizeWithPersistedState(n,r),this.isPrimary&&this.updateTrackedLimbos(e.targetId,t.limboChanges),[2,t]}))}))}))}))},e.prototype.unlisten=function(e){return s.__awaiter(this,void 0,void 0,(function(){var t,n=this;return s.__generator(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),g(!!(t=this.queryViewsByQuery.get(e)),"Trying to unlisten on query not found:"+e),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.sharedClientState.isActiveQueryTarget(t.targetId)?[3,2]:[4,this.localStore.releaseQuery(e,!1).then((function(){n.sharedClientState.clearQueryState(t.targetId),n.remoteStore.unlisten(t.targetId),n.removeAndCleanupQuery(t)})).catch($r)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(t),[4,this.localStore.releaseQuery(e,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},e.prototype.write=function(e,t){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(e).then((function(e){return n.sharedClientState.addPendingMutation(e.batchId),n.addMutationCallback(e.batchId,t),n.emitNewSnapsAndNotifyLocalStore(e.changes)})).then((function(){return n.remoteStore.fillWritePipeline()}))},e.prototype.wrapUpdateFunctionError=function(e){return e},e.prototype.runTransaction=function(e,t){var n=this;void 0===t&&(t=5),g(t>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var t=e(r);return!it(t)&&t.catch&&t.then?t.catch((function(e){return Promise.reject(n.wrapUpdateFunctionError(e))})):Promise.reject(Error("Transaction callback must return a Promise"))}catch(i){return Promise.reject(n.wrapUpdateFunctionError(i))}}().then((function(i){return r.commit().then((function(){return i})).catch((function(r){return 0===t?Promise.reject(r):n.runTransaction(e,t-1)}))}))},e.prototype.applyRemoteEvent=function(e){var t=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(e).then((function(n){return z(e.targetChanges,(function(e,n){var r=t.limboResolutionsByTarget[e];r&&(g(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),n.addedDocuments.size>0?r.receivedDocument=!0:n.modifiedDocuments.size>0?g(r.receivedDocument,"Received change for limbo target document without add."):n.removedDocuments.size>0&&(g(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))})),t.emitNewSnapsAndNotifyLocalStore(n,e)})).catch($r)},e.prototype.applyOnlineStateChange=function(e,t){if(this.isPrimary&&t===yi.RemoteStore||!this.isPrimary&&t===yi.SharedClientState){var n=[];this.queryViewsByQuery.forEach((function(t,r){var i=r.view.applyOnlineStateChange(e);g(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)})),this.syncEngineListener.onOnlineStateChange(e),this.syncEngineListener.onWatchChange(n),this.onlineState=e,this.isPrimary&&this.sharedClientState.setOnlineState(e)}},e.prototype.rejectListen=function(e,t){return s.__awaiter(this,void 0,void 0,(function(){var n,r,i,o,a,u,c=this;return s.__generator(this,(function(s){switch(s.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(e,"rejected",t),n=this.limboResolutionsByTarget[e],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[e],i=(i=new Re(Ae.comparator)).insert(r,new Ne(r,gt.forDeletedDoc())),o=Xt().add(r),a=new an(gt.MIN,{},new _t(he),i,o),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return g(!!(u=this.queryViewsByTarget[e]),"Unknown targetId: "+e),[4,this.localStore.releaseQuery(u.query,!1).then((function(){return c.removeAndCleanupQuery(u)})).catch($r)];case 2:s.sent(),this.syncEngineListener.onWatchError(u.query,t),s.label=3;case 3:return[2]}}))}))},e.prototype.applyBatchState=function(e,t,n){return s.__awaiter(this,void 0,void 0,(function(){var r;return s.__generator(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(e)];case 1:return null===(r=i.sent())?(p("SyncEngine","Cannot apply mutation batch with id: "+e),[2]):"pending"!==t?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.processUserCallback(e,n||null),this.localStore.removeCachedMutationBatchMetadata(e)):y("Unknown batchState: "+t),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}}))}))},e.prototype.applySuccessfulWrite=function(e){var t=this;this.assertSubscribed("applySuccessfulWrite()");var n=e.batch.batchId;return this.processUserCallback(n,null),this.localStore.acknowledgeBatch(e).then((function(e){return t.sharedClientState.updateMutationState(n,"acknowledged"),t.emitNewSnapsAndNotifyLocalStore(e)})).catch($r)},e.prototype.rejectFailedWrite=function(e,t){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.localStore.rejectBatch(e).then((function(r){return n.sharedClientState.updateMutationState(e,"rejected",t),n.emitNewSnapsAndNotifyLocalStore(r)})).catch($r)},e.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new Re(he)),n=n.insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},e.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(e);r&&(g(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?r.reject(t):r.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},e.prototype.removeAndCleanupQuery=function(e){var t=this;if(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.queryViewsByQuery.delete(e.query),delete this.queryViewsByTarget[e.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(e.targetId);this.limboDocumentRefs.removeReferencesForId(e.targetId),n.forEach((function(e){t.limboDocumentRefs.containsKey(e)||t.removeLimboTarget(e)}))}},e.prototype.removeLimboTarget=function(e){var t=this.limboTargetsByKey.get(e);null!==t&&(this.remoteStore.unlisten(t),this.limboTargetsByKey=this.limboTargetsByKey.remove(e),delete this.limboResolutionsByTarget[t])},e.prototype.updateTrackedLimbos=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i instanceof Ai)this.limboDocumentRefs.addReference(i.key,e),this.trackLimboChange(i);else if(i instanceof Oi){p("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,e),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)}else y("Unknown limbo change: "+JSON.stringify(i))}},e.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){p("SyncEngine","New document in limbo: "+t);var n=this.limboTargetIdGenerator.next(),r=st.atPath(t.path);this.limboResolutionsByTarget[n]=new Pi(t),this.remoteStore.listen(new wt(r,n,at.LimboResolution,On.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},e.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},e.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){return s.__awaiter(this,void 0,void 0,(function(){var n,r,i,o=this;return s.__generator(this,(function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach((function(a,s){i.push(Promise.resolve().then((function(){var t=s.view.computeDocChanges(e);return t.needsRefill?o.localStore.executeQuery(s.query).then((function(e){return s.view.computeDocChanges(e,t)})):t})).then((function(e){var i=t&&t.targetChanges[s.targetId],a=s.view.applyChanges(e,!0===o.isPrimary,i);if(o.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=xi.fromSnapshot(s.targetId,a.snapshot);r.push(u)}})))})),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}}))}))},e.prototype.assertSubscribed=function(e){g(null!==this.syncEngineListener,"Trying to call "+e+" before calling subscribe().")},e.prototype.handleCredentialChange=function(e){return s.__awaiter(this,void 0,void 0,(function(){var t,n;return s.__generator(this,(function(r){switch(r.label){case 0:return t=!this.currentUser.isEqual(e),this.currentUser=e,t?[4,this.localStore.handleUserChange(e)]:[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}}))}))},e.prototype.applyPrimaryState=function(e){return s.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,o,a,u,c=this;return s.__generator(this,(function(s){switch(s.label){case 0:return!0!==e||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return s.sent(),t=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t.toArray())];case 2:for(n=s.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.remoteStore.listen(o);return[3,7];case 3:return!1!==e||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],u=Promise.resolve(),V(this.queryViewsByTarget,(function(e,t){c.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then((function(){return c.unlisten(t.query)})),c.remoteStore.unlisten(t.targetId)})),[4,u]);case 4:return s.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return s.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:s.sent(),s.label=7;case 7:return[2]}}))}))},e.prototype.resetLimboDocuments=function(){var e=this;V(this.limboResolutionsByTarget,(function(t){e.remoteStore.unlisten(t)})),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new Re(Ae.comparator)},e.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(e){for(var t=this,n=Promise.resolve(),r=[],i=[],o=function(e){n=n.then((function(){return s.__awaiter(t,void 0,void 0,(function(){var t,n,o,a;return s.__generator(this,(function(s){switch(s.label){case 0:return(n=this.queryViewsByTarget[e])?[4,this.localStore.releaseQuery(n.query,!0)]:[3,4];case 1:return s.sent(),[4,this.localStore.allocateQuery(n.query)];case 2:return t=s.sent(),[4,this.synchronizeViewAndComputeSnapshot(n)];case 3:return(o=s.sent()).snapshot&&i.push(o.snapshot),[3,8];case 4:return g(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(e)];case 5:return g(!!(a=s.sent()),"Query data for target "+e+" not found"),[4,this.localStore.allocateQuery(a)];case 6:return t=s.sent(),[4,this.initializeViewAndComputeSnapshot(t,!1)];case 7:s.sent(),s.label=8;case 8:return r.push(t),[2]}}))}))}))},a=0,u=e;a<u.length;a++){o(u[a])}return n.then((function(){return t.syncEngineListener.onWatchChange(i),r}))},e.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},e.prototype.applyTargetState=function(e,t,n){return s.__awaiter(this,void 0,void 0,(function(){var r,i=this;return s.__generator(this,(function(o){switch(o.label){case 0:if(this.isPrimary)return p("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[e])return[3,5];switch(t){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then((function(n){return s.__awaiter(i,void 0,void 0,(function(){var r;return s.__generator(this,(function(i){switch(i.label){case 0:return r=an.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,this.emitNewSnapsAndNotifyLocalStore(n,r)];case 1:return i.sent(),[2]}}))}))}),(function(e){return s.__awaiter(i,void 0,void 0,(function(){var t;return s.__generator(this,(function(n){switch(n.label){case 0:return function(e){return e.code===j&&e.message===ur}(e)?(t=[],V(this.queryViewsByTarget,(function(e){return t.push(e)})),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t)]):[3,2];case 1:return n.sent(),[3,3];case 2:throw e;case 3:return[2]}}))}))}))];case 2:return r=this.queryViewsByTarget[e],this.removeAndCleanupQuery(r),[4,this.localStore.releaseQuery(r.query,!0)];case 3:return o.sent(),this.syncEngineListener.onWatchError(r.query,n),[3,5];case 4:y("Unexpected target state: "+t),o.label=5;case 5:return[2]}}))}))},e.prototype.applyActiveTargetsChange=function(e,t){return s.__awaiter(this,void 0,void 0,(function(){var n,r,i,o,a,u,c,l,f,h=this;return s.__generator(this,(function(d){switch(d.label){case 0:if(!this.isPrimary)return[2];n=0,r=e,d.label=1;case 1:return n<r.length?(f=r[n],g(!this.queryViewsByTarget[f],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(f)]):[3,6];case 2:return g(!!(i=d.sent()),"Query data for active target "+f+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=d.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:d.sent(),this.remoteStore.listen(o),d.label=5;case 5:return n++,[3,1];case 6:a=function(e){var t;return s.__generator(this,(function(n){switch(n.label){case 0:return(t=u.queryViewsByTarget[e])?[4,u.localStore.releaseQuery(t.query,!1).then((function(){h.remoteStore.unlisten(e),h.removeAndCleanupQuery(t)})).catch($r)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))},u=this,c=0,l=t,d.label=7;case 7:return c<l.length?(f=l[c],[5,a(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))},e.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},e.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},e.prototype.getRemoteKeysForTarget=function(e){var t=this.limboResolutionsByTarget[e];return t&&t.receivedDocument?Xt().add(t.key):this.queryViewsByTarget[e]?this.queryViewsByTarget[e].view.syncedDocuments:Xt()},e}(),Li=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e.UNAUTHENTICATED=new e(null),e.GOOGLE_CREDENTIALS=new e("google-credentials-uid"),e.FIRST_PARTY=new e("first-party-uid"),e}(),Mi="SharedClientState",ji=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r,g(void 0!==r===("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n,r){var i=JSON.parse(r),o="object"===typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"===typeof i.error),a=void 0;return o&&i.error&&(o="string"===typeof i.error.message&&"string"===typeof i.error.code)&&(a=new F(i.error.code,i.error.message)),o?new e(t,n,i.state,a):(m(Mi,"Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Fi=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n,g(void 0!==n===("rejected"===t),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n){var r=JSON.parse(n),i="object"===typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"===typeof r.error),o=void 0;return i&&r.error&&(i="string"===typeof r.error.message&&"string"===typeof r.error.code)&&(o=new F(r.error.code,r.error.message)),i?new e(t,r.state,o):(m(Mi,"Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Ui=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.fromWebStorageEntry=function(t,n){for(var r=JSON.parse(n),i="object"===typeof r&&r.activeTargetIds instanceof Array,o=Jt(),a=0;i&&a<r.activeTargetIds.length;++a)i=ot(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(m(Mi,"Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Bi=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.fromWebStorageEntry=function(t){var n=JSON.parse(t);return"object"===typeof n&&void 0!==vi[n.onlineState]&&"string"===typeof n.clientId?new e(n.clientId,vi[n.onlineState]):(m(Mi,"Failed to parse online state: "+t),null)},e}(),qi=function(){function e(){this.activeTargetIds=Jt()}return e.prototype.addQueryTarget=function(e){g(!this.activeTargetIds.has(e),"Target with ID '"+e+"' already active."),this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.removeQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.toWebStorageJSON=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Vi=function(){function e(t,n,r,i,o){if(this.queue=t,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!e.isAvailable(this.platform))throw new F(R,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey="firestore_sequence_number_"+r,this.activeClients[this.localClientId]=new qi,this.clientStateKeyRe=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.onlineStateKey="firestore_online_state_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return e.isAvailable=function(e){return!(!e.window||null==e.window.localStorage)},e.prototype.start=function(){return s.__awaiter(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,u,c,l,f,h=this;return s.__generator(this,(function(s){switch(s.label){case 0:return g(!this.started,"WebStorageSharedClientState already started"),g(null!==this.syncEngine,"syncEngine property must be set before calling start()"),g(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=s.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=Ui.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(u=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(u),c=0,l=this.earlyEvents;c<l.length;c++)f=l[c],this.handleWebStorageEvent(f);return this.earlyEvents=[],this.platform.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){var e=Jt();return z(this.activeClients,(function(t,n){e=e.unionWith(n.activeTargetIds)})),e},e.prototype.isActiveQueryTarget=function(e){for(var t in this.activeClients)if(this.activeClients.hasOwnProperty(t)&&this.activeClients[t].activeTargetIds.has(e))return!0;return!1},e.prototype.addPendingMutation=function(e){this.persistMutationState(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.persistMutationState(e,t,n),this.removeMutationState(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(e));if(n){var r=Fi.fromWebStorageEntry(e,n);r&&(t=r.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t},e.prototype.removeLocalQueryTarget=function(e){this.localClientState.removeQueryTarget(e),this.persistClientState()},e.prototype.isLocalQueryTarget=function(e){return this.localClientState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(this.toWebStorageQueryTargetMetadataKey(e))},e.prototype.updateQueryState=function(e,t,n){this.persistQueryTargetState(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.removeMutationState(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.persistOnlineState(e)},e.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return p(Mi,"READ",e,t),t},e.prototype.setItem=function(e,t){p(Mi,"SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){p(Mi,"REMOVE",e),this.storage.removeItem(e)},e.prototype.handleWebStorageEvent=function(e){var t=this;if(e.storageArea===this.storage){if(p(Mi,"EVENT",e.key,e.newValue),e.key===this.localClientStorageKey)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget((function(){return s.__awaiter(t,void 0,void 0,(function(){var t,n,r,i,o,a;return s.__generator(this,(function(s){if(!this.started)return this.earlyEvents.push(e),[2];if(null===e.key)return[2];if(this.clientStateKeyRe.test(e.key)){if(null==e.newValue)return n=this.fromWebStorageClientStateKey(e.key),[2,this.handleClientStateEvent(n,null)];if(t=this.fromWebStorageClientState(e.key,e.newValue))return[2,this.handleClientStateEvent(t.clientId,t)]}else if(this.mutationBatchKeyRe.test(e.key)){if(null!==e.newValue&&(r=this.fromWebStorageMutationMetadata(e.key,e.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(e.key)){if(null!==e.newValue&&(i=this.fromWebStorageQueryTargetMetadata(e.key,e.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(e.key===this.onlineStateKey){if(null!==e.newValue&&(o=this.fromWebStorageOnlineState(e.newValue)))return[2,this.handleOnlineStateEvent(o)]}else e.key===this.sequenceNumberKey&&(g(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(e){var t=On.INVALID;if(null!=e)try{var n=JSON.parse(e);g("number"===typeof n,"Found non-numeric sequence number"),t=n}catch(r){m(Mi,"Failed to read sequence number from WebStorage",r)}return t}(e.newValue))!==On.INVALID&&this.sequenceNumberHandler(a));return[2]}))}))}))}},Object.defineProperty(e.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),e.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},e.prototype.persistMutationState=function(e,t,n){var r=new ji(this.currentUser,e,t,n),i=this.toWebStorageMutationBatchKey(e);this.setItem(i,r.toWebStorageJSON())},e.prototype.removeMutationState=function(e){var t=this.toWebStorageMutationBatchKey(e);this.removeItem(t)},e.prototype.persistOnlineState=function(e){var t={clientId:this.localClientId,onlineState:vi[e]};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))},e.prototype.persistQueryTargetState=function(e,t,n){var r=this.toWebStorageQueryTargetMetadataKey(e),i=new Fi(e,t,n);this.setItem(r,i.toWebStorageJSON())},e.prototype.toWebStorageClientStateKey=function(e){return g(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),"firestore_clients_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageQueryTargetMetadataKey=function(e){return"firestore_targets_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageMutationBatchKey=function(e){var t="firestore_mutations_"+this.persistenceKey+"_"+e;return this.currentUser.isAuthenticated()&&(t+="_"+this.currentUser.uid),t},e.prototype.fromWebStorageClientStateKey=function(e){var t=this.clientStateKeyRe.exec(e);return t?t[1]:null},e.prototype.fromWebStorageClientState=function(e,t){var n=this.fromWebStorageClientStateKey(e);return g(null!==n,"Cannot parse client state key '"+e+"'"),Ui.fromWebStorageEntry(n,t)},e.prototype.fromWebStorageMutationMetadata=function(e,t){var n=this.mutationBatchKeyRe.exec(e);g(null!==n,"Cannot parse mutation batch key '"+e+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ji.fromWebStorageEntry(new Li(i),r,t)},e.prototype.fromWebStorageQueryTargetMetadata=function(e,t){var n=this.queryTargetKeyRe.exec(e);g(null!==n,"Cannot parse query target key '"+e+"'");var r=Number(n[1]);return Fi.fromWebStorageEntry(r,t)},e.prototype.fromWebStorageOnlineState=function(e){return Bi.fromWebStorageEntry(e)},e.prototype.handleMutationBatchEvent=function(e){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return e.user.uid!==this.currentUser.uid?(p(Mi,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]}))}))},e.prototype.handleQueryTargetEvent=function(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)},e.prototype.handleClientStateEvent=function(e,t){var n=this,r=this.getAllActiveQueryTargets();t?this.activeClients[e]=t:delete this.activeClients[e];var i=this.getAllActiveQueryTargets(),o=[],a=[];return i.forEach((function(e){return s.__awaiter(n,void 0,void 0,(function(){return s.__generator(this,(function(t){return r.has(e)||o.push(e),[2]}))}))})),r.forEach((function(e){return s.__awaiter(n,void 0,void 0,(function(){return s.__generator(this,(function(t){return i.has(e)||a.push(e),[2]}))}))})),this.syncEngine.applyActiveTargetsChange(o,a)},e.prototype.handleOnlineStateEvent=function(e){this.activeClients[e.clientId]&&this.onlineStateHandler(e.onlineState)},e}();var zi=function(){function e(){this.localState=new qi,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.queryState[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.localState.removeQueryTarget(e)},e.prototype.isLocalQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.queryState[e]},e.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.start=function(){return this.localState=new qi,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e}(),Wi=function(){function e(e,t){this.cacheSizeBytes=e,this.synchronizeTabs=t}return e.prototype.lruParams=function(){return zr.withCacheSize(this.cacheSizeBytes)},e}(),Ki=function(){},Hi=function(){function e(e,t,n,r){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=r,this.clientId=fe.newId(),this._clientShutdown=!1}return e.prototype.start=function(e){var t=this;this.verifyNotShutdown();var n=new Dn,r=new Dn,i=!1;return this.credentials.setChangeListener((function(o){i?t.asyncQueue.enqueueAndForget((function(){return t.handleCredentialChange(o)})):(i=!0,t.initializePersistence(e,r,o).then((function(e){return t.initializeRest(o,e)})).then(n.resolve,n.reject))})),this.asyncQueue.enqueueAndForget((function(){return n.promise})),r.promise},e.prototype.enableNetwork=function(){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue((function(){return e.syncEngine.enableNetwork()}))},e.prototype.initializePersistence=function(e,t,n){var r=this;return e instanceof Wi?this.startIndexedDbPersistence(n,e).then((function(e){return t.resolve(),e})).catch((function(e){if(t.reject(e),!r.canFallback(e))throw e;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.startMemoryPersistence()})):(t.resolve(),this.startMemoryPersistence())},e.prototype.canFallback=function(e){return e instanceof F?e.code===D||e.code===R:!("undefined"!==typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)},e.prototype.verifyNotShutdown=function(){if(this._clientShutdown)throw new F(D,"The client has already been shutdown.")},e.prototype.startIndexedDbPersistence=function(e,t){var n=this,r=Xr.buildStoragePrefix(this.databaseInfo),i=new wn(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then((function(){return s.__awaiter(n,void 0,void 0,(function(){var n,o;return s.__generator(this,(function(a){switch(a.label){case 0:if(t.synchronizeTabs&&!Vi.isAvailable(this.platform))throw new F(R,"IndexedDB persistence is only available on platforms that support LocalStorage.");return o=t.lruParams(),t.synchronizeTabs?(this.sharedClientState=new Vi(this.asyncQueue,this.platform,r,this.clientId,e),[4,Xr.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,o,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n=a.sent(),[3,4];case 2:return this.sharedClientState=new zi,[4,Xr.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,o)];case 3:n=a.sent(),a.label=4;case 4:return this.persistence=n,[2,n.referenceDelegate.garbageCollector]}}))}))}))},e.prototype.startMemoryPersistence=function(){return this.persistence=fi.createEagerPersistence(this.clientId),this.sharedClientState=new zi,Promise.resolve(null)},e.prototype.initializeRest=function(e,t){var n=this;return p("FirestoreClient","Initializing. user=",e.uid),this.platform.loadConnection(this.databaseInfo).then((function(r){return s.__awaiter(n,void 0,void 0,(function(){var n,i,o,a,u,c=this;return s.__generator(this,(function(l){switch(l.label){case 0:return this.localStore=new oi(this.persistence,e),t&&(this.lruScheduler=new Wr(t,this.asyncQueue,this.localStore)),n=this.platform.newConnectivityMonitor(),i=this.platform.newSerializer(this.databaseInfo.databaseId),o=new _i(this.asyncQueue,r,this.credentials,i),a=function(e){return c.syncEngine.applyOnlineStateChange(e,yi.RemoteStore)},u=function(e){return c.syncEngine.applyOnlineStateChange(e,yi.SharedClientState)},this.remoteStore=new Ei(this.localStore,o,this.asyncQueue,a,n),this.syncEngine=new Ri(this.localStore,this.remoteStore,this.sharedClientState,e),this.sharedClientState.onlineStateHandler=u,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new Ci(this.syncEngine),[4,this.sharedClientState.start()];case 1:return l.sent(),[4,this.remoteStore.start()];case 2:return l.sent(),[4,this.persistence.setPrimaryStateListener((function(e){return s.__awaiter(c,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return[4,this.syncEngine.applyPrimaryState(e)];case 1:return t.sent(),this.lruScheduler&&(e&&!this.lruScheduler.started?this.lruScheduler.start():e||this.lruScheduler.stop()),[2]}}))}))}))];case 3:return l.sent(),[4,this.persistence.setDatabaseDeletedListener((function(){return s.__awaiter(c,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return[4,this.shutdown()];case 1:return e.sent(),[2]}}))}))}))];case 4:return l.sent(),[2]}}))}))}))},e.prototype.handleCredentialChange=function(e){return this.asyncQueue.verifyOperationInProgress(),p("FirestoreClient","Credential Changed. Current user: "+e.uid),this.syncEngine.handleCredentialChange(e)},e.prototype.disableNetwork=function(){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue((function(){return e.syncEngine.disableNetwork()}))},e.prototype.shutdown=function(){var e=this;return this.asyncQueue.enqueue((function(){return s.__awaiter(e,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return this._clientShutdown?[3,4]:(this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()]);case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown()];case 3:e.sent(),this.credentials.removeChangeListener(),this._clientShutdown=!0,e.label=4;case 4:return[2]}}))}))}))},e.prototype.listen=function(e,t,n){var r=this;this.verifyNotShutdown();var i=new Ii(e,t,n);return this.asyncQueue.enqueueAndForget((function(){return r.eventMgr.listen(i)})),i},e.prototype.unlisten=function(e){var t=this;this.verifyNotShutdown(),this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.unlisten(e)}))},e.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue((function(){return t.localStore.readDocument(e)})).then((function(e){if(e instanceof De)return e;if(e instanceof Ne)return null;throw new F(M,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},e.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue((function(){return t.localStore.executeQuery(e)})).then((function(t){var n=Xt(),r=new Di(e,n),i=r.computeDocChanges(t);return r.applyChanges(i,!1).snapshot}))},e.prototype.write=function(e){var t=this;this.verifyNotShutdown();var n=new Dn;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.write(e,n)})),n.promise},e.prototype.databaseId=function(){return this.databaseInfo.databaseId},Object.defineProperty(e.prototype,"clientShutdown",{get:function(){return this._clientShutdown},enumerable:!0,configurable:!0}),e.prototype.transaction=function(e){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue((function(){return s.__awaiter(t,void 0,void 0,(function(){return s.__generator(this,(function(e){return[2]}))}))})).then((function(){return t.syncEngine.runTransaction(e)}))},e}(),Qi=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},e.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},e.prototype.mute=function(){this.muted=!0},e.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Gi=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Y("FieldPath",e,"fieldNames",1);for(var n=0;n<e.length;++n)if(X("FieldPath","string",n,e[n]),0===e[n].length)throw new F(E,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xe(e)}return e.documentId=function(){return e._DOCUMENT_ID},e.prototype.isEqual=function(t){if(!(t instanceof e))throw ue("isEqual","FieldPath",1,t);return this._internalPath.isEqual(t._internalPath)},e._DOCUMENT_ID=new e(xe.keyField().canonicalString()),e}(),Yi=new RegExp("[~\\*/\\[\\]]");var Xi=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+e}},$i=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){g(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,e(Li.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){g(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},e}(),Ji=function(){function e(e){var t=this;this.app=e,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){t.tokenCounter++,t.currentUser=t.getUser(),t.changeListener&&t.changeListener(t.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return e.prototype.getToken=function(){var e=this;g(null!=this.tokenListener,"getToken cannot be called after listener removed.");var t=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then((function(n){if(e.tokenCounter!==t)throw new F(N,"getToken aborted due to token change.");return n?(g("string"===typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Xi(n.accessToken,e.currentUser)):null}))},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){g(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,this.currentUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){g(null!=this.tokenListener,"removeChangeListener() called twice"),g(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},e.prototype.getUser=function(){var e=this.app.INTERNAL.getUid();return g(null===e||"string"===typeof e,"Received invalid UID: "+e),new Li(e)},e}(),Zi=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=Li.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.sessionIndex},t=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),e}(),eo=function(){function e(e,t){this.gapi=e,this.sessionIndex=t}return e.prototype.getToken=function(){return Promise.resolve(new Zi(this.gapi,this.sessionIndex))},e.prototype.setChangeListener=function(e){e(Li.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function to(e){if(!e)return new $i;switch(e.type){case"gapi":var t=e.client;return g(!("object"!==typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new eo(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new F(E,"makeCredentialsProvider failed due to invalid credential type")}}function no(e){return function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=e,r=0,i=t;r<i.length;r++){var o=i[r];if(o in n&&"function"===typeof n[o])return!0}return!1}(e,["next","error","complete"])}var ro,io=function(){function e(e){this._methodName=e}return e.delete=function(){return K("FieldValue.delete",arguments),oo.instance},e.serverTimestamp=function(){return K("FieldValue.serverTimestamp",arguments),ao.instance},e.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Q("FieldValue.arrayUnion",arguments,1),new so(e)},e.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Q("FieldValue.arrayRemove",arguments,1),new uo(e)},e.increment=function(e){return X("FieldValue.increment","number",1,e),H("FieldValue.increment",arguments,1),new co(e)},e.prototype.isEqual=function(e){return this===e},e}(),oo=function(e){function t(){return e.call(this,"FieldValue.delete")||this}return s.__extends(t,e),t.instance=new t,t}(io),ao=function(e){function t(){return e.call(this,"FieldValue.serverTimestamp")||this}return s.__extends(t,e),t.instance=new t,t}(io),so=function(e){function t(t){var n=e.call(this,"FieldValue.arrayUnion")||this;return n._elements=t,n}return s.__extends(t,e),t}(io),uo=function(e){function t(t){var n=e.call(this,"FieldValue.arrayRemove")||this;return n._elements=t,n}return s.__extends(t,e),t}(io),co=function(e){function t(t){var n=e.call(this,"FieldValue.increment")||this;return n._operand=t,n}return s.__extends(t,e),t}(io),lo=U(io,"Use FieldValue.<field>() instead."),fo=/^__.*__$/,ho=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[];return null!==this.fieldMask?n.push(new At(e,this.data,this.fieldMask,t)):n.push(new xt(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new Ot(e,this.fieldTransforms)),n},e}(),po=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[new At(e,this.data,this.fieldMask,t)];return this.fieldTransforms.length>0&&n.push(new Ot(e,this.fieldTransforms)),n},e}();function mo(e){switch(e){case ro.Set:case ro.MergeSet:case ro.Update:return!0;case ro.Argument:return!1;default:throw y("Unexpected case for UserDataSource: "+e)}}!function(e){e[e.Set=0]="Set",e[e.Update=1]="Update",e[e.MergeSet=2]="MergeSet",e[e.Argument=3]="Argument"}(ro||(ro={}));var vo=function(){function e(e,t,n,r,i,o){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return e.prototype.childContextForField=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(t),r},e.prototype.childContextForFieldPath=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},e.prototype.childContextForArray=function(t){return new e(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},e.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new F(E,"Function "+this.methodName+"() called with invalid data. "+e+t)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},e.prototype.validatePathSegment=function(e){if(mo(this.dataSource)&&fo.test(e))throw this.createError("Document fields cannot begin and end with __")},e}(),yo=function(e,t){this.databaseId=e,this.key=t},go=function(){function e(e){this.preConverter=e}return e.prototype.parseSetData=function(e,t){var n=new vo(ro.Set,e,xe.EMPTY_PATH);wo("Data must be an object, but it was:",n,t);var r=this.parseData(t,n);return new ho(r,null,n.fieldTransforms)},e.prototype.parseMergeData=function(e,t,n){var r=new vo(ro.MergeSet,e,xe.EMPTY_PATH);wo("Data must be an object, but it was:",r,t);var i,o,a=this.parseData(t,r);if(n){for(var s=new _t(xe.comparator),u=0,c=n;u<c.length;u++){var l=c[u],f=void 0;if(l instanceof Gi)f=l._internalPath;else{if("string"!==typeof l)throw y("Expected stringOrFieldPath to be a string or a FieldPath");f=To(e,l)}if(!r.contains(f))throw new F(E,"Field '"+f+"' is specified in your field mask but missing from your input data.");s=s.add(f)}i=St.fromSet(s),o=r.fieldTransforms.filter((function(e){return i.covers(e.field)}))}else i=St.fromArray(r.fieldMask),o=r.fieldTransforms;return new ho(a,i,o)},e.prototype.parseUpdateData=function(e,t){var n=this,r=new vo(ro.Update,e,xe.EMPTY_PATH);wo("Data must be an object, but it was:",r,t);var i=new _t(xe.comparator),o=Je.EMPTY;z(t,(function(t,a){var s=To(e,t),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof oo)i=i.add(s);else{var c=n.parseData(a,u);null!=c&&(i=i.add(s),o=o.set(s,c))}}));var a=St.fromSet(i);return new po(o,a,r.fieldTransforms)},e.prototype.parseUpdateVarargs=function(e,t,n,r){var i=new vo(ro.Update,e,xe.EMPTY_PATH),o=[_o(e,t)],a=[n];if(r.length%2!==0)throw new F(E,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(_o(e,r[s])),a.push(r[s+1]);var u=new _t(xe.comparator),c=Je.EMPTY;for(s=0;s<o.length;++s){var l=o[s],f=i.childContextForFieldPath(l),h=this.runPreConverter(a[s],f);if(h instanceof oo)u=u.add(l);else{var d=this.parseData(h,f);null!=d&&(u=u.add(l),c=c.set(l,d))}}var p=St.fromSet(u);return new po(c,p,i.fieldTransforms)},e.prototype.parseQueryValue=function(e,t){var n=new vo(ro.Argument,e,xe.EMPTY_PATH),r=this.parseData(t,n);return g(null!=r,"Parsed data should not be null."),g(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},e.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(r){var n=So(r);throw t.createError(n)}},e.prototype.parseData=function(e,t){if(bo(e=this.runPreConverter(e,t)))return wo("Unsupported field value:",t,e),this.parseObject(e,t);if(e instanceof io)return this.parseSentinelFieldValue(e,t),null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.arrayElement)throw t.createError("Nested arrays are not supported");return this.parseArray(e,t)}return this.parseScalarValue(e,t)},e.prototype.parseObject=function(e,t){var n=this,r=new Re(he);return W(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):z(e,(function(e,i){var o=n.parseData(i,t.childContextForField(e));null!=o&&(r=r.insert(e,o))})),new Je(r)},e.prototype.parseArray=function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=o[i],s=this.parseData(a,t.childContextForArray(r));null==s&&(s=Be.INSTANCE),n.push(s),r++}return new Ze(n)},e.prototype.parseSentinelFieldValue=function(e,t){if(!mo(t.dataSource))throw t.createError(e._methodName+"() can only be used with update() and set()");if(null===t.path)throw t.createError(e._methodName+"() is not currently supported inside arrays");if(e instanceof oo){if(t.dataSource!==ro.MergeSet)throw t.dataSource===ro.Update?(g(t.path.length>0,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");t.fieldMask.push(t.path)}else if(e instanceof ao)t.fieldTransforms.push(new Et(t.path,Nt.instance));else if(e instanceof so){var n=this.parseArrayTransformElements(e._methodName,e._elements),r=new Pt(n);t.fieldTransforms.push(new Et(t.path,r))}else if(e instanceof uo){n=this.parseArrayTransformElements(e._methodName,e._elements);var i=new Rt(n);t.fieldTransforms.push(new Et(t.path,i))}else if(e instanceof co){var o=this.parseQueryValue("FieldValue.increment",e._operand),a=new Lt(o);t.fieldTransforms.push(new Et(t.path,a))}else y("Unknown FieldValue type: "+e)},e.prototype.parseScalarValue=function(e,t){if(null===e)return Be.INSTANCE;if("number"===typeof e)return ot(e)?new We(e):new Ke(e);if("boolean"===typeof e)return qe.of(e);if("string"===typeof e)return new He(e);if(e instanceof Date)return new Qe(Te.fromDate(e));if(e instanceof Te)return new Qe(new Te(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)));if(e instanceof _e)return new $e(e);if(e instanceof be)return new Ye(e);if(e instanceof yo)return new Xe(e.databaseId,e.key);throw t.createError("Unsupported field value: "+oe(e))},e.prototype.parseArrayTransformElements=function(e,t){var n=this;return t.map((function(t,r){var i=new vo(ro.Argument,e,xe.EMPTY_PATH);return n.parseData(t,i.childContextForArray(r))}))},e}();function bo(e){return"object"===typeof e&&null!==e&&!(e instanceof Array)&&!(e instanceof Date)&&!(e instanceof Te)&&!(e instanceof _e)&&!(e instanceof be)&&!(e instanceof yo)&&!(e instanceof io)}function wo(e,t,n){if(!bo(n)||!ie(n)){var r=oe(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function _o(e,t){if(t instanceof Gi)return t._internalPath;if("string"===typeof t)return To(e,t);throw new F(E,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function To(e,t){try{return function(e){if(e.search(Yi)>=0)throw new F(E,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Gi.bind.apply(Gi,[void 0].concat(e.split("."))))}catch(t){throw new F(E,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t)._internalPath}catch(r){var n=So(r);throw new F(E,"Function "+e+"() called with invalid data. "+n)}}function So(e){return e instanceof Error?e.message:e.toString()}var Eo=zr.COLLECTION_DISABLED,ko=function(){function e(e){if(void 0===e.host){if(void 0!==e.ssl)throw new F(E,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else J("settings","non-empty string","host",e.host),this.host=e.host,Z("settings","boolean","ssl",e.ssl),this.ssl=q(e.ssl,!0);if(se("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),Z("settings","object","credentials",e.credentials),this.credentials=e.credentials,Z("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),!0===e.timestampsInSnapshots?m("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===e.timestampsInSnapshots&&m("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=q(e.timestampsInSnapshots,!0),Z("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=zr.DEFAULT_CACHE_SIZE_BYTES;else{if(e.cacheSizeBytes!==Eo&&e.cacheSizeBytes<zr.MINIMUM_CACHE_SIZE_BYTES)throw new F(E,"cacheSizeBytes must be at least "+zr.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=e.cacheSizeBytes}Z("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=void 0!==e.experimentalForceLongPolling&&e.experimentalForceLongPolling}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling},e}(),Co=function(){},Io=function(){function e(t){var n=this;this._queue=new Pn,this.INTERNAL={delete:function(){return s.__awaiter(n,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.shutdown()];case 1:return e.sent(),[2]}}))}))}};var r=new Co;if("object"===typeof t.options){var i=t;r.firebaseApp=i,r.databaseId=e.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new Ji(i)}else{var o=t;if(!o.projectId)throw new F(E,"Must provide projectId");r.databaseId=new Ee(o.projectId,o.database),r.persistenceKey="[DEFAULT]",r.credentials=new $i}r.settings=new ko({}),this._config=r,this._databaseId=r.databaseId}return e.prototype.settings=function(e){if(H("Firestore.settings",arguments,1),X("Firestore.settings","object",1,e),B(e,"persistence"))throw new F(E,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new ko(e);if(this._firestoreClient&&!this._config.settings.isEqual(t))throw new F(D,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=t,void 0!==t.credentials&&(this._config.credentials=to(t.credentials))},e.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},e.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},e.prototype.enablePersistence=function(e){if(this._firestoreClient)throw new F(D,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var t=!1;return e&&(void 0!==e.experimentalTabSynchronization&&m("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),t=q(void 0!==e.synchronizeTabs?e.synchronizeTabs:e.experimentalTabSynchronization,!1)),this.configureClient(new Wi(this._config.settings.cacheSizeBytes,t))},e.prototype._clearPersistence=function(){var e=this,t=Xr.buildStoragePrefix(this.makeDatabaseInfo()),n=new Dn;return this._queue.enqueueAndForget((function(){return s.__awaiter(e,void 0,void 0,(function(){var e;return s.__generator(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientShutdown)throw new F(D,"Persistence cannot be cleared while this firestore instance is running.");return[4,Xr.clearPersistence(t)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise},e.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Ki),this._firestoreClient},e.prototype.makeDatabaseInfo=function(){return new Se(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl,this._config.settings.forceLongPolling)},e.prototype.configureClient=function(e){var t=this;g(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),g(!this._firestoreClient,"configureClient() called multiple times");var n=this.makeDatabaseInfo();return this._dataConverter=new go((function(e){if(e instanceof Oo){var n=t._config.databaseId,r=e.firestore._config.databaseId;if(!r.isEqual(n))throw new F(E,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new yo(t._config.databaseId,e._key)}return e})),this._firestoreClient=new Hi(b.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(e)},e.databaseIdFromApp=function(e){var t=e.options;if(!B(t,"projectId"))throw new F(E,'"projectId" not provided in firebase.initializeApp.');var n=t.projectId;if(!n||"string"!==typeof n)throw new F(E,"projectId must be a string in FirebaseApp.options");return new Ee(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new F(D,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){return H("Firestore.collection",arguments,1),X("Firestore.collection","non-empty string",1,e),this.ensureClientConfigured(),new Mo(Ce.fromString(e),this)},e.prototype.doc=function(e){return H("Firestore.doc",arguments,1),X("Firestore.doc","non-empty string",1,e),this.ensureClientConfigured(),Oo.forPath(Ce.fromString(e),this)},e.prototype.collectionGroup=function(e){if(H("Firestore.collectionGroup",arguments,1),X("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new F(E,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Ro(new st(Ce.EMPTY_PATH,e),this)},e.prototype.runTransaction=function(e){var t=this;return H("Firestore.runTransaction",arguments,1),X("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction((function(n){return e(new xo(t,n))}))},e.prototype.batch=function(){return this.ensureClientConfigured(),new Ao(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(h()){case i.DEBUG:return"debug";case i.ERROR:return"error";case i.SILENT:return"silent";default:return y("Unknown log level: "+h())}},enumerable:!0,configurable:!0}),e.setLogLevel=function(e){switch(H("Firestore.setLogLevel",arguments,1),X("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":d(i.DEBUG);break;case"error":d(i.ERROR);break;case"silent":d(i.SILENT);break;default:throw new F(E,"Invalid log level: "+e)}},e.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},e}(),xo=function(){function e(e,t){this._firestore=e,this._transaction=t}return e.prototype.get=function(e){var t=this;H("Transaction.get",arguments,1);var n=Bo("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return y("Mismatch in docs returned from document lookup.");var r=e[0];if(r instanceof Ne)return new No(t._firestore,n._key,null,!1,!1);if(r instanceof De)return new No(t._firestore,n._key,r,!1,!1);throw y("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},e.prototype.set=function(e,t,n){G("Transaction.set",arguments,2,3);var r=Bo("Transaction.set",e,this._firestore),i=(n=jo("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",t);return this._transaction.set(r._key,i),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"===typeof t||t instanceof Gi?(Q("Transaction.update",arguments,3),r=Bo("Transaction.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,o)):(H("Transaction.update",arguments,2),r=Bo("Transaction.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(r._key,i),this},e.prototype.delete=function(e){H("Transaction.delete",arguments,1);var t=Bo("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},e}(),Ao=function(){function e(e){this._firestore=e,this._mutations=[],this._committed=!1}return e.prototype.set=function(e,t,n){G("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Bo("WriteBatch.set",e,this._firestore),i=(n=jo("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",t);return this._mutations=this._mutations.concat(i.toMutations(r._key,Ct.NONE)),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"===typeof t||t instanceof Gi?(Q("WriteBatch.update",arguments,3),r=Bo("WriteBatch.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,o)):(H("WriteBatch.update",arguments,2),r=Bo("WriteBatch.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(i.toMutations(r._key,Ct.exists(!0))),this},e.prototype.delete=function(e){H("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=Bo("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new Dt(t._key,Ct.NONE)),this},e.prototype.commit=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]}))}))},e.prototype.verifyNotCommitted=function(){if(this._committed)throw new F(D,"A write batch can no longer be used after commit() has been called.")},e}(),Oo=function(){function e(e,t){this._key=e,this.firestore=t,this._firestoreClient=this.firestore.ensureClientConfigured()}return e.forPath=function(t,n){if(t.length%2!==0)throw new F(E,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(new Ae(t),n)},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Mo(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(H("DocumentReference.collection",arguments,1),X("DocumentReference.collection","non-empty string",1,e),!e)throw new F(E,"Must provide a non-empty collection name to collection()");var t=Ce.fromString(e);return new Mo(this._key.path.child(t),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw ue("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this._key.isEqual(t._key)},e.prototype.set=function(e,t){G("DocumentReference.set",arguments,1,2);var n=(t=jo("DocumentReference.set",t)).merge||t.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",e,t.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",e);return this._firestoreClient.write(n.toMutations(this._key,Ct.NONE))},e.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"===typeof e||e instanceof Gi?(Q("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,r)):(H("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(n.toMutations(this._key,Ct.exists(!0)))},e.prototype.delete=function(){return H("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Dt(this._key,Ct.NONE)])},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];G("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!==typeof e[i]||no(e[i])||(se("DocumentReference.onSnapshot",r=e[i],["includeMetadataChanges"]),Z("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return no(e[i])?n=e[i]:(X("DocumentReference.onSnapshot","function",i,e[i]),$("DocumentReference.onSnapshot","function",i+1,e[i+1]),$("DocumentReference.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(o,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Qi({next:function(e){if(t.next){g(e.docs.size<=1,"Too many documents returned on a document query");var r=e.docs.get(n._key);t.next(new No(n.firestore,n._key,r,e.fromCache,e.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(st.atPath(this._key.path),i,e);return function(){i.mute(),n._firestoreClient.unlisten(o)}},e.prototype.get=function(e){var t=this;return G("DocumentReference.get",arguments,0,1),Uo("DocumentReference.get",e),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then((function(e){n(new No(t.firestore,t._key,e,!0,e instanceof De&&e.hasLocalMutations))}),r):t.getViaSnapshotListener(n,r,e)}))},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?t(new F(M,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?t(new F(M,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(i)},error:t})},e}(),Do=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),No=function(){function e(e,t,n,r,i){this._firestore=e,this._key=t,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return e.prototype.data=function(e){return G("DocumentSnapshot.data",arguments,0,1),e=Fo("DocumentSnapshot.data",e),this._document?this.convertObject(this._document.data,Fe.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},e.prototype.get=function(e,t){if(G("DocumentSnapshot.get",arguments,1,2),t=Fo("DocumentSnapshot.get",t),this._document){var n=this._document.data.field(_o("DocumentSnapshot.get",e));if(void 0!==n)return this.convertValue(n,Fe.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Oo(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new Do(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw ue("isEqual","DocumentSnapshot",1,t);return this._firestore===t._firestore&&this._fromCache===t._fromCache&&this._key.isEqual(t._key)&&(null===this._document?null===t._document:this._document.isEqual(t._document))},e.prototype.convertObject=function(e,t){var n=this,r={};return e.forEach((function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertValue=function(e,t){if(e instanceof Je)return this.convertObject(e,t);if(e instanceof Ze)return this.convertArray(e,t);if(e instanceof Xe){var n=e.value(t),r=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(r)||m("Document "+this._key.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Oo(n,this._firestore)}return e.value(t)},e.prototype.convertArray=function(e,t){var n=this;return e.internalValue.map((function(e){return n.convertValue(e,t)}))},e}(),Po=function(e){function t(t,n,r,i,o){return e.call(this,t,n,r,i,o)||this}return s.__extends(t,e),t.prototype.data=function(t){var n=e.prototype.data.call(this,t);return g("object"===typeof n,"Document in a QueryDocumentSnapshot should exist"),n},t}(No),Ro=function(){function e(e,t){this._query=e,this.firestore=t}return e.prototype.where=function(t,n,r){H("Query.where",arguments,3),ae("Query.where",3,r);var i,o=["<","<=","==",">=",">","array-contains"];ne("Query.where",o,2,n);var a=_o("Query.where",t),s=ct.fromString(n);if(a.isKeyField()){if(s===ct.ARRAY_CONTAINS)throw new F(E,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"===typeof r){if(""===r)throw new F(E,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==r.indexOf("/"))throw new F(E,"Invalid third parameter to Query.where(). When querying a collection by FieldPath.documentId(), the value provided must be a plain document ID, but '"+r+"' contains a slash.");var u=this._query.path.child(Ce.fromString(r));if(!Ae.isDocumentKey(u))throw new F(E,"Invalid third parameter to Query.where(). When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+u+"' is not because it has an odd number of segments ("+u.length+").");i=new Xe(this.firestore._databaseId,new Ae(u))}else{if(!(r instanceof Oo))throw new F(E,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+oe(r)+".");var c=r;i=new Xe(this.firestore._databaseId,c._key)}}else i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var l=ut.create(a,s,i);return this.validateNewFilter(l),new e(this._query.addFilter(l),this.firestore)},e.prototype.orderBy=function(t,n){var r;if(G("Query.orderBy",arguments,1,2),$("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=dt.ASCENDING;else{if("desc"!==n)throw new F(E,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=dt.DESCENDING}if(null!==this._query.startAt)throw new F(E,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new F(E,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=_o("Query.orderBy",t),o=new mt(i,r);return this.validateNewOrderBy(o),new e(this._query.addOrderBy(o),this.firestore)},e.prototype.limit=function(t){if(H("Query.limit",arguments,1),X("Query.limit","number",1,t),t<=0)throw new F(E,"Invalid Query. Query limit ("+t+") is invalid. Limit must be positive.");return new e(this._query.withLimit(t),this.firestore)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Q("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",t,n,!0);return new e(this._query.withStartAt(i),this.firestore)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Q("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",t,n,!1);return new e(this._query.withStartAt(i),this.firestore)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Q("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",t,n,!0);return new e(this._query.withEndAt(i),this.firestore)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Q("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",t,n,!1);return new e(this._query.withEndAt(i),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw ue("isEqual","Query",1,t);return this.firestore===t.firestore&&this._query.isEqual(t._query)},e.prototype.boundFromDocOrFields=function(e,t,n,r){if(ae(e,1,t),t instanceof No){if(n.length>0)throw new F(E,"Too many arguments provided to "+e+"().");var i=t;if(!i.exists)throw new F(C,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,i._document,r)}var o=[t].concat(n);return this.boundFromFields(e,o,r)},e.prototype.boundFromDocument=function(e,t,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new Xe(this.firestore._databaseId,t.key));else{var s=t.field(a.field);if(s instanceof Ge)throw new F(E,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(void 0===s){var u=a.field.canonicalString();throw new F(E,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new pt(r,n)},e.prototype.boundFromFields=function(e,t,n){var r=this._query.explicitOrderBy;if(t.length>r.length)throw new F(E,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<t.length;o++){var a=t[o];if(r[o].field.isKeyField()){if("string"!==typeof a)throw new F(E,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new F(E,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+e+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(Ce.fromString(a));if(!Ae.isDocumentKey(s))throw new F(E,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+e+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new Ae(s);i.push(new Xe(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(e,a);i.push(c)}}return new pt(i,n)},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];G("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!==typeof e[i]||no(e[i])||(se("Query.onSnapshot",r=e[i],["includeMetadataChanges"]),Z("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),no(e[i])?n=e[i]:(X("Query.onSnapshot","function",i,e[i]),$("Query.onSnapshot","function",i+1,e[i+1]),$("Query.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(r,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Qi({next:function(e){t.next&&t.next(new Lo(n.firestore,n._query,e))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,e);return function(){i.mute(),o.unlisten(a)}},e.prototype.get=function(e){var t=this;return G("Query.get",arguments,0,1),Uo("Query.get",e),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then((function(e){n(new Lo(t.firestore,t._query,e))}),r):t.getViaSnapshotListener(n,r,e)}))},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?t(new F(M,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(i)},error:t})},e.prototype.validateNewFilter=function(e){if(e instanceof lt)if(e.isInequality()){var t=this._query.getInequalityFilterField();if(null!==t&&!t.isEqual(e.field))throw new F(E,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+t.toString()+"' and '"+e.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(e.field,n)}else if(e.op===ct.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new F(E,"Invalid query. Queries only support a single array-contains filter.")},e.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},e.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new F(E,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},e}(),Lo=function(){function e(e,t,n){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Do(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;G("QuerySnapshot.forEach",arguments,1,2),X("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach((function(r){e.call(t,n.convertToDocumentImpl(r))}))},Object.defineProperty(e.prototype,"query",{get:function(){return new Ro(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),e.prototype.docChanges=function(e){e&&(se("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),Z("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this._snapshot.excludesMetadataChanges)throw new F(E,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map((function(t){var o=new Po(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key));return g(t.type===Zt.Added,"Invalid event type for first snapshot"),g(!r||n.query.docComparator(r,t.doc)<0,"Got added events in wrong order"),r=t.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}}))}var o=n.oldDocs;return n.docChanges.filter((function(e){return t||e.type!==Zt.Metadata})).map((function(t){var r=new Po(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key)),i=-1,a=-1;return t.type!==Zt.Added&&(g((i=o.indexOf(t.doc.key))>=0,"Index for document not found"),o=o.delete(t.doc.key)),t.type!==Zt.Removed&&(a=(o=o.add(t.doc)).indexOf(t.doc.key)),{type:qo(t.type),doc:r,oldIndex:i,newIndex:a}}))}(this._firestore,t,this._snapshot),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e.prototype.isEqual=function(t){if(!(t instanceof e))throw ue("isEqual","QuerySnapshot",1,t);return this._firestore===t._firestore&&this._originalQuery.isEqual(t._originalQuery)&&this._snapshot.isEqual(t._snapshot)},e.prototype.convertToDocumentImpl=function(e){return new Po(this._firestore,e.key,e,this.metadata.fromCache,this._snapshot.mutatedKeys.has(e.key))},e}();["length","forEach","map"].concat("undefined"!==typeof Symbol?[Symbol.iterator]:[]).forEach((function(e){try{Object.defineProperty(Lo.prototype.docChanges,e,{get:function(){return function(){throw new F(E,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}}));var Mo=function(e){function t(t,n){var r=e.call(this,st.atPath(t),n)||this;if(t.length%2!==1)throw new F(E,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.canonicalString()+" has "+t.length);return r}return s.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new Oo(new Ae(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if(G("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=fe.newId()),X("CollectionReference.doc","non-empty string",1,e),""===e)throw new F(E,"Document path must be a non-empty string");var t=Ce.fromString(e);return Oo.forPath(this._query.path.child(t),this.firestore)},t.prototype.add=function(e){H("CollectionReference.add",arguments,1),X("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then((function(){return t}))},t}(Ro);function jo(e,t){if(void 0===t)return{merge:!1};if(se(e,t,["merge","mergeFields"]),Z(e,"boolean","merge",t.merge),ee(e,"mergeFields","a string or a FieldPath",t.mergeFields,(function(e){return"string"===typeof e||e instanceof Gi})),void 0!==t.mergeFields&&void 0!==t.merge)throw new F(E,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Fo(e,t){return void 0===t?{}:(se(e,t,["serverTimestamps"]),te(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function Uo(e,t){$(e,"object",1,t),t&&(se(e,t,["source"]),te(e,0,"source",t.source,["default","server","cache"]))}function Bo(e,t,n){if(t instanceof Oo){if(t.firestore!==n)throw new F(E,"Provided document reference is from a different Firestore instance.");return t}throw ue(e,"DocumentReference",1,t)}function qo(e){switch(e){case Zt.Added:return"added";case Zt.Modified:case Zt.Metadata:return"modified";case Zt.Removed:return"removed";default:return y("Unknown change type: "+e)}}var Vo=U(Io,"Use firebase.firestore() instead."),zo=U(xo,"Use firebase.firestore().runTransaction() instead."),Wo=U(Ao,"Use firebase.firestore().batch() instead."),Ko=U(Oo,"Use firebase.firestore().doc() instead."),Ho=U(No),Qo=U(Po),Go=U(Ro),Yo=U(Lo),Xo=U(Mo,"Use firebase.firestore().collection() instead."),$o={Firestore:Vo,GeoPoint:_e,Timestamp:Te,Blob:we,Transaction:zo,WriteBatch:Wo,DocumentReference:Ko,DocumentSnapshot:Ho,Query:Go,QueryDocumentSnapshot:Qo,QuerySnapshot:Yo,CollectionReference:Xo,FieldPath:Gi,FieldValue:lo,setLogLevel:Io.setLogLevel,CACHE_SIZE_UNLIMITED:Eo};function Jo(e){e.INTERNAL.registerService("firestore",(function(e){return new Io(e)}),function(e){g(e&&"object"===typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}($o))}function Zo(e){Jo(e)}Zo(o),t.registerFirestore=Zo},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"ErrorCode",(function(){return ur})),n.d(t,"EventType",(function(){return cr})),n.d(t,"WebChannel",(function(){return lr})),n.d(t,"XhrIo",(function(){return fr})),n.d(t,"createWebChannelTransport",(function(){return sr}));var r,i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},o=o||{},a=i;function s(e){return"string"==typeof e}function u(e){return"number"==typeof e}function c(e,t){e=e.split("."),t=t||a;for(var n=0;n<e.length;n++)if(null==(t=t[e[n]]))return null;return t}function l(){}function f(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function h(e){return"array"==f(e)}function d(e){var t=f(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var m="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(e,t,n){return e.call.apply(e.bind,arguments)}function g(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:g).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var _=Date.now||function(){return+new Date};function T(e,t){function n(){}n.prototype=t.prototype,e.N=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.yb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function S(){this.j=this.j,this.i=this.i}S.prototype.j=!1,S.prototype.la=function(){if(!this.j&&(this.j=!0,this.G(),0))this[m]||(this[m]=++v)},S.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var E=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(s(e))return s(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},k=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=s(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function C(e){return Array.prototype.concat.apply([],arguments)}function I(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function x(e){return/^[\s\xa0]*$/.test(e)}var A,O=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function D(e,t){return-1!=e.indexOf(t)}function N(e,t){return e<t?-1:e>t?1:0}e:{var P=a.navigator;if(P){var R=P.userAgent;if(R){A=R;break e}}A=""}function L(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function M(e){var t,n={};for(t in e)n[t]=e[t];return n}var j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<j.length;o++)n=j[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function U(e){return U[" "](e),e}U[" "]=l;var B,q=D(A,"Opera"),V=D(A,"Trident")||D(A,"MSIE"),z=D(A,"Edge"),W=z||V,K=D(A,"Gecko")&&!(D(A.toLowerCase(),"webkit")&&!D(A,"Edge"))&&!(D(A,"Trident")||D(A,"MSIE"))&&!D(A,"Edge"),H=D(A.toLowerCase(),"webkit")&&!D(A,"Edge");function Q(){var e=a.document;return e?e.documentMode:void 0}e:{var G="",Y=function(){var e=A;return K?/rv:([^\);]+)(\)|;)/.exec(e):z?/Edge\/([\d\.]+)/.exec(e):V?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):H?/WebKit\/(\S+)/.exec(e):q?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Y&&(G=Y?Y[1]:""),V){var X=Q();if(null!=X&&X>parseFloat(G)){B=String(X);break e}}B=G}var $,J={};function Z(e){return function(e,t){var n=J;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=O(String(B)).split("."),r=O(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=N(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||N(0==a[2].length,0==s[2].length)||N(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}var ee=a.document;$=ee&&V?Q()||("CSS1Compat"==ee.compatMode?parseInt(B,10):5):void 0;var te=!V||9<=Number($),ne=V&&!Z("9"),re=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",l,t),a.removeEventListener("test",l,t)}catch(n){}return e}();function ie(e,t){this.type=e,this.a=this.target=t,this.Ja=!0}function oe(e,t){if(ie.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(K){e:{try{U(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=s(e.pointerType)?e.pointerType:ae[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}ie.prototype.b=function(){this.Ja=!1},T(oe,ie);var ae={2:"touch",3:"pen",4:"mouse"};oe.prototype.b=function(){oe.N.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,ne)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var se="closure_listenable_"+(1e6*Math.random()|0),ue=0;function ce(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.da=i,this.key=++ue,this.X=this.Z=!1}function le(e){e.X=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function fe(e){this.src=e,this.a={},this.b=0}function he(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=E(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(le(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function de(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.X&&o.listener==t&&o.capture==!!n&&o.da==r)return i}return-1}fe.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=de(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new ce(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var pe="closure_lm_"+(1e6*Math.random()|0),me={};function ve(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(h(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=Ee(r),t&&t[se]?t.Ba(n,r,p(i)?!!i.capture:!!i,o):ye(t,n,r,!0,i,o)}(e,t,n,r,i);if(h(t)){for(var o=0;o<t.length;o++)ve(e,t[o],n,r,i);return null}return n=Ee(n),e&&e[se]?e.Aa(t,n,p(r)?!!r.capture:!!r,i):ye(e,t,n,!1,r,i)}function ye(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i;if(a&&!te)return null;var s=Te(e);if(s||(e[pe]=s=new fe(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=_e,t=te?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)re||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(be(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ge(e){if(!u(e)&&e&&!e.X){var t=e.src;if(t&&t[se])he(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(be(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Te(t))?(he(n,e),0==n.b&&(n.src=null,t[pe]=null)):le(e)}}}function be(e){return e in me?me[e]:me[e]="on"+e}function we(e,t){var n=e.listener,r=e.da||e.src;return e.Z&&ge(e),n.call(r,t)}function _e(e,t){return!!e.X||(te?we(e,new oe(t,this)):we(e,t=new oe(t||c("window.event"),this)))}function Te(e){return(e=e[pe])instanceof fe?e:null}var Se="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ee(e){return"function"==f(e)?e:(e[Se]||(e[Se]=function(t){return e.handleEvent(t)}),e[Se])}function ke(){S.call(this),this.c=new fe(this),this.J=this,this.B=null}function Ce(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&he(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ja}T(ke,S),ke.prototype[se]=!0,(r=ke.prototype).addEventListener=function(e,t,n,r){ve(this,e,t,n,r)},r.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(h(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=p(i)?!!i.capture:!!i,r=Ee(r),t&&t[se]?(t=t.c,(n=String(n).toString())in t.a&&(-1<(r=de(a=t.a[n],r,i,o))&&(le(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.a[n],t.b--)))):t&&(t=Te(t))&&(n=t.a[n.toString()],t=-1,n&&(t=de(n,r,i,o)),(r=-1<t?n[t]:null)&&ge(r))}(this,e,t,n,r)},r.dispatchEvent=function(e){var t,n=this.B;if(n)for(t=[];n;n=n.B)t.push(n);n=this.J;var r=e.type||e;if(s(e))e=new ie(e,n);else if(e instanceof ie)e.target=e.target||n;else{var i=e;F(e=new ie(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.a=t[o];i=Ce(a,r,!0,e)&&i}if(i=Ce(a=e.a=n,r,!0,e)&&i,i=Ce(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Ce(a=e.a=t[o],r,!1,e)&&i;return i},r.G=function(){if(ke.N.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)le(n[r]);delete t.a[e],t.b--}}this.B=null},r.Aa=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},r.Ba=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Ie=a.JSON.stringify;function xe(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function Ae(){this.b=this.a=null}xe.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var Oe,De=new xe((function(){return new Pe}),(function(e){e.reset()}));function Ne(){var e=je,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Pe(){this.next=this.b=this.a=null}function Re(e){a.setTimeout((function(){throw e}),0)}function Le(e,t){Oe||function(){var e=a.Promise.resolve(void 0);Oe=function(){e.then(Fe)}}(),Me||(Oe(),Me=!0),je.add(e,t)}Ae.prototype.add=function(e,t){var n=De.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Pe.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Pe.prototype.reset=function(){this.next=this.b=this.a=null};var Me=!1,je=new Ae;function Fe(){for(var e;e=Ne();){try{e.a.call(e.b)}catch(n){Re(n)}var t=De;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Me=!1}function Ue(e,t){ke.call(this),this.b=e||1,this.a=t||a,this.f=b(this.gb,this),this.g=_()}function Be(e){e.ba=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function qe(e,t,n){if("function"==f(e))n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function Ve(e,t,n){S.call(this),this.f=null!=n?b(e,n):e,this.c=t,this.b=b(this.ab,this),this.a=[]}function ze(e){e.U=qe(e.b,e.c),e.f.apply(null,e.a)}function We(e){S.call(this),this.b=e,this.a={}}T(Ue,ke),(r=Ue.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var e=_()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Be(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=_())},r.G=function(){Ue.N.G.call(this),Be(this),delete this.a},T(Ve,S),(r=Ve.prototype).ea=!1,r.U=null,r.Ua=function(e){this.a=arguments,this.U?this.ea=!0:ze(this)},r.G=function(){Ve.N.G.call(this),this.U&&(a.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.ab=function(){this.U=null,this.ea&&(this.ea=!1,ze(this))},T(We,S);var Ke=[];function He(e,t,n,r){h(n)||(n&&(Ke[0]=n.toString()),n=Ke);for(var i=0;i<n.length;i++){var o=ve(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Qe(e){L(e.a,(function(e,t){this.a.hasOwnProperty(t)&&ge(e)}),e),e.a={}}function Ge(){}We.prototype.G=function(){We.N.G.call(this),Qe(this)},We.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ye=new ke;function Xe(e){ie.call(this,"serverreachability",e)}function $e(e){Ye.dispatchEvent(new Xe(Ye,e))}function Je(e){ie.call(this,"statevent",e)}function Ze(e){Ye.dispatchEvent(new Je(Ye,e))}function et(e){ie.call(this,"timingevent",e)}function tt(e,t){if("function"!=f(e))throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){e()}),t)}T(Xe,ie),T(Je,ie),T(et,ie);var nt={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},rt={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function it(){}function ot(e){var t;return(t=e.a)||(t=e.a={}),t}function at(){}it.prototype.a=null;var st,ut={OPEN:"a",ib:"b",Na:"c",rb:"d"};function ct(){ie.call(this,"d")}function lt(){ie.call(this,"c")}function ft(){}function ht(e,t,n){this.g=e,this.W=t,this.V=n||1,this.I=new We(this),this.O=dt,e=W?125:void 0,this.P=new Ue(e),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}T(ct,ie),T(lt,ie),T(ft,it),st=new ft;var dt=45e3,pt={},mt={};function vt(e,t,n){e.F=1,e.f=qt(Rt(t)),e.l=n,e.H=!0,gt(e,null)}function yt(e,t,n,r){e.F=1,e.f=qt(Rt(t)),e.l=null,e.H=n,gt(e,r)}function gt(e,t){e.v=_(),_t(e),e.D=Rt(e.f),Bt(e.D,"t",e.V),e.A=0,e.a=e.g.$(e.g.Y()?t:null),0<e.J&&(e.B=new Ve(b(e.Ka,e,e.a),e.J)),He(e.I,e.a,"readystatechange",e.eb),t=e.h?M(e.h):{},e.l?(e.w||(e.w="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ca(e.D,e.w,e.l,t)):(e.w="GET",e.a.ca(e.D,e.w,null,t)),$e(1)}function bt(e,t,n){for(var r=!0;!e.m&&e.A<n.length;){var i=wt(e,n);if(i==mt){4==t&&(e.c=4,Ze(14),r=!1);break}if(i==pt){e.c=4,Ze(15),r=!1;break}Ct(e,i)}4==t&&0==n.length&&(e.c=1,Ze(16),r=!1),e.b=e.b&&r,r||(kt(e),Et(e))}function wt(e,t){var n=e.A,r=t.indexOf("\n",n);return-1==r?mt:(n=Number(t.substring(n,r)),isNaN(n)?pt:(r+=1)+n>t.length?mt:(t=t.substr(r,n),e.A=r+n,t))}function _t(e){e.R=_()+e.O,Tt(e,e.O)}function Tt(e,t){if(null!=e.i)throw Error("WatchDog timer not null");e.i=tt(b(e.bb,e),t)}function St(e){e.i&&(a.clearTimeout(e.i),e.i=null)}function Et(e){e.g.Da()||e.m||e.g.na(e)}function kt(e){St(e);var t=e.B;t&&"function"==typeof t.la&&t.la(),e.B=null,Be(e.P),Qe(e.I),e.a&&(t=e.a,e.a=null,t.abort(),t.la())}function Ct(e,t){try{e.g.Ga(e,t),$e(4)}catch(n){}}function It(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||s(e))k(e,t,void 0);else{if(e.K&&"function"==typeof e.K)var n=e.K();else if(e.C&&"function"==typeof e.C)n=void 0;else if(d(e)||s(e)){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.C&&"function"==typeof e.C)return e.C();if(s(e))return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function xt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof xt)for(n=e.K(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function At(e,t){Dt(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Ot(e))}function Ot(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Dt(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Dt(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Dt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=ht.prototype).setTimeout=function(e){this.O=e},r.eb=function(e){e=e.target;var t=this.B;t&&3==Rn(e)?t.Ua():this.Ka(e)},r.Ka=function(e){try{if(e==this.a)e:{var t=Rn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>t||3==t&&!W&&!this.a.aa())){this.m||4!=t||7==n||$e(8==n||0>=r?3:2),St(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){t:{if(this.a){var a=Ln(this.a,"X-HTTP-Initial-Response");if(a&&!x(a)){var s=a;break t}}s=null}if(!s){this.b=!1,this.c=3,Ze(12),kt(this),Et(this);break e}this.s=!0,Ct(this,s)}this.H?(bt(this,t,o),W&&this.b&&3==t&&(He(this.I,this.P,"tick",this.cb),this.P.start())):Ct(this,o),4==t&&kt(this),this.b&&!this.m&&(4==t?this.g.na(this):(this.b=!1,_t(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Ze(12)):(this.c=0,Ze(13)),kt(this),Et(this)}}}catch(u){}},r.cb=function(){if(this.a){var e=Rn(this.a),t=this.a.aa();this.A<t.length&&(St(this),bt(this,e,t),this.b&&4!=e&&_t(this))}},r.cancel=function(){this.m=!0,kt(this)},r.bb=function(){this.i=null;var e=_();0<=e-this.R?(2!=this.F&&($e(3),Ze(17)),kt(this),this.c=2,Et(this)):Tt(this,this.R-e)},(r=xt.prototype).C=function(){Ot(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},r.K=function(){return Ot(this),this.a.concat()},r.get=function(e,t){return Dt(this.b,e)?this.b[e]:t},r.set=function(e,t){Dt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},r.forEach=function(e,t){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Nt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pt(e,t){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,e instanceof Pt?(this.h=void 0!==t?t:e.h,Lt(this,e.f),this.j=e.j,Mt(this,e.b),jt(this,e.i),this.a=e.a,Ft(this,tn(e.c)),this.g=e.g):e&&(n=String(e).match(Nt))?(this.h=!!t,Lt(this,n[1]||"",!0),this.j=Vt(n[2]||""),Mt(this,n[3]||"",!0),jt(this,n[4]),this.a=Vt(n[5]||"",!0),Ft(this,n[6]||"",!0),this.g=Vt(n[7]||"")):(this.h=!!t,this.c=new Xt(null,this.h))}function Rt(e){return new Pt(e)}function Lt(e,t,n){e.f=n?Vt(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Mt(e,t,n){e.b=n?Vt(t,!0):t}function jt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.i=t}else e.i=null}function Ft(e,t,n){t instanceof Xt?(e.c=t,function(e,t){t&&!e.f&&($t(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Jt(this,t),en(this,n,e))}),e)),e.f=t}(e.c,e.h)):(n||(t=zt(t,Gt)),e.c=new Xt(t,e.h))}function Ut(e,t,n){e.c.set(t,n)}function Bt(e,t,n){h(n)||(n=[String(n)]),en(e.c,t,n)}function qt(e){return Ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),e}function Vt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zt(e,t,n){return s(e)?(e=encodeURI(e).replace(t,Wt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Pt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(zt(t,Kt,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(zt(t,Kt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(zt(n,"/"==n.charAt(0)?Qt:Ht,!0))),(n=this.c.toString())&&e.push("?",n),(n=this.g)&&e.push("#",zt(n,Yt)),e.join("")},Pt.prototype.resolve=function(e){var t=Rt(this),n=!!e.f;n?Lt(t,e.f):n=!!e.j,n?t.j=e.j:n=!!e.b,n?Mt(t,e.b):n=null!=e.i;var r=e.a;if(n)jt(t,e.i);else if(n=!!e.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=t.a.lastIndexOf("/");-1!=i&&(r=t.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(D(i,"./")||D(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.a=r:n=""!==e.c.toString(),n?Ft(t,tn(e.c)):n=!!e.g,n&&(t.g=e.g),t};var Kt=/[#\/\?@]/g,Ht=/[#\?:]/g,Qt=/[#\?]/g,Gt=/[#\?@]/g,Yt=/#/g;function Xt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function $t(e){e.a||(e.a=new xt,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Jt(e,t){$t(e),t=nn(e,t),Dt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,At(e.a,t))}function Zt(e,t){return $t(e),t=nn(e,t),Dt(e.a.b,t)}function en(e,t,n){Jt(e,t),0<n.length&&(e.c=null,e.a.set(nn(e,t),I(n)),e.b+=n.length)}function tn(e){var t=new Xt;return t.c=e.c,e.a&&(t.a=new xt(e.a),t.b=e.b),t}function nn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function rn(e){this.a=e,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function on(e){var t=e.a.F.a;if(null!=t)Ze(4),t?(Ze(10),Qn(e.a,e,!1)):(Ze(11),Qn(e.a,e,!0));else{e.b=new ht(e,void 0,void 0),e.b.h=e.h,t=Jn(t=e.a,t.Y()?e.f:null,e.i),Ze(4),Bt(t,"TYPE","xmlhttp");var n=e.a.j,r=e.a.I;n&&r&&Ut(t,n,r),yt(e.b,t,!1,e.f)}}function an(){this.a=this.b=null}function sn(){this.a=new xt}function un(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[m]||(e[m]=++v)):t.charAt(0)+e}function cn(e,t){this.b=e,this.a=t}function ln(e){this.g=e||fn,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.ka&&a.ka.Ea&&a.ka.Ea()&&a.ka.Ea().zb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new sn),this.b=null,this.c=[]}(r=Xt.prototype).add=function(e,t){$t(this),this.c=null,e=nn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},r.forEach=function(e,t){$t(this),this.a.forEach((function(n,r){k(n,(function(n){e.call(t,n,r,this)}),this)}),this)},r.K=function(){$t(this);for(var e=this.a.C(),t=this.a.K(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},r.C=function(e){$t(this);var t=[];if(s(e))Zt(this,e)&&(t=C(t,this.a.get(nn(this,e))));else{e=this.a.C();for(var n=0;n<e.length;n++)t=C(t,e[n])}return t},r.set=function(e,t){return $t(this),this.c=null,Zt(this,e=nn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},r.get=function(e,t){return e&&0<(e=this.C(e)).length?String(e[0]):t},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")},T((function(){}),(function(){})),(r=rn.prototype).M=null,r.$=function(e){return this.a.$(e)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Da=function(){return!1},r.Ga=function(e,t){if(this.c=e.o,0==this.M){if(!this.a.o&&(e=e.a)){var n=Ln(e,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(e=Ln(e,"X-HTTP-Session-Id"))&&(this.a.I=e)}if(t){try{var r=this.a.ja.a.parse(t)}catch(i){return(t=this.a).m=this.c,void Xn(t,2)}this.f=r[0]}else(t=this.a).m=this.c,Xn(t,2)}else 1==this.M&&(this.g?Ze(6):"11111"==t?(Ze(5),this.g=!0,(!V||10<=Number($))&&(this.c=200,this.b.cancel(),Ze(11),Qn(this.a,this,!0))):(Ze(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,on(this)):1==this.M&&(this.g?(Ze(11),Qn(this.a,this,!0)):(Ze(10),Qn(this.a,this,!1)));else{0==this.M?Ze(8):1==this.M&&Ze(9);var e=this.a;e.m=this.c,Xn(e,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},sn.prototype.add=function(e){this.a.set(un(e),e)},sn.prototype.C=function(){return this.a.C()};var fn=10;function hn(e,t){!e.a&&(D(t,"spdy")||D(t,"quic")||D(t,"h2"))&&(e.f=e.g,e.a=new sn,e.b&&(vn(e,e.b),e.b=null))}function dn(e){return!!e.b||!!e.a&&e.a.a.c>=e.f}function pn(e){return e.b?1:e.a?e.a.a.c:0}function mn(e,t){return e.b?e=e.b==t:e.a?(t=un(t),e=Dt(e.a.a.b,t)):e=!1,e}function vn(e,t){e.a?e.a.add(t):e.b=t}function yn(e,t){var n;e.b&&e.b==t?e.b=null:((n=e.a)&&(n=un(t),n=Dt(e.a.a.b,n)),n&&At(e.a.a,un(t)))}function gn(e){if(null!=e.b)return e.c.concat(e.b.j);if(null!=e.a&&0!=e.a.a.c){var t=e.c;return k(e.a.C(),(function(e){t=t.concat(e.j)})),t}return I(e.c)}function bn(){}function wn(){this.a=new bn}function _n(e,t,n){var r=n||"";try{It(e,(function(e,n){var i=e;p(e)&&(i=Ie(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Tn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}ln.prototype.cancel=function(){var e;this.c=gn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(k(this.a.C(),(function(e){e.cancel()})),(e=this.a.a).b={},e.a.length=0,e.c=0)},bn.prototype.stringify=function(e){return a.JSON.stringify(e,void 0)},bn.prototype.parse=function(e){return a.JSON.parse(e,void 0)};var Sn=a.JSON.parse;function En(e){ke.call(this),this.headers=new xt,this.H=e||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=kn,this.D=this.F=!1}T(En,ke);var kn="",Cn=/^https?$/i,In=["POST","PUT"];function xn(e){return"content-type"==e.toLowerCase()}function An(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,On(e),Nn(e)}function On(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Dn(e){if(e.b&&"undefined"!=typeof o&&(!e.s[1]||4!=Rn(e)||2!=e.T()))if(e.l&&4==Rn(e))qe(e.Fa,0,e);else if(e.dispatchEvent("readystatechange"),4==Rn(e)){e.b=!1;try{var t,n=e.T();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var s=String(e.A).match(Nt)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!Cn.test(s?s.toLowerCase():"")}t=i}t?(e.dispatchEvent("complete"),e.dispatchEvent("success")):(e.h=6,e.f=e.za()+" ["+e.T()+"]",On(e))}finally{Nn(e)}}}function Nn(e,t){if(e.a){Pn(e);var n=e.a,r=e.s[0]?l:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Pn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(a.clearTimeout(e.m),e.m=null)}function Rn(e){return e.a?e.a.readyState:0}function Ln(e,t){return e.a?e.a.getResponseHeader(t):null}function Mn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}if(r)return e;if(n=function(e){var t="";return L(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),s(e)){if(t=encodeURIComponent(String(t)),t+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=e.indexOf("#"))&&(n=e.length),0>(r=e.indexOf("?"))||r>n){r=n;var i=""}else i=e.substring(r+1,n);n=(e=[e.substr(0,r),i,e.substr(n)])[1],e[1]=t?n?n+"&"+t:t:n,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return Ut(e,t,n),e}function jn(e){this.f=[],this.F=new an,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!c("internalChannelParams.failFast",e),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=c("internalChannelParams.baseRetryDelayMs",e)||5e3,this.Sa=c("internalChannelParams.retryDelaySeedMs",e)||1e4,this.Qa=c("internalChannelParams.forwardChannelMaxRetries",e)||2,this.qa=c("internalChannelParams.forwardChannelRequestTimeoutMs",e)||2e4,this.La=e&&e.Ab||void 0,this.D=void 0,this.R=e&&e.supportsCrossDomainXhr||!1,this.H="",this.b=new ln(e&&e.concurrentRequestLimit),this.ja=new wn,this.o=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,(this.W=e&&e.fastHandshake||!1)&&!this.o&&(this.o=!0),e&&e.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Fn(e){if(Un(e),3==e.u){var t=e.P++,n=Rt(e.B);Ut(n,"SID",e.H),Ut(n,"RID",t),Ut(n,"TYPE","terminate"),zn(e,n),(t=new ht(e,t,void 0)).F=2,t.f=qt(Rt(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(t.f.toString(),"")),!n&&a.Image&&((new Image).src=t.f,n=!0),n||(t.a=t.g.$(null),t.a.ca(t.f)),t.v=_(),_t(t)}$n(e)}function Un(e){e.w&&(e.w.abort(),e.w=null),e.a&&(e.a.cancel(),e.a=null),e.l&&(a.clearTimeout(e.l),e.l=null),Gn(e),e.b.cancel(),e.h&&(u(e.h)&&a.clearTimeout(e.h),e.h=null)}function Bn(e,t){e.f.push(new cn(e.Ra++,t)),3==e.u&&qn(e)}function qn(e){dn(e.b)||e.h||(e.h=!0,Le(e.Ia,e),e.A=0)}function Vn(e,t){var n;n=t?t.W:e.P++;var r=Rt(e.B);Ut(r,"SID",e.H),Ut(r,"RID",n),Ut(r,"AID",e.O),zn(e,r),e.g&&e.i&&Mn(r,e.g,e.i),n=new ht(e,n,e.A+1),null===e.g&&(n.h=e.i),t&&(e.f=t.j.concat(e.f)),t=Wn(e,n,1e3),n.setTimeout(Math.round(.5*e.qa)+Math.round(.5*e.qa*Math.random())),vn(e.b,n),vt(n,r,t)}function zn(e,t){e.c&&It({},(function(e,n){Ut(t,n,e)}))}function Wn(e,t,n){n=Math.min(e.f.length,n);var r=e.c?b(e.c.Ta,e.c,e):null;e:for(var i=e.f,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{_n(l,a,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.f.splice(0,n),t.j=e,r}function Kn(e){e.a||e.l||(e.S=1,Le(e.Ha,e),e.v=0)}function Hn(e){return!(e.a||e.l||3<=e.v)&&(e.S++,e.l=tt(b(e.Ha,e),Yn(e,e.v)),e.v++,!0)}function Qn(e,t,n){var r=t.l;r&&hn(e.b,r),e.ia=e.oa&&n,e.m=t.c,e.B=Jn(e,null,e.ha),qn(e)}function Gn(e){null!=e.s&&(a.clearTimeout(e.s),e.s=null)}function Yn(e,t){var n=e.Oa+Math.floor(Math.random()*e.Sa);return e.ma()||(n*=2),n*t}function Xn(e,t){if(2==t){var n=null;e.c&&(n=null);var r=b(e.fb,e);n||(n=new Pt("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Lt(n,"https"),qt(n)),function(e,t){var n=new Ge;if(a.Image){var r=new Image;r.onload=w(Tn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=w(Tn,n,r,"TestLoadImage: error",!1,t),r.onabort=w(Tn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=w(Tn,n,r,"TestLoadImage: timeout",!1,t),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ze(2);e.u=0,e.c&&e.c.ta(t),$n(e),Un(e)}function $n(e){e.u=0,e.m=-1,e.c&&(0==gn(e.b).length&&0==e.f.length||(e.b.c.length=0,I(e.f),e.f.length=0),e.c.sa())}function Jn(e,t,n){var r=function(e){return e instanceof Pt?Rt(e):new Pt(e,void 0)}(n);if(""!=r.b)t&&Mt(r,t+"."+r.b),jt(r,r.i);else{var i,o=a.location;i=t?t+"."+o.hostname:o.hostname,r=function(e,t,n,r){var i=new Pt(null,void 0);return e&&Lt(i,e),t&&Mt(i,t),n&&jt(i,n),r&&(i.a=r),i}(o.protocol,i,+o.port,n)}return e.V&&L(e.V,(function(e,t){Ut(r,t,e)})),t=e.j,n=e.I,t&&n&&Ut(r,t,n),Ut(r,"VER",e.wa),zn(e,r),r}function Zn(){}function er(){if(V&&!(10<=Number($)))throw Error("Environmental error: no available transport.")}function tr(e,t){ke.call(this),this.a=new jn(t),this.g=e,this.m=t&&t.testUrl?t.testUrl:function(e){for(var t=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];if(0==i.lastIndexOf("/",0))t=i;else(r=""==t)||(r=0<=(r=t.length-1)&&t.indexOf("/",r)==r),t+=r?i:"/"+i}return t}(this.g,"test"),this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.i=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.xa&&(e?e["X-WebChannel-Client-Profile"]=t.xa:e={"X-WebChannel-Client-Profile":t.xa}),this.a.J=e,(e=t&&t.httpHeadersOverwriteParam)&&!x(e)&&(this.a.g=e),this.l=t&&t.supportsCrossDomainXhr||!1,this.h=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!x(t)&&(this.a.j=t,null!==(e=this.b)&&t in e&&(t in(e=this.b)&&delete e[t])),this.f=new ir(this)}function nr(e){ct.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function rr(){lt.call(this),this.status=1}function ir(e){this.a=e}(r=En.prototype).ca=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+e);t=t?t.toUpperCase():"GET",this.A=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?ot(this.H):ot(st),this.a.onreadystatechange=b(this.Fa,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(o){return void An(this,o)}e=n||"";var i=new xt(this.headers);r&&It(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=xn,n=e.length,r=s(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:s(e)?e.charAt(t):e[t]}(i.K()),n=a.FormData&&e instanceof a.FormData,!(0<=E(In,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Pn(this),0<this.o&&((this.D=function(e){return V&&Z(9)&&u(e.timeout)&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ca,this)):this.m=qe(this.Ca,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){An(this,o)}},r.Ca=function(){"undefined"!=typeof o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Nn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Nn(this,!0)),En.N.G.call(this)},r.Fa=function(){this.j||(this.w||this.l||this.g?Dn(this):this.$a())},r.$a=function(){Dn(this)},r.T=function(){try{return 2<Rn(this)?this.a.status:-1}catch(e){return-1}},r.za=function(){try{return 2<Rn(this)?this.a.statusText:""}catch(e){return""}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},r.Va=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Sn(t)}},r.ya=function(){return this.h},r.Ya=function(){return s(this.f)?this.f:String(this.f)},(r=jn.prototype).wa=8,r.u=1,r.Da=function(){return 0==this.u},r.Ia=function(e){if(this.h)if(this.h=null,1==this.u){if(!e){this.P=Math.floor(1e5*Math.random());var t,n=new ht(this,e=this.P++,void 0),r=this.i;if(this.J&&(r?F(r=M(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)e:{for(var i=t=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&s(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.f.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Wn(this,n,t),Ut(i=Rt(this.B),"RID",e),Ut(i,"CVER",22),this.o&&this.j&&Ut(i,"X-HTTP-Session-Id",this.j),zn(this,i),this.g&&r&&Mn(i,this.g,r),vn(this.b,n),this.W?(Ut(i,"$req",t),Ut(i,"SID","null"),n.S=!0,vt(n,i,null)):vt(n,i,t),this.u=2}}else 3==this.u&&(e?Vn(this,e):0==this.f.length||dn(this.b)||Vn(this))},r.Ha=function(){this.l=null,this.a=new ht(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var e=Rt(this.pa);Ut(e,"RID","rpc"),Ut(e,"SID",this.H),Ut(e,"CI",this.ia?"0":"1"),Ut(e,"AID",this.O),zn(this,e),Ut(e,"TYPE","xmlhttp"),this.g&&this.i&&Mn(e,this.g,this.i),this.D&&this.a.setTimeout(this.D),yt(this.a,e,!0,this.ga)},r.Ga=function(e,t){if(0!=this.u&&(this.a==e||mn(this.b,e)))if(this.m=e.o,!e.s&&mn(this.b,e)&&3==this.u){try{var n=this.ja.a.parse(t)}catch(o){n=null}if(h(n)&&3==n.length){if(0==(t=n)[0]){e:if(!this.l){if(this.a){if(!(this.a.v+3e3<e.v))break e;Gn(this),this.a.cancel(),this.a=null}Hn(this),Ze(18)}}else this.ra=t[1],0<this.ra-this.O&&37500>t[2]&&this.ia&&0==this.v&&!this.s&&(this.s=tt(b(this.Za,this),6e3));if(1>=pn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else Xn(this,11)}else if((e.s||this.a==e)&&Gn(this),!x(t))for(t=n=this.ja.a.parse(t),n=0;n<t.length;n++){var r=t[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&u(r)&&0<r&&(this.D=1.5*r),this.o&&(r=e.a)&&((i=Ln(r,"X-Client-Wire-Protocol"))&&hn(this.b,i),this.j&&(r=Ln(r,"X-HTTP-Session-Id")))&&(this.I=r,Ut(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=e,this.pa=Jn(this,this.Y()?this.ga:null,this.ha),r.s?(yn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(St(r),_t(r)),this.a=r):Kn(this),0<this.f.length&&qn(this)}else"stop"!=r[0]&&"close"!=r[0]||Xn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Xn(this,7):Fn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Hn(this),Ze(19))},r.na=function(e){var t=null;if(this.a==e){Gn(this),this.a=null;var n=2}else{if(!mn(this.b,e))return;t=e.j,yn(this.b,e),n=1}if(this.m=e.o,0!=this.u)if(e.b)1==n?(t=_()-e.v,Ye.dispatchEvent(new et(Ye,e.l?e.l.length:0,t,this.A)),qn(this)):Kn(this);else{var r=e.c;if(3==r||0==r&&0<this.m||!(1==n&&function(e,t){return!(pn(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.f=t.j.concat(e.f),!0):!(1==e.u||2==e.u||e.A>=(e.Pa?0:e.Qa))&&(e.h=tt(b(e.Ia,e,t),Yn(e,e.A)),e.A++,!0))}(this,e)||2==n&&Hn(this)))switch(t&&0<t.length&&(e=this.b,e.c=e.c.concat(t)),r){case 1:Xn(this,5);break;case 4:Xn(this,10);break;case 3:Xn(this,6);break;default:Xn(this,2)}}},r.fb=function(e){Ze(e?2:1)},r.$=function(e){if(e&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new En(this.La)).F=this.R,e},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=Zn.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Ta=function(){},er.prototype.a=function(e,t){return new tr(e,t)},T(tr,ke),(r=tr.prototype).addEventListener=function(e,t,n,r){tr.N.addEventListener.call(this,e,t,n,r)},r.removeEventListener=function(e,t,n,r){tr.N.removeEventListener.call(this,e,t,n,r)},r.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var e=this.a,t=this.m,n=this.g,r=this.b||void 0;Ze(0),e.ha=n,e.V=r||{},e.o&&(e.F.b=[],e.F.a=!1),e.w=new rn(e),null===e.g&&(e.w.h=e.i),n=t,e.g&&e.i&&(n=Mn(t,e.g,e.i)),(e=e.w).i=n,t=Jn(e.a,null,e.i),Ze(3),null!=(n=e.a.F.b)?(e.f=n[0],e.M=1,on(e)):(Bt(t,"MODE","init"),!e.a.o&&e.a.j&&Bt(t,"X-HTTP-Session-Id",e.a.j),e.b=new ht(e,void 0,void 0),e.b.h=e.h,yt(e.b,t,!1,null),e.M=0)},r.close=function(){Fn(this.a)},r.Xa=function(e){if(s(e)){var t={};t.__data__=e,Bn(this.a,t)}else this.h?((t={}).__data__=Ie(e),Bn(this.a,t)):Bn(this.a,e)},r.G=function(){this.a.c=null,delete this.f,Fn(this.a),delete this.a,tr.N.G.call(this)},T(nr,ct),T(rr,lt),T(ir,Zn),ir.prototype.va=function(){this.a.dispatchEvent("a")},ir.prototype.ua=function(e){this.a.dispatchEvent(new nr(e))},ir.prototype.ta=function(e){this.a.dispatchEvent(new rr(e))},ir.prototype.sa=function(){this.a.dispatchEvent("b")};var or=w((function(e,t){function n(){}n.prototype=e.prototype;var r=new n;return e.apply(r,Array.prototype.slice.call(arguments,1)),r}),er);er.prototype.createWebChannel=er.prototype.a,tr.prototype.send=tr.prototype.Xa,tr.prototype.open=tr.prototype.Wa,tr.prototype.close=tr.prototype.close,nt.NO_ERROR=0,nt.TIMEOUT=8,nt.HTTP_ERROR=6,rt.COMPLETE="complete",at.EventType=ut,ut.OPEN="a",ut.CLOSE="b",ut.ERROR="c",ut.MESSAGE="d",ke.prototype.listen=ke.prototype.Aa,En.prototype.listenOnce=En.prototype.Ba,En.prototype.getLastError=En.prototype.Ya,En.prototype.getLastErrorCode=En.prototype.ya,En.prototype.getStatus=En.prototype.T,En.prototype.getStatusText=En.prototype.za,En.prototype.getResponseJson=En.prototype.Va,En.prototype.getResponseText=En.prototype.aa,En.prototype.send=En.prototype.ca;var ar={createWebChannelTransport:or,ErrorCode:nt,EventType:rt,WebChannel:at,XhrIo:En},sr=ar.createWebChannelTransport,ur=ar.ErrorCode,cr=ar.EventType,lr=ar.WebChannel,fr=ar.XhrIo;t.default=ar}.call(this,n(15))},function(e,t){},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,i="/"===a.charAt(0))}return(i?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),a="/"===i(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var c=[];for(u=s;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=a+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(71))},function(e,t,n){"use strict";var r=n(163);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116;function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case c:return e;default:return t}}case v:case m:case o:return t}}}function g(e){return y(e)===h}t.typeOf=y,t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===u||e===s||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d)},t.isAsyncMode=function(e){return g(e)||y(e)===f},t.isConcurrentMode=g,t.isContextConsumer=function(e){return y(e)===l},t.isContextProvider=function(e){return y(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return y(e)===d},t.isFragment=function(e){return y(e)===a},t.isLazy=function(e){return y(e)===v},t.isMemo=function(e){return y(e)===m},t.isPortal=function(e){return y(e)===o},t.isProfiler=function(e){return y(e)===u},t.isStrictMode=function(e){return y(e)===s},t.isSuspense=function(e){return y(e)===p}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=n(168),i=n(32),o=n(75),a=n(52),s=n(76),u=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var l;if(l="string"===typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,l)))throw new Error(a[n]);this._dict_set=!0}}function l(e,t){var n=new c(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}c.prototype.push=function(e,t){var n,a,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"===typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===u.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(c),s.next_out=0,s.avail_out=c),1!==(n=r.deflate(s,a))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),s.avail_out=0,!0)},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=c,t.deflate=l,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,l(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,l(e,t)}},function(e,t,n){"use strict";var r,i=n(32),o=n(169),a=n(73),s=n(74),u=n(52);function c(e,t){return e.msg=u[t],t}function l(e){return(e<<1)-(e>4?9:0)}function f(e){for(var t=e.length;--t>=0;)e[t]=0}function h(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function d(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,h(e.strm)}function p(e,t){e.pending_buf[e.pending++]=t}function m(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function v(e,t,n,r){var o=e.avail_in;return o>r&&(o=r),0===o?0:(e.avail_in-=o,i.arraySet(t,e.input,e.next_in,o,n),1===e.state.wrap?e.adler=a(e.adler,t,o,n):2===e.state.wrap&&(e.adler=s(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)}function y(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,c=e.window,l=e.w_mask,f=e.prev,h=e.strstart+258,d=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===p&&c[n+a-1]===d&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<h);if(r=258-(h-o),o=h-258,r>a){if(e.match_start=t,a=r,r>=s)break;d=c[o+a-1],p=c[o+a]}}}while((t=f[t&l])>u&&0!==--i);return a<=e.lookahead?a:e.lookahead}function g(e){var t,n,r,o,a,s=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-262)){i.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=s?r-s:0}while(--n);t=n=s;do{r=e.prev[--t],e.prev[t]=r>=s?r-s:0}while(--n);o+=s}if(0===e.strm.avail_in)break;if(n=v(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=n,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+3-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function b(e,t){for(var n,r;;){if(e.lookahead<262){if(g(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=y(e,n)),e.match_length>=3)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}function w(e,t){for(var n,r,i;;){if(e.lookahead<262){if(g(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=y(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(d(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&d(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}function _(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function T(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function S(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):c(e,-2)}function E(e){var t,n=S(e);return 0===n&&((t=e.state).window_size=2*t.w_size,f(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function k(e,t,n,r,o,a){if(!e)return-2;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>9||8!==n||r<8||r>15||t<0||t>9||a<0||a>4)return c(e,-2);8===r&&(r=9);var u=new T;return e.state=u,u.strm=e,u.wrap=s,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=a,u.method=n,E(e)}r=[new _(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(g(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,d(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(d(e,!1),e.strm.avail_out),1)})),new _(4,4,8,4,b),new _(4,5,16,8,b),new _(4,6,32,32,b),new _(4,4,16,16,w),new _(8,16,32,32,w),new _(8,16,128,128,w),new _(8,32,128,256,w),new _(32,128,258,1024,w),new _(32,258,258,4096,w)],t.deflateInit=function(e,t){return k(e,t,8,15,8,0)},t.deflateInit2=k,t.deflateReset=E,t.deflateResetKeep=S,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},t.deflate=function(e,t){var n,i,a,u;if(!e||!e.state||t>5||t<0)return e?c(e,-2):-2;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return c(e,0===e.avail_out?-5:-2);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,p(i,31),p(i,139),p(i,8),i.gzhead?(p(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),p(i,255&i.gzhead.time),p(i,i.gzhead.time>>8&255),p(i,i.gzhead.time>>16&255),p(i,i.gzhead.time>>24&255),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(p(i,255&i.gzhead.extra.length),p(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(p(i,0),p(i,0),p(i,0),p(i,0),p(i,0),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,3),i.status=113);else{var v=8+(i.w_bits-8<<4)<<8;v|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(v|=32),v+=31-v%31,i.status=113,m(i,v),0!==i.strstart&&(m(i,e.adler>>>16),m(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),h(e),a=i.pending,i.pending!==i.pending_buf_size));)p(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),h(e),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,p(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),h(e),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,p(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&h(e),i.pending+2<=i.pending_buf_size&&(p(i,255&e.adler),p(i,e.adler>>8&255),e.adler=0,i.status=113)):i.status=113),0!==i.pending){if(h(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&l(t)<=l(n)&&4!==t)return c(e,-5);if(666===i.status&&0!==e.avail_in)return c(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var y=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(g(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=258){if(g(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+258;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=258-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==y&&4!==y||(i.status=666),1===y||3===y)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===y&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(f(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),h(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(p(i,255&e.adler),p(i,e.adler>>8&255),p(i,e.adler>>16&255),p(i,e.adler>>24&255),p(i,255&e.total_in),p(i,e.total_in>>8&255),p(i,e.total_in>>16&255),p(i,e.total_in>>24&255)):(m(i,e.adler>>>16),m(i,65535&e.adler)),h(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?c(e,-2):(e.state=null,113===t?c(e,-3):0):-2},t.deflateSetDictionary=function(e,t){var n,r,o,s,u,c,l,h,d=t.length;if(!e||!e.state)return-2;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return-2;for(1===s&&(e.adler=a(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(f(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,t,d-n.w_size,n.w_size,0),t=h,d=n.w_size),u=e.avail_in,c=e.next_in,l=e.input,e.avail_in=d,e.next_in=0,e.input=t,g(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,g(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=c,e.input=l,e.avail_in=u,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var r=n(32);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);i(c);var l=new Array(60);i(l);var f=new Array(512);i(f);var h=new Array(256);i(h);var d=new Array(29);i(d);var p,m,v,y=new Array(30);function g(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function b(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function w(e){return e<256?f[e]:f[256+(e>>>7)]}function _(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function T(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,_(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function S(e,t,n){T(e,n[2*t],n[2*t+1])}function E(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function k(e,t,n){var r,i,o=new Array(16),a=0;for(r=1;r<=15;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=E(o[s]++,s))}}function C(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function I(e){e.bi_valid>8?_(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function x(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function A(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&x(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!x(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function O(e,t,n){var r,i,s,u,c=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],i=e.pending_buf[e.l_buf+c],c++,0===r?S(e,i,t):(S(e,(s=h[i])+256+1,t),0!==(u=o[s])&&T(e,i-=d[s],u),S(e,s=w(--r),n),0!==(u=a[s])&&T(e,r-=y[s],u))}while(c<e.last_lit);S(e,256,t)}function D(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)A(e,o,n);i=u;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],A(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,A(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,u=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,f=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=u[2*u[2*(r=e.heap[n])+1]+1]+1)>p&&(o=p,m++),u[2*r+1]=o,r>c||(e.bl_count[o]++,a=0,r>=d&&(a=h[r-d]),s=u[2*r],e.opt_len+=s*(o+a),f&&(e.static_len+=s*(l[2*r+1]+a)));if(0!==m){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>c||(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(e,t),k(o,c,e.bl_count)}function N(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<u&&i===a||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4))}function P(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<u&&i===a)){if(s<c)do{S(e,i,e.bl_tree)}while(0!==--s);else 0!==i?(i!==o&&(S(e,i,e.bl_tree),s--),S(e,16,e.bl_tree),T(e,s-3,2)):s<=10?(S(e,17,e.bl_tree),T(e,s-3,3)):(S(e,18,e.bl_tree),T(e,s-11,7));s=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4)}}i(y);var R=!1;function L(e,t,n,i){T(e,0+(i?1:0),3),function(e,t,n,i){I(e),i&&(_(e,n),_(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){R||(!function(){var e,t,n,r,i,u=new Array(16);for(n=0,r=0;r<28;r++)for(d[r]=n,e=0;e<1<<o[r];e++)h[n++]=r;for(h[n-1]=r,i=0,r=0;r<16;r++)for(y[r]=i,e=0;e<1<<a[r];e++)f[i++]=r;for(i>>=7;r<30;r++)for(y[r]=i<<7,e=0;e<1<<a[r]-7;e++)f[256+i++]=r;for(t=0;t<=15;t++)u[t]=0;for(e=0;e<=143;)c[2*e+1]=8,e++,u[8]++;for(;e<=255;)c[2*e+1]=9,e++,u[9]++;for(;e<=279;)c[2*e+1]=7,e++,u[7]++;for(;e<=287;)c[2*e+1]=8,e++,u[8]++;for(k(c,287,u),e=0;e<30;e++)l[2*e+1]=5,l[2*e]=E(e,5);p=new g(c,o,257,286,15),m=new g(l,a,0,30,15),v=new g(new Array(0),s,0,19,7)}(),R=!0),e.l_desc=new b(e.dyn_ltree,p),e.d_desc=new b(e.dyn_dtree,m),e.bl_desc=new b(e.bl_tree,v),e.bi_buf=0,e.bi_valid=0,C(e)},t._tr_stored_block=L,t._tr_flush_block=function(e,t,n,r){var i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),D(e,e.l_desc),D(e,e.d_desc),a=function(e){var t;for(N(e,e.dyn_ltree,e.l_desc.max_code),N(e,e.dyn_dtree,e.d_desc.max_code),D(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*u[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?L(e,t,n,r):4===e.strategy||o===i?(T(e,2+(r?1:0),3),O(e,c,l)):(T(e,4+(r?1:0),3),function(e,t,n,r){var i;for(T(e,t-257,5),T(e,n-1,5),T(e,r-4,4),i=0;i<r;i++)T(e,e.bl_tree[2*u[i]+1],3);P(e,e.dyn_ltree,t-1),P(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),O(e,e.dyn_ltree,e.dyn_dtree)),C(e),r&&I(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(h[n]+256+1)]++,e.dyn_dtree[2*w(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){T(e,2,3),S(e,256,c),function(e){16===e.bi_valid?(_(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var r=n(171),i=n(32),o=n(75),a=n(77),s=n(52),u=n(76),c=n(174),l=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);if(this.header=new c,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(s[n])}function h(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}f.prototype.push=function(e,t){var n,s,u,c,f,h=this.strm,d=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"===typeof e?h.input=o.binstring2buf(e):"[object ArrayBuffer]"===l.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(d),h.next_out=0,h.avail_out=d),(n=r.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==a.Z_STREAM_END&&(0!==h.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(h.output,h.next_out),c=h.next_out-u,f=o.buf2string(h.output,u),h.next_out=c,h.avail_out=d-c,c&&i.arraySet(h.output,h.output,u,c,0),this.onData(f)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(m=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),h.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=f,t.inflate=h,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},t.ungzip=h},function(e,t,n){"use strict";var r=n(32),i=n(73),o=n(74),a=n(172),s=n(173);function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function l(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):-2}function f(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,l(e)):-2}function h(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,f(e))):-2}function d(e,t){var n,r;return e?(r=new c,e.state=r,r.window=null,0!==(n=h(e,t))&&(e.state=null),n):-2}var p,m,v=!0;function y(e){if(v){var t;for(p=new r.Buf32(512),m=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,p,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,m,0,e.work,{bits:5}),v=!1}e.lencode=p,e.lenbits=9,e.distcode=m,e.distbits=5}function g(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=f,t.inflateReset2=h,t.inflateResetKeep=l,t.inflateInit=function(e){return d(e,15)},t.inflateInit2=d,t.inflate=function(e,t){var n,c,l,f,h,d,p,m,v,b,w,_,T,S,E,k,C,I,x,A,O,D,N,P,R=0,L=new r.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(n=e.state).mode&&(n.mode=13),h=e.next_out,l=e.output,p=e.avail_out,f=e.next_in,c=e.input,d=e.avail_in,m=n.hold,v=n.bits,b=d,w=p,D=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;v<16;){if(0===d)break e;d--,m+=c[f++]<<v,v+=8}if(2&n.wrap&&35615===m){n.check=0,L[0]=255&m,L[1]=m>>>8&255,n.check=o(n.check,L,2,0),m=0,v=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!==(15&m)){e.msg="unknown compression method",n.mode=30;break}if(v-=4,O=8+(15&(m>>>=4)),0===n.wbits)n.wbits=O;else if(O>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<O,e.adler=n.check=1,n.mode=512&m?10:12,m=0,v=0;break;case 2:for(;v<16;){if(0===d)break e;d--,m+=c[f++]<<v,v+=8}if(n.flags=m,8!==(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(L[0]=255&m,L[1]=m>>>8&255,n.check=o(n.check,L,2,0)),m=0,v=0,n.mode=3;case 3:for(;v<32;){if(0===d)break e;d--,m+=c[f++]<<v,v+=8}n.head&&(n.head.time=m),512&n.flags&&(L[0]=255&m,L[1]=m>>>8&255,L[2]=m>>>16&255,L[3]=m>>>24&255,n.check=o(n.check,L,4,0)),m=0,v=0,n.mode=4;case 4:for(;v<16;){if(0===d)break e;d--,m+=c[f++]<<v,v+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(L[0]=255&m,L[1]=m>>>8&255,n.check=o(n.check,L,2,0)),m=0,v=0,n.mode=5;case 5:if(1024&n.flags){for(;v<16;){if(0===d)break e;d--,m+=c[f++]<<v,v+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(L[0]=255&m,L[1]=m>>>8&255,n.check=o(n.check,L,2,0)),m=0,v=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((_=n.length)>d&&(_=d),_&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,c,f,_,O)),512&n.flags&&(n.check=o(n.check,c,_,f)),d-=_,f+=_,n.length-=_),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===d)break e;_=0;do{O=c[f+_++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O))}while(O&&_<d);if(512&n.flags&&(n.check=o(n.check,c,_,f)),d-=_,f+=_,O)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===d)break e;_=0;do{O=c[f+_++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O))}while(O&&_<d);if(512&n.flags&&(n.check=o(n.check,c,_,f)),d-=_,f+=_,O)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;v<16;){if(0===d)break e;d--,m+=c[f++]<<v,v+=8}if(m!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}m=0,v=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;v<32;){if(0===d)break e;d--,m+=c[f++]<<v,v+=8}e.adler=n.check=u(m),m=0,v=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=h,e.avail_out=p,e.next_in=f,e.avail_in=d,n.hold=m,n.bits=v,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){m>>>=7&v,v-=7&v,n.mode=27;break}for(;v<3;){if(0===d)break e;d--,m+=c[f++]<<v,v+=8}switch(n.last=1&m,v-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(y(n),n.mode=20,6===t){m>>>=2,v-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}m>>>=2,v-=2;break;case 14:for(m>>>=7&v,v-=7&v;v<32;){if(0===d)break e;d--,m+=c[f++]<<v,v+=8}if((65535&m)!==(m>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,m=0,v=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(_=n.length){if(_>d&&(_=d),_>p&&(_=p),0===_)break e;r.arraySet(l,c,f,_,h),d-=_,f+=_,p-=_,h+=_,n.length-=_;break}n.mode=12;break;case 17:for(;v<14;){if(0===d)break e;d--,m+=c[f++]<<v,v+=8}if(n.nlen=257+(31&m),m>>>=5,v-=5,n.ndist=1+(31&m),m>>>=5,v-=5,n.ncode=4+(15&m),m>>>=4,v-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;v<3;){if(0===d)break e;d--,m+=c[f++]<<v,v+=8}n.lens[M[n.have++]]=7&m,m>>>=3,v-=3}for(;n.have<19;)n.lens[M[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,N={bits:n.lenbits},D=s(0,n.lens,0,19,n.lencode,0,n.work,N),n.lenbits=N.bits,D){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;k=(R=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,C=65535&R,!((E=R>>>24)<=v);){if(0===d)break e;d--,m+=c[f++]<<v,v+=8}if(C<16)m>>>=E,v-=E,n.lens[n.have++]=C;else{if(16===C){for(P=E+2;v<P;){if(0===d)break e;d--,m+=c[f++]<<v,v+=8}if(m>>>=E,v-=E,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}O=n.lens[n.have-1],_=3+(3&m),m>>>=2,v-=2}else if(17===C){for(P=E+3;v<P;){if(0===d)break e;d--,m+=c[f++]<<v,v+=8}v-=E,O=0,_=3+(7&(m>>>=E)),m>>>=3,v-=3}else{for(P=E+7;v<P;){if(0===d)break e;d--,m+=c[f++]<<v,v+=8}v-=E,O=0,_=11+(127&(m>>>=E)),m>>>=7,v-=7}if(n.have+_>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;_--;)n.lens[n.have++]=O}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,N={bits:n.lenbits},D=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,N),n.lenbits=N.bits,D){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,N={bits:n.distbits},D=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N),n.distbits=N.bits,D){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(d>=6&&p>=258){e.next_out=h,e.avail_out=p,e.next_in=f,e.avail_in=d,n.hold=m,n.bits=v,a(e,w),h=e.next_out,l=e.output,p=e.avail_out,f=e.next_in,c=e.input,d=e.avail_in,m=n.hold,v=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;k=(R=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,C=65535&R,!((E=R>>>24)<=v);){if(0===d)break e;d--,m+=c[f++]<<v,v+=8}if(k&&0===(240&k)){for(I=E,x=k,A=C;k=(R=n.lencode[A+((m&(1<<I+x)-1)>>I)])>>>16&255,C=65535&R,!(I+(E=R>>>24)<=v);){if(0===d)break e;d--,m+=c[f++]<<v,v+=8}m>>>=I,v-=I,n.back+=I}if(m>>>=E,v-=E,n.back+=E,n.length=C,0===k){n.mode=26;break}if(32&k){n.back=-1,n.mode=12;break}if(64&k){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&k,n.mode=22;case 22:if(n.extra){for(P=n.extra;v<P;){if(0===d)break e;d--,m+=c[f++]<<v,v+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,v-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;k=(R=n.distcode[m&(1<<n.distbits)-1])>>>16&255,C=65535&R,!((E=R>>>24)<=v);){if(0===d)break e;d--,m+=c[f++]<<v,v+=8}if(0===(240&k)){for(I=E,x=k,A=C;k=(R=n.distcode[A+((m&(1<<I+x)-1)>>I)])>>>16&255,C=65535&R,!(I+(E=R>>>24)<=v);){if(0===d)break e;d--,m+=c[f++]<<v,v+=8}m>>>=I,v-=I,n.back+=I}if(m>>>=E,v-=E,n.back+=E,64&k){e.msg="invalid distance code",n.mode=30;break}n.offset=C,n.extra=15&k,n.mode=24;case 24:if(n.extra){for(P=n.extra;v<P;){if(0===d)break e;d--,m+=c[f++]<<v,v+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,v-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===p)break e;if(_=w-p,n.offset>_){if((_=n.offset-_)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}_>n.wnext?(_-=n.wnext,T=n.wsize-_):T=n.wnext-_,_>n.length&&(_=n.length),S=n.window}else S=l,T=h-n.offset,_=n.length;_>p&&(_=p),p-=_,n.length-=_;do{l[h++]=S[T++]}while(--_);0===n.length&&(n.mode=21);break;case 26:if(0===p)break e;l[h++]=n.length,p--,n.mode=21;break;case 27:if(n.wrap){for(;v<32;){if(0===d)break e;d--,m|=c[f++]<<v,v+=8}if(w-=p,e.total_out+=w,n.total+=w,w&&(e.adler=n.check=n.flags?o(n.check,l,w,h-w):i(n.check,l,w,h-w)),w=p,(n.flags?m:u(m))!==n.check){e.msg="incorrect data check",n.mode=30;break}m=0,v=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;v<32;){if(0===d)break e;d--,m+=c[f++]<<v,v+=8}if(m!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}m=0,v=0}n.mode=29;case 29:D=1;break e;case 30:D=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=h,e.avail_out=p,e.next_in=f,e.avail_in=d,n.hold=m,n.bits=v,(n.wsize||w!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&g(e,e.output,e.next_out,w-e.avail_out)?(n.mode=31,-4):(b-=e.avail_in,w-=e.avail_out,e.total_in+=b,e.total_out+=w,n.total+=w,n.wrap&&w&&(e.adler=n.check=n.flags?o(n.check,l,w,e.next_out-w):i(n.check,l,w,e.next_out-w)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===b&&0===w||4===t)&&0===D&&(D=-5),D)},t.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0===(2&(n=e.state).wrap)?-2:(n.head=t,t.done=!1,0):-2},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?-2:11===n.mode&&i(1,t,r,0)!==n.check?-3:g(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,a,s,u,c,l,f,h,d,p,m,v,y,g,b,w,_,T,S,E,k,C;n=e.state,r=e.next_in,k=e.input,i=r+(e.avail_in-5),o=e.next_out,C=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),u=n.dmax,c=n.wsize,l=n.whave,f=n.wnext,h=n.window,d=n.hold,p=n.bits,m=n.lencode,v=n.distcode,y=(1<<n.lenbits)-1,g=(1<<n.distbits)-1;e:do{p<15&&(d+=k[r++]<<p,p+=8,d+=k[r++]<<p,p+=8),b=m[d&y];t:for(;;){if(d>>>=w=b>>>24,p-=w,0===(w=b>>>16&255))C[o++]=65535&b;else{if(!(16&w)){if(0===(64&w)){b=m[(65535&b)+(d&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}_=65535&b,(w&=15)&&(p<w&&(d+=k[r++]<<p,p+=8),_+=d&(1<<w)-1,d>>>=w,p-=w),p<15&&(d+=k[r++]<<p,p+=8,d+=k[r++]<<p,p+=8),b=v[d&g];n:for(;;){if(d>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0===(64&w)){b=v[(65535&b)+(d&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(T=65535&b,p<(w&=15)&&(d+=k[r++]<<p,(p+=8)<w&&(d+=k[r++]<<p,p+=8)),(T+=d&(1<<w)-1)>u){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=w,p-=w,T>(w=o-a)){if((w=T-w)>l&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(S=0,E=h,0===f){if(S+=c-w,w<_){_-=w;do{C[o++]=h[S++]}while(--w);S=o-T,E=C}}else if(f<w){if(S+=c+f-w,(w-=f)<_){_-=w;do{C[o++]=h[S++]}while(--w);if(S=0,f<_){_-=w=f;do{C[o++]=h[S++]}while(--w);S=o-T,E=C}}}else if(S+=f-w,w<_){_-=w;do{C[o++]=h[S++]}while(--w);S=o-T,E=C}for(;_>2;)C[o++]=E[S++],C[o++]=E[S++],C[o++]=E[S++],_-=3;_&&(C[o++]=E[S++],_>1&&(C[o++]=E[S++]))}else{S=o-T;do{C[o++]=C[S++],C[o++]=C[S++],C[o++]=C[S++],_-=3}while(_>2);_&&(C[o++]=C[S++],_>1&&(C[o++]=C[S++]))}break}}break}}while(r<i&&o<s);r-=_=p>>3,d&=(1<<(p-=_<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=d,n.bits=p}},function(e,t,n){"use strict";var r=n(32),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,u,c,l,f,h){var d,p,m,v,y,g,b,w,_,T=h.bits,S=0,E=0,k=0,C=0,I=0,x=0,A=0,O=0,D=0,N=0,P=null,R=0,L=new r.Buf16(16),M=new r.Buf16(16),j=null,F=0;for(S=0;S<=15;S++)L[S]=0;for(E=0;E<u;E++)L[t[n+E]]++;for(I=T,C=15;C>=1&&0===L[C];C--);if(I>C&&(I=C),0===C)return c[l++]=20971520,c[l++]=20971520,h.bits=1,0;for(k=1;k<C&&0===L[k];k++);for(I<k&&(I=k),O=1,S=1;S<=15;S++)if(O<<=1,(O-=L[S])<0)return-1;if(O>0&&(0===e||1!==C))return-1;for(M[1]=0,S=1;S<15;S++)M[S+1]=M[S]+L[S];for(E=0;E<u;E++)0!==t[n+E]&&(f[M[t[n+E]]++]=E);if(0===e?(P=j=f,g=19):1===e?(P=i,R-=257,j=o,F-=257,g=256):(P=a,j=s,g=-1),N=0,E=0,S=k,y=l,x=I,A=0,m=-1,v=(D=1<<I)-1,1===e&&D>852||2===e&&D>592)return 1;for(;;){b=S-A,f[E]<g?(w=0,_=f[E]):f[E]>g?(w=j[F+f[E]],_=P[R+f[E]]):(w=96,_=0),d=1<<S-A,k=p=1<<x;do{c[y+(N>>A)+(p-=d)]=b<<24|w<<16|_|0}while(0!==p);for(d=1<<S-1;N&d;)d>>=1;if(0!==d?(N&=d-1,N+=d):N=0,E++,0===--L[S]){if(S===C)break;S=t[n+f[E]]}if(S>I&&(N&v)!==m){for(0===A&&(A=I),y+=k,O=1<<(x=S-A);x+A<C&&!((O-=L[x+A])<=0);)x++,O<<=1;if(D+=1<<x,1===e&&D>852||2===e&&D>592)return 1;c[m=N&v]=I<<24|x<<16|y-l|0}}return 0!==N&&(c[y+N]=S-A<<24|64<<16|0),h.bits=I,0}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=c(i),a=c(n(21)),s=c(n(176)),u=c(n(177));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handlePreviousPage=function(e){var t=n.state.selected;e.preventDefault?e.preventDefault():e.returnValue=!1,t>0&&n.handlePageSelected(t-1,e)},n.handleNextPage=function(e){var t=n.state.selected,r=n.props.pageCount;e.preventDefault?e.preventDefault():e.returnValue=!1,t<r-1&&n.handlePageSelected(t+1,e)},n.handlePageSelected=function(e,t){t.preventDefault?t.preventDefault():t.returnValue=!1,n.state.selected!==e&&(n.setState({selected:e}),n.callCallback(e))},n.handleBreakClick=function(e,t){t.preventDefault?t.preventDefault():t.returnValue=!1;var r=n.state.selected;n.handlePageSelected(r<e?n.getForwardJump():n.getBackwardJump(),t)},n.callCallback=function(e){"undefined"!==typeof n.props.onPageChange&&"function"===typeof n.props.onPageChange&&n.props.onPageChange({selected:e})},n.pagination=function(){var e=[],t=n.props,r=t.pageRangeDisplayed,i=t.pageCount,a=t.marginPagesDisplayed,s=t.breakLabel,c=t.breakClassName,l=t.breakLinkClassName,f=n.state.selected;if(i<=r)for(var h=0;h<i;h++)e.push(n.getPageElement(h));else{var d=r/2,p=r-d;f>i-r/2?d=r-(p=i-f):f<r/2&&(p=r-(d=f));var m=void 0,v=void 0,y=void 0,g=function(e){return n.getPageElement(e)};for(m=0;m<i;m++)(v=m+1)<=a?e.push(g(m)):v>i-a?e.push(g(m)):m>=f-d&&m<=f+p?e.push(g(m)):s&&e[e.length-1]!==y&&(y=o.default.createElement(u.default,{key:m,breakLabel:s,breakClassName:c,breakLinkClassName:l,onClick:n.handleBreakClick.bind(null,m)}),e.push(y))}return e};var r=void 0;return r=e.initialPage?e.initialPage:e.forcePage?e.forcePage:0,n.state={selected:r},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.initialPage,n=e.disableInitialCallback,r=e.extraAriaContext;"undefined"===typeof t||n||this.callCallback(t),r&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead.")}},{key:"componentDidUpdate",value:function(e){"undefined"!==typeof this.props.forcePage&&this.props.forcePage!==e.forcePage&&this.setState({selected:this.props.forcePage})}},{key:"getForwardJump",value:function(){var e=this.state.selected,t=this.props,n=t.pageCount,r=e+t.pageRangeDisplayed;return r>=n?n-1:r}},{key:"getBackwardJump",value:function(){var e=this.state.selected-this.props.pageRangeDisplayed;return e<0?0:e}},{key:"hrefBuilder",value:function(e){var t=this.props,n=t.hrefBuilder,r=t.pageCount;if(n&&e!==this.state.selected&&e>=0&&e<r)return n(e+1)}},{key:"ariaLabelBuilder",value:function(e){var t=e===this.state.selected;if(this.props.ariaLabelBuilder&&e>=0&&e<this.props.pageCount){var n=this.props.ariaLabelBuilder(e+1,t);return this.props.extraAriaContext&&!t&&(n=n+" "+this.props.extraAriaContext),n}}},{key:"getPageElement",value:function(e){var t=this.state.selected,n=this.props,r=n.pageClassName,i=n.pageLinkClassName,a=n.activeClassName,u=n.activeLinkClassName,c=n.extraAriaContext;return o.default.createElement(s.default,{key:e,onClick:this.handlePageSelected.bind(null,e),selected:t===e,pageClassName:r,pageLinkClassName:i,activeClassName:a,activeLinkClassName:u,extraAriaContext:c,href:this.hrefBuilder(e),ariaLabel:this.ariaLabelBuilder(e),page:e+1})}},{key:"render",value:function(){var e=this.props,t=e.disabledClassName,n=e.previousClassName,r=e.nextClassName,i=e.pageCount,a=e.containerClassName,s=e.previousLinkClassName,u=e.previousLabel,c=e.nextLinkClassName,l=e.nextLabel,f=this.state.selected,h=n+(0===f?" "+t:""),d=r+(f===i-1?" "+t:""),p=0===f?"true":"false",m=f===i-1?"true":"false";return o.default.createElement("ul",{className:a},o.default.createElement("li",{className:h},o.default.createElement("a",{onClick:this.handlePreviousPage,className:s,href:this.hrefBuilder(f-1),tabIndex:"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":p},u)),this.pagination(),o.default.createElement("li",{className:d},o.default.createElement("a",{onClick:this.handleNextPage,className:c,href:this.hrefBuilder(f+1),tabIndex:"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":m},l)))}}]),t}(i.Component);l.propTypes={pageCount:a.default.number.isRequired,pageRangeDisplayed:a.default.number.isRequired,marginPagesDisplayed:a.default.number.isRequired,previousLabel:a.default.node,nextLabel:a.default.node,breakLabel:a.default.oneOfType([a.default.string,a.default.node]),hrefBuilder:a.default.func,onPageChange:a.default.func,initialPage:a.default.number,forcePage:a.default.number,disableInitialCallback:a.default.bool,containerClassName:a.default.string,pageClassName:a.default.string,pageLinkClassName:a.default.string,activeClassName:a.default.string,activeLinkClassName:a.default.string,previousClassName:a.default.string,nextClassName:a.default.string,previousLinkClassName:a.default.string,nextLinkClassName:a.default.string,disabledClassName:a.default.string,breakClassName:a.default.string,breakLinkClassName:a.default.string,extraAriaContext:a.default.string,ariaLabelBuilder:a.default.func},l.defaultProps={pageCount:10,pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousClassName:"previous",nextClassName:"next",previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",disabledClassName:"disabled",disableInitialCallback:!1},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(21));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=e.pageClassName,n=e.pageLinkClassName,i=e.onClick,o=e.href,a=e.ariaLabel||"Page "+e.page+(e.extraAriaContext?" "+e.extraAriaContext:""),s=null;return e.selected&&(s="page",a=e.ariaLabel||"Page "+e.page+" is your current page",t="undefined"!==typeof t?t+" "+e.activeClassName:e.activeClassName,"undefined"!==typeof n?"undefined"!==typeof e.activeLinkClassName&&(n=n+" "+e.activeLinkClassName):n=e.activeLinkClassName),r.default.createElement("li",{className:t},r.default.createElement("a",{onClick:i,role:"button",className:n,href:o,tabIndex:"0","aria-label":a,"aria-current":s,onKeyPress:i},e.page))};a.propTypes={onClick:i.default.func.isRequired,selected:i.default.bool.isRequired,pageClassName:i.default.string,pageLinkClassName:i.default.string,activeClassName:i.default.string,activeLinkClassName:i.default.string,extraAriaContext:i.default.string,href:i.default.string,ariaLabel:i.default.string,page:i.default.number.isRequired},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(21));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=e.breakLabel,n=e.breakClassName,i=e.breakLinkClassName,o=e.onClick,a=n||"break";return r.default.createElement("li",{className:a},r.default.createElement("a",{className:i,onClick:o,role:"button",tabIndex:"0",onKeyPress:o},t))};a.propTypes={breakLabel:i.default.oneOfType([i.default.string,i.default.node]),breakClassName:i.default.string,breakLinkClassName:i.default.string,onClick:i.default.func.isRequired},t.default=a},function(e,t,n){"use strict";var r=n(10),i=n.n(r),o=n(37),a=function(){function e(e,t){this.code_=C(e),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return e.prototype.codeProp=function(){return this.code},e.prototype.codeEquals=function(e){return C(e)===this.codeProp()},e.prototype.serverResponseProp=function(){return this.serverResponse_},e.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(e.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),e}(),s="unknown",u="object-not-found",c="quota-exceeded",l="unauthenticated",f="unauthorized",h="retry-limit-exceeded",d="canceled",p="invalid-url",m="invalid-default-bucket",v="no-default-bucket",y="cannot-slice-blob",g="server-file-wrong-size",b="no-download-url",w="invalid-argument",_="invalid-argument-count",T="app-deleted",S="invalid-root-operation",E="invalid-format",k="internal-error";function C(e){return"storage/"+e}function I(){return new a(s,"An unknown error occurred, please check the error payload for server response.")}function x(){return new a(d,"User canceled the upload/download.")}function A(){return new a(y,"Cannot slice blob for upload. Please retry the upload.")}function O(){return new a(b,"The given file does not have any download URLs.")}function D(e,t,n){return new a(w,"Invalid argument in `"+t+"` at index "+e+": "+n)}function N(){return new a(T,"The Firebase app was deleted.")}function P(e,t){return new a(E,"String does not match format '"+e+"': "+t)}function R(e){throw new a(k,"Internal error: "+e)}var L={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function M(e){switch(e){case L.RAW:case L.BASE64:case L.BASE64URL:case L.DATA_URL:return;default:throw"Expected one of the event types: ["+L.RAW+", "+L.BASE64+", "+L.BASE64URL+", "+L.DATA_URL+"]."}}var j=function(e,t){this.data=e,this.contentType=t||null};function F(e,t){switch(e){case L.RAW:return new j(U(t));case L.BASE64:case L.BASE64URL:return new j(B(e,t));case L.DATA_URL:return new j(function(e){var t=new q(e);return t.base64?B(L.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw P(L.DATA_URL,"Malformed data URL.")}return U(t)}(t.rest)}(t),function(e){return new q(e).contentType}(t))}throw I()}function U(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function B(e,t){switch(e){case L.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw P(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case L.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw P(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(c){throw P(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var q=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw P(L.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i};var V,z={STATE_CHANGED:"state_changed"},W="running",K="pausing",H="paused",Q="success",G="canceling",Y="canceled",X="error",$={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function J(e){switch(e){case W:case K:case G:return $.RUNNING;case H:return $.PAUSED;case Q:return $.SUCCESS;case Y:return $.CANCELED;case X:default:return $.ERROR}}function Z(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ee(e,t){for(var n in e)Z(e,n)&&t(n,e[n])}function te(e){if(null==e)return{};var t={};return ee(e,(function(e,n){t[e]=n})),t}function ne(e){return new Promise(e)}function re(e){return Promise.resolve(e)}function ie(e){return null!=e}function oe(e){return void 0!==e}function ae(e){return"function"===typeof e}function se(e){return"object"===typeof e}function ue(e){return se(e)&&null!==e}function ce(e){return"string"===typeof e||e instanceof String}function le(e){return fe(e)&&Number.isInteger(e)}function fe(e){return"number"===typeof e||e instanceof Number}function he(e){return de()&&e instanceof Blob}function de(){return"undefined"!==typeof Blob}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(V||(V={}));var pe=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=V.NO_ERROR,this.sendPromise_=ne((function(t,n){e.xhr_.addEventListener("abort",(function(n){e.errorCode_=V.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(n){e.errorCode_=V.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(n){t(e)}))}))}return e.prototype.send=function(e,t,n,r){var i=this;if(this.sent_)throw R("cannot .send() more than once");(this.sent_=!0,this.xhr_.open(t,e,!0),ie(r))&&ee(r,(function(e,t){i.xhr_.setRequestHeader(e,t.toString())}));return ie(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw R("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw R("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw R("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){ie(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){ie(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},e}(),me=function(){function e(){}return e.prototype.createXhrIo=function(){return new pe},e}();function ve(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return se(n=t)&&!Array.isArray(n)?t:null}var ye=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch(r){return new e(t,"")}if(""===n.path)return n;throw new a(m,"Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t){var n=null;var r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");for(var i="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+i+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(e){e.path_=decodeURIComponent(e.path)}}],s=0;s<o.length;s++){var u=o[s],c=u.regex.exec(t);if(c){var l=c[u.indices.bucket],f=c[u.indices.path];f||(f=""),n=new e(l,f),u.postModify(n);break}}if(null==n)throw function(e){return new a(p,"Invalid URL '"+e+"'.")}(t);return n},e}();function ge(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}function be(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function we(e){return"https://firebasestorage.googleapis.com/v0"+e}function _e(e){var t=encodeURIComponent,n="?";return ee(e,(function(e,r){var i=t(e)+"="+t(r);n=n+i+"&"})),n=n.slice(0,-1)}function Te(e,t){return t}var Se=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Te},Ee=null;function ke(){if(Ee)return Ee;var e=[];e.push(new Se("bucket")),e.push(new Se("generation")),e.push(new Se("metageneration")),e.push(new Se("name","fullPath",!0));var t=new Se("name");t.xform=function(e,t){return function(e){return!ce(e)||e.length<2?e:be(e=e)}(t)},e.push(t);var n=new Se("size");return n.xform=function(e,t){return ie(t)?+t:t},e.push(n),e.push(new Se("timeCreated")),e.push(new Se("updated")),e.push(new Se("md5Hash",null,!0)),e.push(new Se("cacheControl",null,!0)),e.push(new Se("contentDisposition",null,!0)),e.push(new Se("contentEncoding",null,!0)),e.push(new Se("contentLanguage",null,!0)),e.push(new Se("contentType",null,!0)),e.push(new Se("metadata","customMetadata",!0)),Ee=e}function Ce(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new ye(n,r);return t.makeStorageReference(i)}})}(r,e),r}function Ie(e,t,n){var r=ve(t);return null===r?null:Ce(e,r,n)}function xe(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function Ae(e){if(!(e&&se(e)))throw"Expected Metadata object.";for(var t in e){var n=e[t];if("customMetadata"===t){if(!se(n))throw"Expected object for 'customMetadata' mapping."}else if(ue(n))throw"Mapping for '"+t+"' cannot be an object."}}function Oe(e,t){var n={prefixes:[],items:[],nextPageToken:t.nextPageToken},r=e.bucket();if(null===r)throw new a(v,"No default bucket found. Did you set the 'storageBucket' property when initializing the app?");if(t.prefixes)for(var i=0,o=t.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),u=e.makeStorageReference(new ye(r,s));n.prefixes.push(u)}if(t.items)for(var c=0,l=t.items;c<l.length;c++){var f=l[c];u=e.makeStorageReference(new ye(r,f.name));n.items.push(u)}return n}function De(e){if(!(e&&se(e)))throw"Expected ListOptions object.";for(var t in e)if("maxResults"===t){if(!le(e.maxResults)||e.maxResults<=0)throw"Expected maxResults to be a positive number.";if(e.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==t)throw"Unknown option: "+t;if(e.pageToken&&!ce(e.pageToken))throw"Expected pageToken to be string."}}function Ne(e,t,n){for(var r=t.length,i=t.length,o=0;o<t.length;o++)if(t[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw function(e,t,n,r){var i,o;return e===t?(i=e,o=1===e?"argument":"arguments"):(i="between "+e+" and "+t,o="arguments"),new a(_,"Invalid argument count in `"+n+"`: Expected "+i+" "+o+", received "+r+".")}(r,i,e,n.length);for(o=0;o<n.length;o++)try{t[o].validator(n[o])}catch(s){throw s instanceof Error?D(o,e,s.message):D(o,e,s)}}var Pe=function(e,t){var n=this;this.validator=function(t){n.optional&&!oe(t)||e(t)},this.optional=!!t};function Re(e,t){function n(e){if(!ce(e))throw"Expected string."}var r,i,o;return e?(i=n,o=e,r=function(e){i(e),o(e)}):r=n,new Pe(r,t)}function Le(){return new Pe((function(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||de()&&e instanceof Blob))throw"Expected Blob or File."}))}function Me(e){return new Pe(Ae,e)}function je(e){return new Pe(De,e)}function Fe(){return new Pe((function(e){if(!(fe(e)&&e>=0))throw"Expected a number 0 or greater."}))}function Ue(e,t){return new Pe((function(t){if(!(null===t||ie(t)&&t instanceof Object))throw"Expected an Object.";void 0!==e&&null!==e&&e(t)}),t)}function Be(e){return new Pe((function(e){if(!(null===e||ae(e)))throw"Expected a Function."}),e)}function qe(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Ve(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=qe();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(de())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}var ze=function(){function e(e,t){var n=0,r="";he(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(he(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(de()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(Ve.apply(null,r))}var i=t.map((function(e){return ce(e)?F(L.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function We(e,t){return-1!==e.indexOf(t)}var Ke=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function He(e){if(!e)throw I()}function Qe(e,t){return function(n,r){var i=Ie(e,r,t);return He(null!==i),i}}function Ge(e){return function(t,n){var r=function(e,t){var n=ve(t);return null===n?null:Oe(e,n)}(e,n);return He(null!==r),r}}function Ye(e,t){return function(n,r){var i=Ie(e,r,t);return He(null!==i),function(e,t){var n=ve(t);if(null===n)return null;if(!ce(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(t){var n=e.bucket,r=e.fullPath;return we("/b/"+i(n)+"/o/"+i(r))+_e({alt:"media",token:t})}))[0]}(i,r)}}function Xe(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=new a(l,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new a(c,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new a(f,"User does not have permission to access '"+i+"'.")):r=n,r.setServerResponseProp(n.serverResponseProp()),r}}function $e(e){var t=Xe(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new a(u,"Object '"+i+"' does not exist.")),o.setServerResponseProp(r.serverResponseProp()),o}}function Je(e,t,n){var r=we(t.fullServerUrl()),i=e.maxOperationRetryTime(),o=new Ke(r,"GET",Qe(e,n),i);return o.errorHandler=$e(t),o}function Ze(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=we(t.bucketOnlyServerUrl()),s=e.maxOperationRetryTime(),u=new Ke(a,"GET",Ge(e),s);return u.urlParams=o,u.errorHandler=Xe(t),u}function et(e,t,n){var r=we(t.fullServerUrl()),i=e.maxOperationRetryTime(),o=new Ke(r,"GET",Ye(e,n),i);return o.errorHandler=$e(t),o}function tt(e,t,n,r){var i=we(t.fullServerUrl()),o=xe(n,r),a=e.maxOperationRetryTime(),s=new Ke(i,"PATCH",Qe(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=$e(t),s}function nt(e,t){var n=we(t.fullServerUrl()),r=e.maxOperationRetryTime();var i=new Ke(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=$e(t),i}function rt(e,t,n){var r=te(n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var it=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function ot(e,t){var n;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){He(!1)}return He(We(t||["active"],n)),n}function at(e,t,n,r,i,o,s,u){var c=new it(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new a(g,"Server recorded incorrect upload file size, please retry the upload.");var l=c.total-c.current,f=l;i>0&&(f=Math.min(f,i));var h=c.current,d=h+f,p={"X-Goog-Upload-Command":f===l?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},m=r.slice(h,d);if(null===m)throw A();var v=t.maxUploadRetryTime(),y=new Ke(n,"POST",(function(e,n){var i,a=ot(e,["active","final"]),s=c.current+f,u=r.size();return i="final"===a?Qe(t,o)(e,n):null,new it(s,u,"final"===a,i)}),v);return y.headers=p,y.body=m.uploadData(),y.progressCallback=u||null,y.errorHandler=Xe(e),y}var st=function(e,t,n){if(ae(e)||ie(t)||ie(n))this.next=e,this.error=t||null,this.complete=n||null;else{var r=e;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},ut=function(e,t,n,r,i,o){this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=r,this.task=i,this.ref=o};function ct(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];re(!0).then((function(){e.apply(null,t)}))}}var lt=function(){function e(e,t,n,r,i,o){var a=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.authWrapper_=t,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=W,this.errorHandler_=function(e){a.request_=null,a.chunkMultiplier_=1,e.codeEquals(d)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=e,a.transition_(X))},this.metadataErrorHandler_=function(e){a.request_=null,e.codeEquals(d)?a.completeTransitions_():(a.error_=e,a.transition_(X))},this.promise_=ne((function(e,t){a.resolve_=e,a.reject_=t,a.start_()})),this.promise_.then(null,(function(){}))}return e.prototype.makeProgressCallback_=function(){var e=this,t=this.transferred_;return function(n,r){e.updateProgress_(t+n)}},e.prototype.shouldDoResumable_=function(e){return e.size()>262144},e.prototype.start_=function(){this.state_===W&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},e.prototype.resolveToken_=function(e){var t=this;this.authWrapper_.getAuthToken().then((function(n){switch(t.state_){case W:e(n);break;case G:t.transition_(Y);break;case K:t.transition_(H)}}))},e.prototype.createResumable_=function(){var e=this;this.resolveToken_((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=rt(t,r,i),s={name:a.fullPath},u=we(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=xe(a,n),f=e.maxUploadRetryTime(),h=new Ke(u,"POST",(function(e,t){var n;ot(e);try{n=e.getResponseHeader("X-Goog-Upload-URL")}catch(r){He(!1)}return He(ce(n)),n}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=Xe(t),h}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.uploadUrl_=t,e.needToFetchStatus_=!1,e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.fetchStatus_=function(){var e=this,t=this.uploadUrl_;this.resolveToken_((function(n){var r=function(e,t,n,r){var i=e.maxUploadRetryTime(),o=new Ke(n,"POST",(function(e,t){var n,i=ot(e,["active","final"]);try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){He(!1)}var o=parseInt(n,10);return He(!isNaN(o)),new it(o,r.size(),"final"===i)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Xe(t),o}(e.authWrapper_,e.location_,t,e.blob_),i=e.authWrapper_.makeRequest(r,n);e.request_=i,i.getPromise().then((function(t){t=t,e.request_=null,e.updateProgress_(t.current),e.needToFetchStatus_=!1,t.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.continueUpload_=function(){var e=this,t=262144*this.chunkMultiplier_,n=new it(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=at(e.location_,e.authWrapper_,r,e.blob_,t,e.mappings_,n,e.makeProgressCallback_())}catch(s){return e.error_=s,void e.transition_(X)}var a=e.authWrapper_.makeRequest(o,i);e.request_=a,a.getPromise().then((function(t){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(t.current),t.finalized?(e.metadata_=t.metadata,e.transition_(Q)):e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},e.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_((function(t){var n=Je(e.authWrapper_,e.location_,e.mappings_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.metadata_=t,e.transition_(Q)}),e.metadataErrorHandler_)}))},e.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=rt(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+xe(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=ze.getBlob(c,r,l);if(null===f)throw A();var h={name:u.fullPath},d=we(o),p=e.maxUploadRetryTime(),m=new Ke(d,"POST",Qe(e,n),p);return m.urlParams=h,m.headers=a,m.body=f.uploadData(),m.errorHandler=Xe(t),m}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.metadata_=t,e.updateProgress_(e.blob_.size()),e.transition_(Q)}),e.errorHandler_)}))},e.prototype.updateProgress_=function(e){var t=this.transferred_;this.transferred_=e,this.transferred_!==t&&this.notifyObservers_()},e.prototype.transition_=function(e){if(this.state_!==e)switch(e){case G:case K:this.state_=e,null!==this.request_&&this.request_.cancel();break;case W:var t=this.state_===H;this.state_=e,t&&(this.notifyObservers_(),this.start_());break;case H:this.state_=e,this.notifyObservers_();break;case Y:this.error_=x(),this.state_=e,this.notifyObservers_();break;case X:case Q:this.state_=e,this.notifyObservers_()}},e.prototype.completeTransitions_=function(){switch(this.state_){case K:this.transition_(H);break;case G:this.transition_(Y);break;case W:this.start_()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=J(this.state_);return new ut(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),e.prototype.on=function(e,t,n,r){function i(t){if(e!==z.STATE_CHANGED)throw"Expected one of the event types: ["+z.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",a=Be(!0).validator,s=Ue(null,!0).validator;function u(e){try{return void a(e)}catch(t){}try{if(s(e),!(oe(e.next)||oe(e.error)||oe(e.complete)))throw"";return}catch(t){throw o}}var c=[Re(i),Ue(u,!0),Be(!0),Be(!0)];Ne("on",c,arguments);var l=this;function f(e){return function(t,n,i){null!==e&&Ne("on",e,arguments);var o=new st(t,n,r);return l.addObserver_(o),function(){l.removeObserver_(o)}}}function h(e){if(null===e)throw o;u(e)}var d=[Ue(h),Be(!0),Be(!0)],p=!(oe(t)||oe(n)||oe(r));return p?f(d):f(null)(t,n,r)},e.prototype.then=function(e,t){return this.promise_.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},e.prototype.removeObserver_=function(e){!function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}(this.observers_,e)},e.prototype.notifyObservers_=function(){var e,t=this;this.finishPromise_(),(e=this.observers_,Array.prototype.slice.call(e)).forEach((function(e){t.notifyObserver_(e)}))},e.prototype.finishPromise_=function(){if(null!==this.resolve_){var e=!0;switch(J(this.state_)){case $.SUCCESS:ct(this.resolve_.bind(null,this.snapshot))();break;case $.CANCELED:case $.ERROR:ct(this.reject_.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}},e.prototype.notifyObserver_=function(e){switch(J(this.state_)){case $.RUNNING:case $.PAUSED:e.next&&ct(e.next.bind(e,this.snapshot))();break;case $.SUCCESS:e.complete&&ct(e.complete.bind(e))();break;case $.CANCELED:case $.ERROR:e.error&&ct(e.error.bind(e,this.error_))();break;default:e.error&&ct(e.error.bind(e,this.error_))()}},e.prototype.resume=function(){Ne("resume",[],arguments);var e=this.state_===H||this.state_===K;return e&&this.transition_(W),e},e.prototype.pause=function(){Ne("pause",[],arguments);var e=this.state_===W;return e&&this.transition_(K),e},e.prototype.cancel=function(){Ne("cancel",[],arguments);var e=this.state_===W||this.state_===K;return e&&this.transition_(G),e},e}(),ft=function(){function e(e,t){this.authWrapper=e,this.location=t instanceof ye?t:ye.makeFromUrl(t)}return e.prototype.toString=function(){return Ne("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},e.prototype.newRef=function(t,n){return new e(t,n)},e.prototype.mappings=function(){return ke()},e.prototype.child=function(e){Ne("child",[Re()],arguments);var t=ge(this.location.path,e),n=new ye(this.location.bucket,t);return this.newRef(this.authWrapper,n)},Object.defineProperty(e.prototype,"parent",{get:function(){var e=function(e){if(0==e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this.location.path);if(null===e)return null;var t=new ye(this.location.bucket,e);return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var e=new ye(this.location.bucket,"");return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return be(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),e.prototype.put=function(e,t){return void 0===t&&(t=null),Ne("put",[Le(),Me(!0)],arguments),this.throwIfRoot_("put"),new lt(this,this.authWrapper,this.location,this.mappings(),new ze(e),t)},e.prototype.putString=function(e,t,n){void 0===t&&(t=L.RAW),Ne("putString",[Re(),Re(M,!0),Me(!0)],arguments),this.throwIfRoot_("putString");var r=F(t,e),i=te(n);return!ie(i.contentType)&&ie(r.contentType)&&(i.contentType=r.contentType),new lt(this,this.authWrapper,this.location,this.mappings(),new ze(r.data,!0),i)},e.prototype.delete=function(){Ne("delete",[],arguments),this.throwIfRoot_("delete");var e=this;return this.authWrapper.getAuthToken().then((function(t){var n=nt(e.authWrapper,e.location);return e.authWrapper.makeRequest(n,t).getPromise()}))},e.prototype.listAll=function(){Ne("listAll",[],arguments);var e={prefixes:[],items:[]};return this.listAllHelper(e).then((function(){return e}))},e.prototype.listAllHelper=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:return i={pageToken:t},[4,this.list(i)];case 1:return a=o.sent(),(n=e.prefixes).push.apply(n,a.prefixes),(r=e.items).push.apply(r,a.items),null==a.nextPageToken?[3,3]:[4,this.listAllHelper(e,a.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},e.prototype.list=function(e){Ne("list",[je(!0)],arguments);var t=this;return this.authWrapper.getAuthToken().then((function(n){var r=e||{},i=Ze(t.authWrapper,t.location,"/",r.pageToken,r.maxResults);return t.authWrapper.makeRequest(i,n).getPromise()}))},e.prototype.getMetadata=function(){Ne("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var e=this;return this.authWrapper.getAuthToken().then((function(t){var n=Je(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise()}))},e.prototype.updateMetadata=function(e){Ne("updateMetadata",[Me()],arguments),this.throwIfRoot_("updateMetadata");var t=this;return this.authWrapper.getAuthToken().then((function(n){var r=tt(t.authWrapper,t.location,e,t.mappings());return t.authWrapper.makeRequest(r,n).getPromise()}))},e.prototype.getDownloadURL=function(){Ne("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL");var e=this;return this.authWrapper.getAuthToken().then((function(t){var n=et(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise().then((function(e){if(null===e)throw O();return e}))}))},e.prototype.throwIfRoot_=function(e){if(""===this.location.path)throw function(e){return new a(S,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)},e}(),ht=function(){function e(e){this.promise_=function(e){return Promise.reject(e)}(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){void 0===e&&(e=!1)},e}(),dt=function(){function e(){this.map_={},this.id_=-9007199254740991}return e.prototype.addRequest=function(e){var t=this.id_;this.id_++,this.map_[t]=e;var n=this;function r(){delete n.map_[t]}e.getPromise().then(r,r)},e.prototype.clear=function(){ee(this.map_,(function(e,t){t&&t.cancel(!0)})),this.map_={}},e}(),pt=function(){function e(t,n,r,i,o){if(this.bucket_=null,this.deleted_=!1,this.app_=t,null!==this.app_){var a=this.app_.options;ie(a)&&(this.bucket_=e.extractBucket_(a))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=o,this.service_=i,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e4,this.requestMap_=new dt}return e.extractBucket_=function(e){var t=e.storageBucket||null;return null==t?null:ye.makeFromBucketSpec(t).bucket},e.prototype.getAuthToken=function(){return null!==this.app_&&ie(this.app_.INTERNAL)&&ie(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then((function(e){return null!==e?e.accessToken:null}),(function(e){return null})):re(null)},e.prototype.bucket=function(){if(this.deleted_)throw N();return this.bucket_},e.prototype.service=function(){return this.service_},e.prototype.makeStorageReference=function(e){return this.storageRefMaker_(this,e)},e.prototype.makeRequest=function(e,t){if(this.deleted_)return new ht(N());var n=this.requestMaker_(e,t,this.pool_);return this.requestMap_.addRequest(n),n},e.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},e.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},e.prototype.setMaxUploadRetryTime=function(e){this.maxUploadRetryTime_=e},e.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},e.prototype.setMaxOperationRetryTime=function(e){this.maxOperationRetryTime_=e},e}();var mt=function(){function e(e,t,n,r,i,o,a,s,u,c,l){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l;var f=this;this.promise_=ne((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,s=n.xhr;if(n.wasSuccessCode)try{var u=e.callback_(s,s.getResponseText());oe(u)?i(u):i()}catch(c){o(c)}else null!==s?((r=I()).setServerResponseProp(s.getResponseText()),e.errorCallback_?o(e.errorCallback_(s,r)):o(r)):n.canceled?o(r=e.appDelete_?N():x()):o(r=new a(h,"Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new vt(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){u||(u=!0,t.apply(null,arguments))}function l(t){i=setTimeout((function(){i=null,e(f,s())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)c.apply(null,arguments);else{var i,f=s()||o;if(f)c.apply(null,arguments);else r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i)}}var h=!1;function d(e){h||(h=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new vt(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===V.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=We(e.successCodes_,o);t(!0,new vt(a,n))}else{var s=n.getErrorCode()===V.ABORT;t(!1,new vt(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=We([408,429],e),r=We(this.additionalRetryCodes_,e);return t||n||r},e}(),vt=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function yt(e,t,n){var r=_e(e.urlParams),o=e.url+r,a=te(e.headers);return function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(a,t),function(e){var t="undefined"!==typeof i.a?i.a.SDK_VERSION:"AppManager";e["X-Firebase-Storage-Version"]="webjs/"+t}(a),new mt(o,e.method,a,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,n)}var gt=function(){function e(e,t,n){if(this.bucket_=null,this.authWrapper_=new pt(e,(function(e,t){return new ft(e,t)}),yt,this,t),this.app_=e,null!=n)this.bucket_=ye.makeFromBucketSpec(n);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new ye(r,""))}this.internals_=new bt(this)}return e.prototype.ref=function(e){function t(e){if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."}if(Ne("ref",[Re(t,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new ft(this.authWrapper_,this.bucket_);return null!=e?n.child(e):n},e.prototype.refFromURL=function(e){function t(e){if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{ye.makeFromUrl(e)}catch(t){throw"Expected valid full URL but got an invalid one."}}return Ne("refFromURL",[Re(t,!1)],arguments),new ft(this.authWrapper_,e)},Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxUploadRetryTime=function(e){Ne("setMaxUploadRetryTime",[Fe()],arguments),this.authWrapper_.setMaxUploadRetryTime(e)},e.prototype.setMaxOperationRetryTime=function(e){Ne("setMaxOperationRetryTime",[Fe()],arguments),this.authWrapper_.setMaxOperationRetryTime(e)},Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),e}(),bt=function(){function e(e){this.service_=e}return e.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),re(void 0)},e}();function wt(e,t,n){return new gt(e,new me,n)}!function(e){var t={TaskState:$,TaskEvent:z,StringFormat:L,Storage:gt,Reference:ft};e.INTERNAL.registerService("storage",wt,t,void 0,!0)}(i.a)}]]);
//# sourceMappingURL=2.8e1c047a.chunk.js.map